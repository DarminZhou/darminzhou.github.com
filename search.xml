<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>搜索二维矩阵</title>
      <link href="/2020/04/21/sou-suo-er-wei-ju-zhen/"/>
      <url>/2020/04/21/sou-suo-er-wei-ju-zhen/</url>
      
        <content type="html"><![CDATA[<p>编写一个高效的算法来判断&nbsp;<em>m</em> x <em>n</em>&nbsp;矩阵中，是否存在一个目标值。该矩阵具有如下特性：</p><ul>    <li>每行中的整数从左到右按升序排列。</li>    <li>每行的第一个整数大于前一行的最后一个整数。</li></ul><p><strong>示例&nbsp;1:</strong></p><pre><strong>输入:</strong>matrix = [  [1,   3,  5,  7],  [10, 11, 16, 20],  [23, 30, 34, 50]]target = 3<strong>输出:</strong> true</pre><p><strong>示例&nbsp;2:</strong></p><pre><strong>输入:</strong>matrix = [  [1,   3,  5,  7],  [10, 11, 16, 20],  [23, 30, 34, 50]]target = 13<strong>输出:</strong> false</pre><div><div>Related Topics</div><div><li>数组</li><li>二分查找</li></div></div><a id="more"></a><p>先算全长，再除2，然后/%</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">      <span class="keyword">int</span> m = matrix.length;</span><br><span class="line">      <span class="keyword">if</span> (m== <span class="number">0</span>) {</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">int</span> n =matrix[<span class="number">0</span>].length;</span><br><span class="line">      <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">int</span> left = m*n-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">int</span> indexNum;</span><br><span class="line">      <span class="keyword">int</span> index ;</span><br><span class="line">      <span class="keyword">while</span> (right&lt;=left){</span><br><span class="line">          index =(right+left)/<span class="number">2</span>;</span><br><span class="line">          indexNum =matrix[index/n][index%n];</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (indexNum ==target){</span><br><span class="line">              <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">          }<span class="keyword">else</span> <span class="keyword">if</span>(indexNum&gt;target){</span><br><span class="line">              left=index-<span class="number">1</span>;</span><br><span class="line">          }<span class="keyword">else</span> {</span><br><span class="line">              right = index+<span class="number">1</span>;</span><br><span class="line">          }</span><br><span class="line"></span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>三数之和</title>
      <link href="/2020/04/19/san-shu-zhi-he/"/>
      <url>/2020/04/19/san-shu-zhi-he/</url>
      
        <content type="html"><![CDATA[<p>给你一个包含 <em>n</em> 个整数的数组&nbsp;<code>nums</code>，判断&nbsp;<code>nums</code>&nbsp;中是否存在三个元素 <em>a，b，c ，</em>使得&nbsp;<em>a + b + c = </em>0 ？请你找出所有满足条件且不重复的三元组。</p><p><strong>注意：</strong>答案中不可以包含重复的三元组。</p><p>&nbsp;</p><p><strong>示例：</strong></p><pre>给定数组 nums = [-1, 0, 1, 2, -1, -4]，满足要求的三元组集合为：[  [-1, 0, 1],  [-1, -1, 2]]</pre><div><div>Related Topics</div><div><li>数组</li><li>双指针</li></div></div><a id="more"></a>先排序，然后定点，双指针搜索。另外去重。<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] nums) {</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; rstList = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length - <span class="number">2</span>; i++) {</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; <span class="number">0</span>) {</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>]) {</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> first = i + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> end = nums.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (first &lt; end) {</span><br><span class="line">                <span class="keyword">int</span> temp = nums[i] + nums[first] + nums[end];</span><br><span class="line">                <span class="keyword">if</span> (temp &gt; <span class="number">0</span>) {</span><br><span class="line">                    end--;</span><br><span class="line">                } <span class="keyword">else</span> <span class="keyword">if</span> (temp &lt; <span class="number">0</span>) {</span><br><span class="line">                    first++;</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                    list.add(nums[i]);</span><br><span class="line">                    list.add(nums[first]);</span><br><span class="line">                    list.add(nums[end]);</span><br><span class="line">                    rstList.add(list);</span><br><span class="line">                    first++;</span><br><span class="line">                    end--;</span><br><span class="line">                    <span class="keyword">while</span> (first &lt; end &amp;&amp; nums[first] == nums[first - <span class="number">1</span>]) {</span><br><span class="line">                        first++;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="keyword">while</span> (first &lt; end &amp;&amp; nums[end] == nums[end + <span class="number">1</span>]) {</span><br><span class="line">                        end--;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> rstList;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Apollo核心概念</title>
      <link href="/2019/10/13/apollo-he-xin-gai-nian/"/>
      <url>/2019/10/13/apollo-he-xin-gai-nian/</url>
      
        <content type="html"><![CDATA[<p>携程框架Apollo概念介绍</p><a id="more"></a><h1 id="核心功能"><a href="#核心功能" class="headerlink" title="核心功能"></a>核心功能</h1><p>统一管理不同环境、不同集群的配置<br>配置修改实时生效（热发布）<br>版本发布管理</p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 开发者手册 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Apollo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ValidParentheses</title>
      <link href="/2019/09/22/validparentheses/"/>
      <url>/2019/09/22/validparentheses/</url>
      
        <content type="html"><![CDATA[<p>给定一个只包括 ‘(‘，’)’，’{‘，’}’，’[‘，’]’ 的字符串，判断字符串是否有效。</p><p>有效字符串需满足：</p><p>左括号必须用相同类型的右括号闭合。<br>左括号必须以正确的顺序闭合。<br>注意空字符串可被认为是有效字符串。   </p><a id="more"></a><p>解题思路：<br>1.用堆栈的数据结构处理括号的入栈与对比<br>2.用map存储键值对，来进行入栈与对比判断  </p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 给定一个只包括 '('，')'，'{'，'}'，'['，']'&nbsp;的字符串，判断字符串是否有效。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 有效字符串需满足：</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 左括号必须用相同类型的右括号闭合。</span></span><br><span class="line"><span class="comment"> * 左括号必须以正确的顺序闭合。</span></span><br><span class="line"><span class="comment"> * 注意空字符串可被认为是有效字符串。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ValidParentheses</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String [] args)</span></span>{</span><br><span class="line">        String str = <span class="string">"()[]{}"</span>;</span><br><span class="line">        System.out.println(checkValid(str));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">checkValid</span> <span class="params">(String str)</span></span>{</span><br><span class="line">        Stack&lt;Character&gt; stk = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        Map&lt;Character,Character&gt; map = <span class="keyword">new</span> HashMap() ;</span><br><span class="line">        map.put(<span class="string">')'</span>,<span class="string">'('</span>);</span><br><span class="line">        map.put(<span class="string">']'</span>,<span class="string">'['</span>);</span><br><span class="line">        map.put(<span class="string">'}'</span>,<span class="string">'{'</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i= <span class="number">0</span>;i&lt;str.length();i++){</span><br><span class="line">            <span class="keyword">if</span>(map.containsValue(str.charAt(i))){</span><br><span class="line">                stk.push(str.charAt(i));</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">if</span>(stk.peek().equals(map.get(str.charAt(i)))){</span><br><span class="line">                    stk.pop();</span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> stk.size()==<span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2019.9.22<br>晴天<br>百草园  </p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MissingRange</title>
      <link href="/2019/09/08/missingrange/"/>
      <url>/2019/09/08/missingrange/</url>
      
        <content type="html"><![CDATA[<p>  Given a sorted integer array where the range of elements are [0, 99] inclusive, return its<br>  missing ranges.<br>  For example, given [0, 1, 3, 50, 75]<br>  return [“2”, “4-&gt;49”, “51-&gt;74”, “76-&gt;99”]</p><a id="more"></a><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zdm.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Given a sorted integer array where the range of elements are [0, 99] inclusive, return its</span></span><br><span class="line"><span class="comment"> * missing ranges.</span></span><br><span class="line"><span class="comment"> * For example, given [0, 1, 3, 50, 75], return [“2”, “4-&gt;49”, “51-&gt;74”, “76-&gt;99”]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MissingRange</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">50</span>, <span class="number">75</span>};</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> up = <span class="number">99</span>;</span><br><span class="line">        List&lt;String&gt; rst = findMissingRange(arr, low, up);</span><br><span class="line">        System.out.print(rst.toString());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List <span class="title">findMissingRange</span><span class="params">(<span class="keyword">int</span>[] num, <span class="keyword">int</span> low, <span class="keyword">int</span> up)</span> </span>{</span><br><span class="line">        <span class="comment">// 定义返回值</span></span><br><span class="line">        List rst = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//处理异常</span></span><br><span class="line">        <span class="keyword">if</span> (num == <span class="keyword">null</span> || num.length == <span class="number">0</span>) {</span><br><span class="line">            rst.add(low + <span class="string">"-&gt;"</span> + up);</span><br><span class="line">            <span class="keyword">return</span> rst;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//do business</span></span><br><span class="line">        <span class="comment">//处理首</span></span><br><span class="line">        doAdd(rst, low, num[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//处理中间</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> pre = num[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt; num.length) {</span><br><span class="line">            <span class="keyword">int</span> cur = num[i];</span><br><span class="line">            <span class="keyword">if</span> (cur != pre + <span class="number">1</span>) {</span><br><span class="line">                doAdd(rst, pre, cur);</span><br><span class="line">            }</span><br><span class="line">            i++;</span><br><span class="line">            pre = cur;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//处理尾巴</span></span><br><span class="line">        doAdd(rst, num[num.length - <span class="number">1</span>], up + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> rst;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List <span class="title">doAdd</span><span class="params">(List rst, <span class="keyword">int</span> low, <span class="keyword">int</span> up)</span> </span>{</span><br><span class="line">        <span class="comment">//拼接</span></span><br><span class="line">        <span class="keyword">if</span> (low &lt; up &amp;&amp; (low + <span class="number">1</span>) &lt; up) {</span><br><span class="line">            <span class="keyword">if</span> ((up - low) == <span class="number">2</span>) {</span><br><span class="line">                rst.add((low + <span class="number">1</span>));</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                rst.add((low + <span class="number">1</span>) + <span class="string">"-&gt;"</span> + (up - <span class="number">1</span>));</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> rst;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>时间：2019年9月8日<br>地点：百草园<br>天气：雷雨<br>心情：平静…   </p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java知识增强</title>
      <link href="/2019/08/07/java-zhi-shi-zeng-qiang/"/>
      <url>/2019/08/07/java-zhi-shi-zeng-qiang/</url>
      
        <content type="html"><![CDATA[<p>每日一考！</p><a id="more"></a><ol><li><p>倒排索引</p></li><li><p>讲讲redis里面的哈希表？</p></li><li><p>happen-before的规则？</p></li><li><p>volatile修饰符，synchronize锁</p></li><li><p>java单例模式的实现，懒汉、饿汉？</p></li><li><p>进程与线程的区别，多进程和多线程的区别？</p></li><li><p>HashMap原理，为什么用红黑树，红黑树的特点？</p></li><li><p>快排时间空间复杂度，最好最坏的情况，优化方案？</p></li><li><p>TCP的拥塞控制，具体过程是怎么样的？UDP有拥塞控制吗？如何解决？</p></li><li><p>讲讲了解的垃圾回收算法和回收器，什么时候执行STOP THE WORLD？</p></li></ol><ol start="5"><li>讲一下最大堆和最小堆</li></ol><ol><li><p>LRU算法实现（伪代码）</p></li><li><p>链表倒数第K个数（讲思路）</p></li><li><p>一堆螺丝和螺母用最短时间匹配（代码实现）</p></li><li><p>求每天浏览页面的新用户（Hive QL实现）</p></li><li><p>求抖音小视频每日点击量最高的10个（Hash + 最小堆）</p></li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一次NZJ</title>
      <link href="/2019/05/13/di-yi-ci-nzj/"/>
      <url>/2019/05/13/di-yi-ci-nzj/</url>
      
        <content type="html"><![CDATA[<p>入我厂第一次沟，以后还需更加努力。</p><a id="more"></a><p>.23333</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 观点与感想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java知识点锦集</title>
      <link href="/2019/04/13/java-zhi-shi-dian-jin-ji/"/>
      <url>/2019/04/13/java-zhi-shi-dian-jin-ji/</url>
      
        <content type="html"><![CDATA[<p>知识锦集</p><a id="more"></a><h2 id="hashMap原理，java8做的改变"><a href="#hashMap原理，java8做的改变" class="headerlink" title="hashMap原理，java8做的改变"></a>hashMap原理，java8做的改变</h2><p>从结构实现来讲，HashMap是数组+链表+红黑树（JDK1.8增加了红黑树部分）实现的。HashMap最多只允许一条记录的键为null，允许多条记录的值为null。HashMap非线程安全。ConcurrentHashMap线程安全。解决碰撞：当出现冲突时，运用拉链法，将关键词为同义词的结点链接在一个单链表中，散列表长m，则定义一个由m个头指针组成的指针数组T，地址为i的结点插入以T(i)为头指针的单链表中。Java8中，冲突的元素超过限制（8），用红黑树替换链表。</p><h2 id="String-和-StringBuilder-的区别"><a href="#String-和-StringBuilder-的区别" class="headerlink" title="String 和 StringBuilder 的区别"></a>String 和 StringBuilder 的区别</h2><p>1）可变与不可变：String不可变，每一次执行“+”都会新生成一个新对象，所以频繁改变字符串的情况中不用String，以节省内存。<br>2）是否多线程安全：StringBuilder并没有对方法进行加同步锁，所以是非线程安全的。StringBuffer和String均线程安全。</p><img src="/2019/04/13/java-zhi-shi-dian-jin-ji/111.jpg" class="" title="Vha"><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>随想</title>
      <link href="/2019/04/10/sui-xiang/"/>
      <url>/2019/04/10/sui-xiang/</url>
      
        <content type="html"><![CDATA[<p>又到了一年一度域名续费的日子了</p><a id="more"></a><p>加入我厂也有大半年了，从一开始忙到飞起，体验做不完的活，每次想起这个就想到陈老师给形容的：工作就像打仗一样。<br>入我厂从一名Test做起，慢慢才开始做起开发，最近还搞起了设计，学到了Linux，sh，sql，angular，这些之前都很少接触，入我司半年，也算是小有所得。<br>记得刚来的时候，住的特别挫，居然租了一个10楼无电梯的小房子，OMG，想起去年脚扭伤了，泽林和华哥送我上楼，然后好几天都没下来过，不是不想下来看医生，是根本下不来…2333，确实没必要租这么挫的房子，后面在要排到百草园的前夕，实在是受不了，拔草了后面一栋的三楼一个房子，光线不错，不过下水系统设计的很随意，又排起了百草园的队。。。2333都是泪。<br>从去年年底开始看房子，到现在还没定好房子，发现钱在这个大件面前，真的好不值钱，想买的买不起，买的起的太郊区了，浪费钱。</p><p>博客好久没写了，还是好好学习吧，域名就不续了，除了自己访问一下，貌似也没啥用！</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 观点与感想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人人懂AI</title>
      <link href="/2019/03/03/ren-ren-dong-ai/"/>
      <url>/2019/03/03/ren-ren-dong-ai/</url>
      
        <content type="html"><![CDATA[<p>人人懂AI入门学习！</p><a id="more"></a><h2 id="神经网络"><a href="#神经网络" class="headerlink" title="神经网络"></a>神经网络</h2><h3 id="M-P-Model"><a href="#M-P-Model" class="headerlink" title="M-P Model"></a>M-P Model</h3><p>多参数，多权重学习模型</p><p>单层感知器：输入就输出的</p><h3 id="多层感知器"><a href="#多层感知器" class="headerlink" title="多层感知器"></a>多层感知器</h3><p>深度网络的前身。<br>输入层–隐含层–输出层</p><h3 id="Back-Propagetion-Algorithm"><a href="#Back-Propagetion-Algorithm" class="headerlink" title="Back Propagetion Algorithm"></a>Back Propagetion Algorithm</h3><p>前向计算输出，比较期望输出，得到误差，然后反向调整权项值，逼近阈值。</p><p>可以做车牌识别，</p><p>局限性：训练过程，局部最小，不是全局最小，收敛不了。和初始点选择有关，和全局下降速率有关。</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shell脚本学习与演练</title>
      <link href="/2018/10/14/shell-jiao-ben-xue-xi-yu-yan-lian/"/>
      <url>/2018/10/14/shell-jiao-ben-xue-xi-yu-yan-lian/</url>
      
        <content type="html"><![CDATA[<p>平时经常接触Linux的操作指导，是不是可以写个脚本一键式解决这些繁琐的操作呢？ok</p><a id="more"></a><h2 id="写一个简单脚本"><a href="#写一个简单脚本" class="headerlink" title="写一个简单脚本"></a>写一个简单脚本</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vi test1.sh</span><br><span class="line"></span><br><span class="line">······························test1.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">! /bin/bash</span></span><br><span class="line">echo "Hello !"</span><br><span class="line">······························</span><br><span class="line"></span><br><span class="line">chmod +x ./test1.sh</span><br><span class="line">./test1.sh</span><br></pre></td></tr></tbody></table></figure><h2 id="shell-变量"><a href="#shell-变量" class="headerlink" title="shell 变量"></a>shell 变量</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name="zzz"</span><br><span class="line">echo $your_name</span><br><span class="line">your_name="cccc"</span><br><span class="line">echo $your_name</span><br></pre></td></tr></tbody></table></figure><h2 id="字符串里写变量"><a href="#字符串里写变量" class="headerlink" title="字符串里写变量"></a>字符串里写变量</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">your_name='aaa'</span><br><span class="line">str="Hello, you are \"$your_name\"!"</span><br><span class="line">echo $str</span><br></pre></td></tr></tbody></table></figure><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">array_name=(value0 value1 value2 value3)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> or</span></span><br><span class="line">array_name=(</span><br><span class="line">value0</span><br><span class="line">value1</span><br><span class="line">value2</span><br><span class="line">value3</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 单个</span></span><br><span class="line">valuen=${array_name[n]}</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 所有元素</span></span><br><span class="line">echo ${array_name[@]}</span><br></pre></td></tr></tbody></table></figure><h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 不是单引号  是斜引号</span></span><br><span class="line"></span><br><span class="line">val=`expr 4 + 2`</span><br><span class="line">echo "and : $val"</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java之广度优先搜索算法</title>
      <link href="/2018/08/12/java-zhi-guang-du-you-xian-sou-suo-suan-fa/"/>
      <url>/2018/08/12/java-zhi-guang-du-you-xian-sou-suo-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>BFS，全称是Breadth First Search。 简单说就是图搜索算法。</p><a id="more"></a><h1 id="Word-Ladder"><a href="#Word-Ladder" class="headerlink" title="Word Ladder"></a>Word Ladder</h1><p>Given two words (beginWord and endWord), and a dictionary’s word list, find the length of shortest transformation sequence frombeginWord to endWord, such that:</p><p>Only one letter can be changed at a time<br>Each intermediate word must exist in the word list<br>For example,</p><p>Given:<br>beginWord = “hit”<br>endWord = “cog”<br>wordList = [“hot”,”dot”,”dog”,”lot”,”log”]</p><p>As one shortest transformation is “hit” -&gt; “hot” -&gt; “dot” -&gt; “dog” -&gt; “cog”,<br>return its length 5.</p><p>Note:</p><p>Return 0 if there is no such transformation sequence.<br>All words have the same length.<br>All words contain only lowercase alphabetic characters. </p><p>简单来说就是从一个单词出发，每次只改变一个字母，直到变到最后一个单词，求最短路径。</p><p>再简单点思考就是 hit—&gt;hot—&gt;lot/dot—&gt;log/dog—&gt;cog</p><p>思路就是用两个set,一个存老的单词，如果添加进路径，就删除；一个存路径。</p><p>循环终止条件是路径匹配到尾巴的目标单词；</p><p>关键代码</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLen</span><span class="params">(String beginWord ,String endWord ,List&lt;String&gt; wordList)</span></span>{</span><br><span class="line">    Set&lt;String&gt; wordSet = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;;</span><br><span class="line">    visited.add(beginWord);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//开始计算路径与清楚单词集合里的单词</span></span><br><span class="line">    <span class="comment">//算法终止条件</span></span><br><span class="line">    <span class="keyword">while</span>(!visited.contains(endWord)){</span><br><span class="line">        Set&lt;String&gt; temp = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String word:visited){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;word.length;i++){</span><br><span class="line">                <span class="keyword">char</span>[] chars=word.toCharArray();</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=(<span class="keyword">int</span>)<span class="string">'a'</span>;j&lt;(<span class="keyword">int</span>)<span class="string">'z'</span>+<span class="number">1</span>;j++){</span><br><span class="line">                    chars[i]=(<span class="keyword">char</span>)j;</span><br><span class="line">                    String newWord=<span class="keyword">new</span> String(chars);</span><br><span class="line">                    <span class="keyword">if</span>(wordSet.contains(newWord)){</span><br><span class="line">                        temp.add(newWord);</span><br><span class="line">                        wordSet.remove(newWord);</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        len += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(temp.size()==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        vistied=temp;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java之排序算法</title>
      <link href="/2018/08/06/java-zhi-pai-xu-suan-fa/"/>
      <url>/2018/08/06/java-zhi-pai-xu-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>排序，各种排序~</p><a id="more"></a><h1 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h1><h2 id="First-Missing-Positive"><a href="#First-Missing-Positive" class="headerlink" title="First Missing Positive"></a>First Missing Positive</h2><p>Given an unsorted integer array, find the first missing positive integer.</p><p>For example, given [1,2,0] return 3 and [3,4,-1,1] return 2.</p><p>Your algorithm should run in O(n) time and uses constant space.</p><p>分析：<br>本质上是桶排序，每当A[i]!=i+1时，A[i]与A[A[i]-1]交换，终止条件是A[i]==A[A[i]-1].</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstMissingPositive</span><span class="params">(<span class="keyword">int</span> [] nums)</span></span>{</span><br><span class="line">    bucket_sort(nums);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;++i){</span><br><span class="line">        <span class="keyword">if</span>(nums[i]!=(i+<span class="number">1</span>)){</span><br><span class="line">            <span class="keyword">return</span> i+<span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> nums.length+<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bucket_sort</span><span class="params">(<span class="keyword">int</span> [] A)</span></span>{</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> n=A.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n :i++){</span><br><span class="line">            <span class="keyword">while</span>(A[i]!=i+<span class="number">1</span>){</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(A[i]&lt;<span class="number">1</span> || A[i]&gt;n || A[i]==A[A[i]-<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">int</span> temp = A[i];</span><br><span class="line">                A[i]=A[temp-<span class="number">1</span>];</span><br><span class="line">                A[temp-<span class="number">1</span>]=temp;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java之二叉树算法</title>
      <link href="/2018/08/05/java-zhi-er-cha-shu-suan-fa/"/>
      <url>/2018/08/05/java-zhi-er-cha-shu-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>二叉树算法</p><a id="more"></a><h1 id="二叉查找树"><a href="#二叉查找树" class="headerlink" title="二叉查找树"></a>二叉查找树</h1><h2 id="Validate-Binary-Search-Tree-验证二叉搜索树"><a href="#Validate-Binary-Search-Tree-验证二叉搜索树" class="headerlink" title="Validate Binary Search Tree 验证二叉搜索树"></a>Validate Binary Search Tree 验证二叉搜索树</h2><p>Given a binary tree, determine if it is a valid binary search tree (BST).</p><p>Assume a BST is defined as follows:</p><p>The left subtree of a node contains only nodes with keys less than the node’s key.<br>The right subtree of a node contains only nodes with keys greater than the node’s key.<br>Both the left and right subtrees must also be binary search trees.</p><p>思路，用递归，左&lt;根&lt;右 &amp;&amp; 左根递归 &amp;&amp; 右根递归<br>关键代码</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root)</span></span>{</span><br><span class="line">    <span class="keyword">return</span> isValidBST(root,INT_MIN,INT_MAX);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">bool <span class="title">isValidBST</span> <span class="params">(TreeNode* root,<span class="keyword">int</span> lower ,<span class="keyword">int</span> upper )</span></span>{</span><br><span class="line">    <span class="keyword">if</span>(root == nullptr) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root.val&gt;lower &amp;&amp; root.val&lt;upper </span><br><span class="line">           &amp;&amp; isValidBST(root.left,lower,root.val)</span><br><span class="line">           &amp;&amp; isValidBST(root.right,root.val,upper);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java之数组算法</title>
      <link href="/2018/07/26/java-zhi-shu-zu-suan-fa/"/>
      <url>/2018/07/26/java-zhi-shu-zu-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>数组是常见的算法题，所以多做题，多总结，总是能找到idea的。</p><a id="more"></a><h2 id="Product-of-Array-Except-Self"><a href="#Product-of-Array-Except-Self" class="headerlink" title="Product of Array Except Self"></a>Product of Array Except Self</h2><p>Given an array of n integers where n &gt; 1, nums, return an array output such that output[i] is equal to the product of all the elements of nums except nums[i].</p><p>Solve it without division and in O(n).</p><p>For example, given [1,2,3,4], return [24,12,8,6].</p><p>Follow up:<br>Could you solve it with constant space complexity? (Note: The output array does not count as extra space for the purpose of space complexity analysis.)</p><p>思路：<br>首先，介绍方法： [1,a1,a12,a123].*[a234,a34,a4,1]=[a234,a134,a124,a123]<br>这个算法有个O(1)的思路:就是用常数的方法，从左边乘到右边，再取一个常数，从右边乘到左边</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//关键算法段</span></span><br><span class="line"></span><br><span class="line">left[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;num.length;++i){</span><br><span class="line">    left[i]=left[i-<span class="number">1</span>]*num[i-<span class="number">1</span>];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> right=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=num.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--){</span><br><span class="line">    left[i]*=right;   <span class="comment">//right 初始为1，每次乘完再迭代</span></span><br><span class="line">    right*=num[i];</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> left;</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Essence</title>
      <link href="/2018/07/24/essence/"/>
      <url>/2018/07/24/essence/</url>
      
        <content type="html"><![CDATA[<p>生活珠玑~</p><a id="more"></a><ol><li>尽量结合兴趣，选准方向，不要动摇，深入研究。</li><li>和牛人共事，和善良的人交友。</li><li>从此刻起，加上思考，梳理手头的todolist，把最重要的工作找出来，全身心突出亮点。</li><li>不问别人为什么，多问自己凭什么！      —by 2018/8/9</li></ol><h3 id="健康"><a href="#健康" class="headerlink" title="健康"></a>健康</h3><ol><li>不要熬夜，尽量少熬夜</li><li>锻炼身体</li><li>不抽烟，少饮酒</li><li>注意日常行为姿势</li><li>多吃健康食品，少吃外卖</li><li>不要用眼过度，注意眼睛的休息</li><li>注重心理健康</li><li>定期体检</li></ol><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><ol><li>建造强大的内心</li><li>尽早有理财念头</li><li>多出去走走</li><li>平和的心态面对一切</li><li>喜欢的东西要攒钱买下来</li><li>不要以为自己吃不胖</li><li>心本善，但是要有提防人的心</li></ol><h3 id="社交"><a href="#社交" class="headerlink" title="社交"></a>社交</h3><ol><li>增加自身的价值(有效社交)</li><li>不要盲目社交</li><li>注重对方的需求，不要一味索取</li><li>要多和人进行高质量的交流</li><li>不要勉强自己合群</li><li>分清自己的社交关系深浅</li><li>去掉一切不必要的应酬和饭局</li><li>不要急切的表达自己的观点，多听少说</li></ol><h3 id="人生"><a href="#人生" class="headerlink" title="人生"></a>人生</h3><ol><li>尽早做好人生规划(短期、长期)</li><li>建立正确的三观(学习、思考、实践)</li><li>趁年轻抓紧努力</li><li>要有自己的核心竞争力</li><li>别因为懒惰放弃能抓住的机会和挑战</li><li>要真正了解自己</li><li>别怕犯错和失败</li><li>不要自作聪明，恃才傲物</li><li>承担责任(社会、工作、家庭、自己的选择)</li><li>不要怕事，但别主动惹事</li><li>尽早进入社会历练</li><li>找到正确的平台比能力更重要</li><li>学会拒绝</li><li>不要轻易跳槽，但每次都要更上一个台阶</li><li>工作尽可能积累资源</li><li>要忠于自己，再忠于工作和公司</li><li>适当的妥协不丢人</li><li>要有长远的眼光，不要总是盯着眼前的利益</li></ol><h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><ol><li>勤学勤思考</li><li>多读书，广读书，读好书</li><li>迷茫的时候就学习</li><li>要有自己的专精</li><li>少刷手机</li><li>操作系统、网络、算法数据结构、离散数学、数据库原理与实践，这些看起来枯燥而无味的基础科学，要了解它们是必须付出非常多的时间才有可能理解通透些。而这些基础的扎实程度，就直接决定了你的高度。</li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 观点与感想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 观点与感想 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《Hadoop权威指南》 Notes</title>
      <link href="/2018/07/08/hadoop-quan-wei-zhi-nan-notes/"/>
      <url>/2018/07/08/hadoop-quan-wei-zhi-nan-notes/</url>
      
        <content type="html"><![CDATA[<p>业余读书笔记1</p><a id="more"></a><h1 id="初识Hadoop"><a href="#初识Hadoop" class="headerlink" title="初识Hadoop"></a>初识Hadoop</h1><p>Hadoop项目简述</p><ol><li>Common<ul><li>一组分布式文件系统和通用I/O的组件与接口(序列化、Java RPC 和持久化数据结构)。</li></ul></li><li>Avro<ul><li>一种支持高效、跨语言的RPC以及永久存储数据的序列化系统。</li></ul></li><li>MapReduce<ul><li>分布式数据处理模型和执行环境，运行于大型商用机集群。</li></ul></li><li>HDFS<ul><li>分布式文件系统，运行于大型商用机集群。</li></ul></li><li>Pig<ul><li>一种数据流语言和运行环境，用以检索非常大的数据集。Pig运行在MapReduce和HDFS的集群上。</li></ul></li><li>Hive<ul><li>一个分布式、按列存储的数据仓库。Hive管理HDFS中存储的数据，并提供基于SQL的查询语言以查询数据。</li></ul></li><li>HBase<ul><li>一个分布式、按列存储数据库。</li></ul></li><li>ZooKeeper<ul><li>一个分布式、可用性高的协调服务。</li></ul></li><li>Sqoop<ul><li>在数据库和HDFS之间高效传输数据的工具。</li></ul></li></ol><h1 id="关于MapReduce"><a href="#关于MapReduce" class="headerlink" title="关于MapReduce"></a>关于MapReduce</h1><h2 id="数据处理方法"><a href="#数据处理方法" class="headerlink" title="数据处理方法"></a>数据处理方法</h2><ul><li>将输入数据分成固定大小的块，然后把每块分配到各个进程，这样一来，即使有些进程能处理更多数据，我们也可以为他们分配更多的数据。</li><li>对每块数据进行处理，取每块中的最大值，作为每块的最高标准。</li><li>多台机器如何处理协调性和可靠性的问题。</li></ul><h2 id="查找最高气温的方法论"><a href="#查找最高气温的方法论" class="headerlink" title="查找最高气温的方法论"></a>查找最高气温的方法论</h2><ul><li>Hadoop自身提供一套可优化网络序列化传输的基本类型，在org.apache.hadoop.io包中。</li><li>map()方法的输入时一个键和一个值，首先将包含有一行输入的text值转换成java的String类型，之后使用subString()方法提取感兴趣的列。</li><li>map()方法还提供了OutputCollector实例用于输出内容的写入，在这种情况下，将年份按照Text对象进行读写，将气温值封装在IntWritable类型中。</li><li>测试气温数据是否缺失or显示为正确的气温读数。</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 读书笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Notes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java并发编程实战</title>
      <link href="/2018/06/16/java-bing-fa-bian-cheng-shi-zhan/"/>
      <url>/2018/06/16/java-bing-fa-bian-cheng-shi-zhan/</url>
      
        <content type="html"><![CDATA[<p>基于《Java并发编程实战》，作者Brain等。</p><a id="more"></a><h1 id="任务执行"><a href="#任务执行" class="headerlink" title="任务执行"></a>任务执行</h1><h2 id="顺序执行"><a href="#顺序执行" class="headerlink" title="顺序执行"></a>顺序执行</h2><p>SingleThreadWebServer顺序处理他的任务：接收到达80端口的HTTP请求</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingleThreadWebServer</span></span>{</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span><span class="keyword">throws</span> IOException</span>{</span><br><span class="line">    ServerSocket socket = <span class="keyword">new</span> ServerSocket(<span class="number">80</span>);</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>){</span><br><span class="line">    Socket connection = socket.accept();</span><br><span class="line">    handleRequest(connection);</span><br><span class="line">    }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="无限创建线程的缺点"><a href="#无限创建线程的缺点" class="headerlink" title="无限创建线程的缺点"></a>无限创建线程的缺点</h3><ol><li>线程生命周期的开销</li><li>资源消耗量、尤其是内存</li><li>稳定性差</li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 开发者手册 </category>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 并发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java实现彩色二维码</title>
      <link href="/2018/05/02/java-shi-xian-cai-se-er-wei-ma/"/>
      <url>/2018/05/02/java-shi-xian-cai-se-er-wei-ma/</url>
      
        <content type="html"><![CDATA[<p>使用Zxing库实现彩色二维码的生成，代码如下：</p><a id="more"></a><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.zxing.BarcodeFormat;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.EncodeHintType;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.MultiFormatWriter;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.client.j2se.MatrixToImageWriter;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.common.BitMatrix;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.qrcode.QRCodeWriter;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.qrcode.encoder.Encoder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Hashtable;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TexturedEncoderHandler</span> </span>{</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 编码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contents</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> width</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> height</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> imgPath</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">encode</span><span class="params">(String contents, <span class="keyword">int</span> width, <span class="keyword">int</span> height, ErrorCorrectionLevel level, String imgPath)</span> </span>{</span><br><span class="line">        Hashtable&lt;EncodeHintType, Object&gt; hints = <span class="keyword">new</span> Hashtable&lt;EncodeHintType, Object&gt;();</span><br><span class="line">        <span class="comment">// 指定纠错等级</span></span><br><span class="line">        hints.put(EncodeHintType.ERROR_CORRECTION,  level);</span><br><span class="line">        <span class="comment">// 指定编码格式</span></span><br><span class="line">        hints.put(EncodeHintType.CHARACTER_SET, <span class="string">"GBK"</span>);</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="keyword">int</span> [][] bitMatrix = <span class="keyword">new</span> QRCodeWriter().encode(contents, BarcodeFormat.QR_CODE, width, height, hints);</span><br><span class="line">            <span class="keyword">int</span> len=bitMatrix.length;</span><br><span class="line">            width=len*<span class="number">12</span>;</span><br><span class="line">            <span class="keyword">boolean</span> [][]matrixBoo=<span class="keyword">new</span> <span class="keyword">boolean</span>[width][width];</span><br><span class="line">            MyPic(bitMatrix,matrixBoo,imgPath);</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">MyPic</span><span class="params">(<span class="keyword">int</span> [][] bitmatrix,<span class="keyword">boolean</span> [][] matrixboo,String pathname)</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line">        BufferedImage matrix = <span class="keyword">new</span> BufferedImage(matrixboo.length , matrixboo[<span class="number">0</span>].length, BufferedImage.TYPE_INT_ARGB);</span><br><span class="line">        Random rand = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;bitmatrix.length;i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;bitmatrix[<span class="number">0</span>].length;j++){</span><br><span class="line">                <span class="keyword">if</span>(bitmatrix[i][j]==<span class="number">1</span>){</span><br><span class="line">                    <span class="keyword">int</span> rr= rand.nextInt(<span class="number">255</span>);</span><br><span class="line">                    <span class="keyword">int</span> gg= rand.nextInt(<span class="number">255</span>);</span><br><span class="line">                    <span class="keyword">int</span> bb= rand.nextInt(<span class="number">255</span>);</span><br><span class="line">                    Color color = <span class="keyword">new</span> Color(rr, gg, bb);</span><br><span class="line">                    <span class="keyword">int</span> colorInt = color.getRGB();</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> n=i*<span class="number">12</span>;n&lt;(i+<span class="number">1</span>)*<span class="number">12</span>;n++){</span><br><span class="line">                        <span class="keyword">for</span>(<span class="keyword">int</span> m=j*<span class="number">12</span>;m&lt;(j+<span class="number">1</span>)*<span class="number">12</span>;m++) {</span><br><span class="line">                            matrixboo[n][m] = <span class="keyword">true</span>;</span><br><span class="line">                            matrix.setRGB(n, m, colorInt );</span><br><span class="line">                        }</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        ImageIO.write(matrix, <span class="string">"PNG"</span>, <span class="keyword">new</span> File(pathname));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">long</span> startTime=System.currentTimeMillis();</span><br><span class="line">        String imgPath = <span class="string">"guangzhou.jpg"</span>;</span><br><span class="line">        String contents = <span class="string">"guangzhou"</span>;</span><br><span class="line">        <span class="keyword">int</span> width = <span class="number">300</span>, height = <span class="number">300</span>;</span><br><span class="line">        ErrorCorrectionLevel level=ErrorCorrectionLevel.L;</span><br><span class="line">        TexturedEncoderHandler handler = <span class="keyword">new</span> TexturedEncoderHandler();</span><br><span class="line">        handler.encode(contents, width, height,  level, imgPath);</span><br><span class="line">        <span class="keyword">long</span> endTime=System.currentTimeMillis(); <span class="comment">//获取结束时间</span></span><br><span class="line">        System.out.println(<span class="string">"程序运行时间： "</span>+(endTime-startTime)+<span class="string">"ms"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java 二维码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP基础</title>
      <link href="/2018/04/25/http-ji-chu/"/>
      <url>/2018/04/25/http-ji-chu/</url>
      
        <content type="html"><![CDATA[<h2 id="服务器意图"><a href="#服务器意图" class="headerlink" title="服务器意图"></a>服务器意图</h2><blockquote><ul><li>GET：获取资源，用来请求已经被URI识别的资源</li><li>POST：传输实体主体</li><li>PUT：传输文件</li><li>HEAD：获得报文首部</li><li>DELETE：删除文件</li><li>OPTIONS：询问支持的方法</li></ul></blockquote><h2 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h2><table><thead><tr><th></th><th align="right">类别</th><th align="center">原因短语</th></tr></thead><tbody><tr><td>1XX</td><td align="right">Informational(信息性状态码)</td><td align="center">接收的请求正在处理</td></tr><tr><td>2XX</td><td align="right">Success(成功状态码)</td><td align="center">请求正常处理完毕</td></tr><tr><td>3XX</td><td align="right">Redirection (重定向状态码)</td><td align="center">需要进行附加操作以完成请求</td></tr><tr><td>4XX</td><td align="right">Client Error(客户端错误状态码)</td><td align="center">服务器无法处理请求</td></tr><tr><td>5XX</td><td align="right">Server Error(服务器错误状态码)</td><td align="center">服务器处理请求出错</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 理解计算机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>云计算基础</title>
      <link href="/2018/04/25/yun-ji-suan-ji-chu/"/>
      <url>/2018/04/25/yun-ji-suan-ji-chu/</url>
      
        <content type="html"><![CDATA[<h2 id="云计算分类"><a href="#云计算分类" class="headerlink" title="云计算分类"></a>云计算分类</h2><ul><li>IaaS 基础设施即服务</li><li>PaaS 平台即服务</li><li>SaaS 软件即服务</li></ul><h3 id="公有云"><a href="#公有云" class="headerlink" title="公有云"></a>公有云</h3><p>公有云构建在互联网上，任何已付费的用户都可以访问。</p><h3 id="私有云"><a href="#私有云" class="headerlink" title="私有云"></a>私有云</h3><p>私有云构建在局域网内部，属于一个独立的组织。</p><h3 id="混合云"><a href="#混合云" class="headerlink" title="混合云"></a>混合云</h3><p>混合云由公有云和私有云共同构成</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云计算 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Notes</title>
      <link href="/2018/04/23/hexo-notes/"/>
      <url>/2018/04/23/hexo-notes/</url>
      
        <content type="html"><![CDATA[<p>遇到的小问题</p><a id="more"></a><h1 id="关于设置页宽"><a href="#关于设置页宽" class="headerlink" title="关于设置页宽"></a>关于设置页宽</h1><p>没错，这就是我上面提到的那个主题，这个主题有三种外观，其中我现在使用的是 Pisces Scheme ，但还是做了一些修改，因为原来那个宽度太小了，不适合展示代码块，也不太美观。修改方法如下：<br>Pisces 的布局定义在 source/css/_schemes/Picses/_layout.styl 中，打开文件并在最后添加以下 css<br>引用自  <a href="http://www.aidansu.com/2017/github-pages-build-blog/" target="_blank" rel="noopener">http://www.aidansu.com/2017/github-pages-build-blog/</a></p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.header</span>{</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    +tablet() {</span><br><span class="line">        <span class="selector-tag">width</span>: 100%;</span><br><span class="line">    }</span><br><span class="line">    +<span class="selector-tag">mobile</span>() {</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.main-inner</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    +tablet() {</span><br><span class="line">        <span class="selector-tag">width</span>: 100%;</span><br><span class="line">    }</span><br><span class="line">    +<span class="selector-tag">mobile</span>() {</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.content-wrap</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">260px</span>);</span><br><span class="line">    +tablet() {</span><br><span class="line">        <span class="selector-tag">width</span>: 100%;</span><br><span class="line">    }</span><br><span class="line">    +<span class="selector-tag">mobile</span>() {</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Notes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java 运动模糊</title>
      <link href="/2018/04/23/java-yun-dong-mo-hu/"/>
      <url>/2018/04/23/java-yun-dong-mo-hu/</url>
      
        <content type="html"><![CDATA[<p>想用Java 写个运动模糊的效果，无奈本人水平有限，国内也没找到资源，于是Google到了一个文档，特地分享出来！</p><a id="more"></a><p>本代码源自   <a href="http://www.jhlabs.com/ip/blurring.html" target="_blank" rel="noopener">http://www.jhlabs.com/ip/blurring.html</a></p><p>Java运动模糊算法：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line">import java.awt.*;</span><br><span class="line">import java.awt.geom.*;</span><br><span class="line">import java.awt.image.*;</span><br><span class="line"></span><br><span class="line">public class MotionBlurOp extends AbstractBufferedImageOp {</span><br><span class="line">    private float centreX = 0.5f, centreY = 0.5f;</span><br><span class="line">    private float distance=20.0f;                //这里设置运动距离</span><br><span class="line">    private float angle;</span><br><span class="line">    private float rotation;</span><br><span class="line">    private float zoom;</span><br><span class="line"></span><br><span class="line">    public MotionBlurOp() {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public MotionBlurOp( float distance, float angle, float rotation, float zoom ) {</span><br><span class="line">        this.distance = distance;</span><br><span class="line">        this.angle = angle;</span><br><span class="line">        this.rotation = rotation;</span><br><span class="line">        this.zoom = zoom;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setAngle( float angle ) {</span><br><span class="line">        this.angle = angle;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public float getAngle() {</span><br><span class="line">        return angle;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setDistance( float distance ) {</span><br><span class="line">        this.distance = distance;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public float getDistance() {</span><br><span class="line">        return distance;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setRotation( float rotation ) {</span><br><span class="line">        this.rotation = rotation;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public float getRotation() {</span><br><span class="line">        return rotation;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setZoom( float zoom ) {</span><br><span class="line">        this.zoom = zoom;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public float getZoom() {</span><br><span class="line">        return zoom;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setCentreX( float centreX ) {</span><br><span class="line">        this.centreX = centreX;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public float getCentreX() {</span><br><span class="line">        return centreX;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setCentreY( float centreY ) {</span><br><span class="line">        this.centreY = centreY;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public float getCentreY() {</span><br><span class="line">        return centreY;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setCentre( Point2D centre ) {</span><br><span class="line">        this.centreX = (float)centre.getX();</span><br><span class="line">        this.centreY = (float)centre.getY();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public Point2D getCentre() {</span><br><span class="line">        return new Point2D.Float( centreX, centreY );</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private int log2( int n ) {</span><br><span class="line">        int m = 1;</span><br><span class="line">        int log2n = 0;</span><br><span class="line"></span><br><span class="line">        while (m &lt; n) {</span><br><span class="line">            m *= 2;</span><br><span class="line">            log2n++;</span><br><span class="line">        }</span><br><span class="line">        return log2n;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public BufferedImage filter( BufferedImage src, BufferedImage dst ) {</span><br><span class="line">        if ( dst == null )</span><br><span class="line">            dst = createCompatibleDestImage( src, null );</span><br><span class="line">        BufferedImage tsrc = src;</span><br><span class="line">        float cx = (float)src.getWidth() * centreX;</span><br><span class="line">        float cy = (float)src.getHeight() * centreY;</span><br><span class="line">        float imageRadius = (float)Math.sqrt( cx*cx + cy*cy );</span><br><span class="line">        float translateX = (float)(distance * Math.cos( angle ));</span><br><span class="line">        float translateY = (float)(distance * -Math.sin( angle ));</span><br><span class="line">        float scale = zoom;</span><br><span class="line">        float rotate = rotation;</span><br><span class="line">        float maxDistance = distance + Math.abs(rotation*imageRadius) + zoom*imageRadius;</span><br><span class="line">        int steps = log2((int)maxDistance);</span><br><span class="line"></span><br><span class="line">        translateX /= maxDistance;</span><br><span class="line">        translateY /= maxDistance;</span><br><span class="line">        scale /= maxDistance;</span><br><span class="line">        rotate /= maxDistance;</span><br><span class="line"></span><br><span class="line">        if ( steps == 0 ) {</span><br><span class="line">            Graphics2D g = dst.createGraphics();</span><br><span class="line">            g.drawRenderedImage( src, null );</span><br><span class="line">            g.dispose();</span><br><span class="line">            return dst;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        BufferedImage tmp = createCompatibleDestImage( src, null );</span><br><span class="line">        for ( int i = 0; i &lt; steps; i++ ) {</span><br><span class="line">            Graphics2D g = tmp.createGraphics();</span><br><span class="line">            g.drawImage( tsrc, null, null );</span><br><span class="line">            g.setRenderingHint( RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON );</span><br><span class="line">            g.setRenderingHint( RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR );</span><br><span class="line">            g.setComposite( AlphaComposite.getInstance( AlphaComposite.SRC_OVER, 0.5f ) );</span><br><span class="line"></span><br><span class="line">            g.translate( cx+translateX, cy+translateY );</span><br><span class="line">            g.scale( 1.0001+scale, 1.0001+scale );  // The .0001 works round a bug on Windows where drawImage throws an ArrayIndexOutofBoundException</span><br><span class="line">            if ( rotation != 0 )</span><br><span class="line">                g.rotate( rotate );</span><br><span class="line">            g.translate( -cx, -cy );</span><br><span class="line"></span><br><span class="line">            g.drawImage( dst, null, null );</span><br><span class="line">            g.dispose();</span><br><span class="line">            BufferedImage ti = dst;</span><br><span class="line">            dst = tmp;</span><br><span class="line">            tmp = ti;</span><br><span class="line">            tsrc = dst;</span><br><span class="line"></span><br><span class="line">            translateX *= 2;</span><br><span class="line">            translateY *= 2;</span><br><span class="line">            scale *= 2;</span><br><span class="line">            rotate *= 2;</span><br><span class="line">        }</span><br><span class="line">        return dst;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String toString() {</span><br><span class="line">        return "Blur/Motion Blur...";</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>测试代码：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import javax.imageio.ImageIO;</span><br><span class="line">import java.awt.image.BufferedImage;</span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by zdmein on 2018/1/10.</span><br><span class="line"> */</span><br><span class="line">public class MotionBlurOpTest {</span><br><span class="line">    public static void main(String [] args) throws IOException {</span><br><span class="line">        BufferedImage sourceImage = ImageIO.read(new File("flower.jpg"));</span><br><span class="line">        MotionBlurOp filter=new MotionBlurOp();</span><br><span class="line">        BufferedImage destImage=filter.filter(sourceImage,null);</span><br><span class="line">        ImageIO.write(destImage, "PNG", new File("MotionBlurOpflower.jpg"));</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://images2017.cnblogs.com/blog/1300781/201801/1300781-20180110111018113-450639113.jpg" alt="原图"><br><img src="http://images2017.cnblogs.com/blog/1300781/201801/1300781-20180110111047176-161279166.jpg" alt="Motion"></p><p><img src="http://pic.sc.chinaz.com/files/pic/pic9/201508/apic14250.jpg" alt=""></p><p><img src="http://img.hb.aicdn.com/402338e39ee91c9f2f55116942593e37d009fd15418553-ulMGQY_fw658" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 图像 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>优秀博主整理</title>
      <link href="/2017/09/12/you-xiu-bo-zhu-zheng-li/"/>
      <url>/2017/09/12/you-xiu-bo-zhu-zheng-li/</url>
      
        <content type="html"><![CDATA[<p>优秀博主整理</p><a id="more"></a><table><thead><tr><th>Name</th><th align="center">Introduction</th></tr></thead><tbody><tr><td><a href="http://www.ityouknow.com" target="_blank" rel="noopener">纯洁的微笑</a></td><td align="center">资深码农博主，对Spring框架的总结非常不错，现在在一家互联网金融公司做技术经理兼技术负责人</td></tr><tr><td><a href="http://raysmond.com/" target="_blank" rel="noopener">Raysmond</a></td><td align="center">复旦的计算机研究生，现在在北京工作，生活很精彩，工程能力也非常强，看到他在与我同龄时写的一些代码，非常佩服</td></tr><tr><td><a href="http://yikun.github.io/" target="_blank" rel="noopener">Yikun</a></td><td align="center">西电毕业的通信领域研究生，去年好像去了菊厂，手绘很棒，生活也很精彩，也是个技术牛人</td></tr><tr><td><a href="http://coolshell.cn/" target="_blank" rel="noopener">酷壳</a></td><td align="center">耗子叔，业内知名博主，每一篇博文都是经典，15年开发经验的老码农，曾在Amazon，阿里等处做过资深专家</td></tr><tr><td><a href="https://willin.wang/" target="_blank" rel="noopener">王之琳</a></td><td align="center">12年本科毕业前端交互工程师，能力很强，简历很炫，写的项目非常多，也特别喜欢逛各种论坛</td></tr><tr><td><a href="http://litten.me/" target="_blank" rel="noopener">litten</a></td><td align="center">毕业于华科的前端工程师，非常文青，我这个博客主题就是他写的，现在鹅厂工作</td></tr><tr><td><a href="http://oilbeater.com/" target="_blank" rel="noopener">Oilbeater</a></td><td align="center">北大毕业的研究生，曾在阿里任职，现在灵雀云搞Docker，挺有想法的人</td></tr><tr><td><a href="http://zhangwenli.com/" target="_blank" rel="noopener">羡辙</a></td><td align="center">毕业于上交的研究生，现在是一个非常出色的前端工程师，目前在百度ECharts团队做可视化的相关工作。博客非常有特点，博文质量很高，而且GITHUB的Follower高达4k</td></tr><tr><td><a href="https://www.anotherhome.net/" target="_blank" rel="noopener">DIYgod</a></td><td align="center">15年毕业的前端工程师，非常二次元，博客也很另类，个人能力也是很强的，喜欢玩GITHUB很棒，也是掘金的联合小编</td></tr><tr><td><a href="http://flygon.net/" target="_blank" rel="noopener">龙哥盟</a></td><td align="center">16年毕业于上交，项目经验很丰富，而且非常喜欢搞各种教程，GITHUB的Follower也很多</td></tr><tr><td><a href="https://congm.in/" target="_blank" rel="noopener">闵聪</a></td><td align="center">17年毕业于重邮，项目和实习经验都很丰富，现在似乎去了鹅厂</td></tr><tr><td><a href="https://www.byvoid.com/" target="_blank" rel="noopener">byvoid</a></td><td align="center">牛x的大佬，搞NOIP进的清华，能力超强，奇闻逸事网上流传了很多，最有名的大概就是报阿里星时候的评价表。。。</td></tr><tr><td><a href="https://yihui.name/" target="_blank" rel="noopener">谢益辉</a></td><td align="center">在美帝工作的经济学PhD,双语博客从05年更到现在，文笔也牛的不行，现在在RStudio做软件工程师</td></tr><tr><td><a href="http://www.martinrgb.com/" target="_blank" rel="noopener">MartinRGB</a></td><td align="center">13年西电毕业的交互设计师以及GUI设计师，看了眼博客，没啥说的，不愧是设计师。。。</td></tr><tr><td><a href="http://brianway.github.io/" target="_blank" rel="noopener">魏楚阳</a></td><td align="center">18年毕业的华科研究生，webporter的开发者，爬虫和数据分析的高端玩家，BAT随便进。。。</td></tr><tr><td><a href="http://www.voidking.com/" target="_blank" rel="noopener">VoidKing</a></td><td align="center">16级东北师大的软件工程硕士研究生，是个很勤奋的博主，有梦想有想法。</td></tr><tr><td><a href="http://www.yankay.com/" target="_blank" rel="noopener">颜开</a></td><td align="center">对Java以及分布式数据库等有着非常深厚的积淀，现在任职于EMC，可惜的是博客不怎么更了</td></tr><tr><td><a href="https://livc.io/" target="_blank" rel="noopener">李钊</a></td><td align="center">东北大学14级同届本科，能力很强，现在百度深度学习实验室。</td></tr><tr><td><a href="http://mazhuang.org/" target="_blank" rel="noopener">马壮</a></td><td align="center">努力高产的全栈工程师</td></tr><tr><td><a href="http://lingxiankong.github.io" target="_blank" rel="noopener">孔令贤</a></td><td align="center">11年硕士毕业，前华为 OpenStack 社区开发部技术经理，从14级破格提拔至17级，任总在总裁令中点名致歉的员工，在技术和管理的岔路口迷茫过，博客中也记录了职场中很多心路历程。现在已技术移民新西兰</td></tr><tr><td><a href="http://chocoluffy.com/" target="_blank" rel="noopener">余舜哲</a></td><td align="center">同龄的同学，现在在多伦多大学留学，对新技术有很大的热情，很不错的博客</td></tr><tr><td><a href="http://www.aneasystone.com/" target="_blank" rel="noopener">aneasystone</a></td><td align="center">80后码农一枚。喜欢开源，喜欢读书，喜欢折腾，方向是偏信息安全的，目前应该转了java</td></tr><tr><td><a href="http://www.54tianzhisheng.cn" target="_blank" rel="noopener">Zhisheng Tian</a></td><td align="center">同一届的同学，学习的能力跟写作的条理都非常清楚，基础功很扎实，也是非常值得学习</td></tr><tr><td><a href="http://blog.didispace.com/" target="_blank" rel="noopener">翟永超</a></td><td align="center">《Spring Cloud 微服务实战》一书作者，对Spring全家桶和微服务架构有着很深刻的理解</td></tr><tr><td><a href="http://irfen.me/" target="_blank" rel="noopener">赵伊凡</a></td><td align="center">比较喜欢总结知识的90后码农，好像写了本书叫《轻松学算法》</td></tr><tr><td><a href="https://blog.hacking8.com/" target="_blank" rel="noopener">小草窝</a></td><td align="center">很小就开始写代码的博主，自己写的emlog框架，比较喜欢搞网站安全</td></tr><tr><td><a href="https://biezhi.me/" target="_blank" rel="noopener">王爵</a></td><td align="center">blade框架的作者，维护了很多开源项目，用blade写的Tale博客框架也挺不错的</td></tr><tr><td><a href="  http://ifeve.com/  " target="_blank" rel="noopener">  并发编程网  </a></td><td align="center">阿里系的一帮大牛创的技术网站</td></tr><tr><td><a href="  http://www.aidansu.com/  " target="_blank" rel="noopener">  aidan  </a></td><td align="center">雄哥的博客</td></tr><tr><td><a href="   https://blog.codingnow.com/ " target="_blank" rel="noopener"> 云风的 BLOG   </a></td><td align="center">总是读成风云…</td></tr><tr><td><a href="  http://www.ruanyifeng.com/blog/  " target="_blank" rel="noopener">  阮一峰的网络日志  </a></td><td align="center">非常佩服的一位，非常勤，特别能坚持</td></tr><tr><td><a href=" http://blog.zhaojie.me/   " target="_blank" rel="noopener">  老赵  </a></td><td align="center">赵百万的博客</td></tr><tr><td><a href=" https://congm.in/   " target="_blank" rel="noopener">  闵聪  </a></td><td align="center">腾讯的</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博主 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用数据结构底层实现及源码</title>
      <link href="/2017/09/12/chang-yong-shu-ju-jie-gou-di-ceng-shi-xian-ji-yuan-ma/"/>
      <url>/2017/09/12/chang-yong-shu-ju-jie-gou-di-ceng-shi-xian-ji-yuan-ma/</url>
      
        <content type="html"><![CDATA[<p>ZDM–ArrayList、HashMap、Collection、LinkedList、Redis 底层实现及源码</p><a id="more"></a><h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><h2 id="Redis简介"><a href="#Redis简介" class="headerlink" title="Redis简介"></a>Redis简介</h2><p>Redis是一种key/value型数据库，其中，每个key和value都是使用对象表示的。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET message <span class="string">"Hello"</span></span><br></pre></td></tr></tbody></table></figure><p>其中，字符串 “message” 这个对象 就是 key ， “Hello” 这个对象 就是 value</p><p>Redis有5种对象的类型</p><table><thead><tr><th align="center">类型常量</th><th align="center">小写</th><th align="center">对象名称</th></tr></thead><tbody><tr><td align="center">REDIS_STRING</td><td align="center">string</td><td align="center">字符串对象</td></tr><tr><td align="center">REDIS_LIST</td><td align="center">list</td><td align="center">列表对象</td></tr><tr><td align="center">REDIS_HASH</td><td align="center">hash</td><td align="center">哈希对象</td></tr><tr><td align="center">REDIS_SET</td><td align="center">set</td><td align="center">集合对象</td></tr><tr><td align="center">REDIS_ZSET</td><td align="center">zset</td><td align="center">有序集合对象</td></tr></tbody></table><p>Redis对象底层数据结构</p><table><thead><tr><th align="center">编码常量</th><th align="center">数据结构</th></tr></thead><tbody><tr><td align="center">int</td><td align="center">long类型的整数</td></tr><tr><td align="center">embstr</td><td align="center">embstr编码的简单动态字符串</td></tr><tr><td align="center">raw</td><td align="center">简单动态字符串</td></tr><tr><td align="center">ht</td><td align="center">字典</td></tr><tr><td align="center">linkedlist</td><td align="center">双端链表</td></tr><tr><td align="center">ziplist</td><td align="center">压缩列表</td></tr><tr><td align="center">intset</td><td align="center">整数集合</td></tr><tr><td align="center">skiplist</td><td align="center">跳跃表和字典</td></tr></tbody></table><hr><h2 id="字符串对象"><a href="#字符串对象" class="headerlink" title="字符串对象"></a>字符串对象</h2><p>字符串对象的编码可以是int、raw、embstr</p><p>如果字符串对象的长度小于39字节，就用embstr</p><p>否则用传统的raw对象</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># define REDIS_ENCODING_EMBSTR_SIZE_LIMIT 39  </span><br><span class="line">robj *createStringObject(char *ptr, size_t len) {  </span><br><span class="line">    if (len &lt;= REDIS_ENCODING_EMBSTR_SIZE_LIMIT)  </span><br><span class="line">        return createEmbeddedStringObject(ptr,len);  </span><br><span class="line">    else  </span><br><span class="line">        return createRawStringObject(ptr,len);  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>embstr的优点：</p><ul><li>创建只需分配一次内存，raw为两次</li><li>释放内存也是一次</li><li>embstr的objet和sds放在一起，更好地利用缓存带来的优势</li></ul><hr><h2 id="列表对象"><a href="#列表对象" class="headerlink" title="列表对象"></a>列表对象</h2><p>列表对象的编码可以是 ziplist or LinkedList</p><p>ziplist 是一种压缩链表，好处是更能节省内存空间，存储的内容都是在连续的内存区域中的</p><p>LinkedList是一种双向链表，没增加一个node，都要重新分配一个内存</p><hr><h2 id="哈希对象"><a href="#哈希对象" class="headerlink" title="哈希对象"></a>哈希对象</h2><p>哈希对象的底层实现用ziplist or hashtable</p><p>ziplist : 对象数目不多且内容不大，这种方式效率很高</p><p>HashTable由dict这个结构实现</p><hr><h2 id="集合对象"><a href="#集合对象" class="headerlink" title="集合对象"></a>集合对象</h2><p>集合对象编码可以是 intset or HashTable</p><hr><h2 id="有序集合对象"><a href="#有序集合对象" class="headerlink" title="有序集合对象"></a>有序集合对象</h2><p>编码一种是 ziplist  ，一种是skipList 与 dict 的结合</p><p>ziplist作为集合和作为哈希对象是一样的，member和score顺序存放。按照score从小到大顺序排列。它的结构不再复述。</p><p>skiplist是一种跳跃表，它实现了有序集合中的快速查找，在大多数情况下它的速度都可以和平衡树差不多。但它的实现比较简单，可以作为平衡树的替代品。</p><hr><h1 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h1><p>ArrayList是基于数组实现的，是一个动态数组，其容量能自动增长(1.5+1)。</p><p>非线程安全</p><p>源码：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;    </span><br><span class="line">   </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;    </span></span><br><span class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>    </span></span><br><span class="line"><span class="class"></span>{    </span><br><span class="line">    <span class="comment">// 序列版本号    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">8683452581122892189L</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// ArrayList基于该数组实现，用该数组保存数据   </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> Object[] elementData;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// ArrayList中实际数据的数量    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// ArrayList带容量大小的构造函数。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>{    </span><br><span class="line">        <span class="keyword">super</span>();    </span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Illegal Capacity: "</span>+    </span><br><span class="line">                                               initialCapacity);    </span><br><span class="line">        <span class="comment">// 新建一个数组    </span></span><br><span class="line">        <span class="keyword">this</span>.elementData = <span class="keyword">new</span> Object[initialCapacity];    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// ArrayList无参构造函数。默认容量是10。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">this</span>(<span class="number">10</span>);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 创建一个包含collection的ArrayList    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>{    </span><br><span class="line">        elementData = c.toArray();    </span><br><span class="line">        size = elementData.length;    </span><br><span class="line">        <span class="keyword">if</span> (elementData.getClass() != Object[]<span class="class">.<span class="keyword">class</span>)    </span></span><br><span class="line"><span class="class">            <span class="title">elementData</span> </span>= Arrays.copyOf(elementData, size, Object[]<span class="class">.<span class="keyword">class</span>)</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将当前容量值设为实际元素个数    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">trimToSize</span><span class="params">()</span> </span>{    </span><br><span class="line">        modCount++;    </span><br><span class="line">        <span class="keyword">int</span> oldCapacity = elementData.length;    </span><br><span class="line">        <span class="keyword">if</span> (size &lt; oldCapacity) {    </span><br><span class="line">            elementData = Arrays.copyOf(elementData, size);    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 确定ArrarList的容量。    </span></span><br><span class="line">    <span class="comment">// 若ArrayList的容量不足以容纳当前的全部元素，设置 新的容量=“(原始容量x3)/2 + 1”    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ensureCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>{    </span><br><span class="line">        <span class="comment">// 将“修改统计数”+1，该变量主要是用来实现fail-fast机制的    </span></span><br><span class="line">        modCount++;    </span><br><span class="line">        <span class="keyword">int</span> oldCapacity = elementData.length;    </span><br><span class="line">        <span class="comment">// 若当前容量不足以容纳当前的元素个数，设置 新的容量=“(原始容量x3)/2 + 1”    </span></span><br><span class="line">        <span class="keyword">if</span> (minCapacity &gt; oldCapacity) {    </span><br><span class="line">            Object oldData[] = elementData;    </span><br><span class="line">            <span class="keyword">int</span> newCapacity = (oldCapacity * <span class="number">3</span>)/<span class="number">2</span> + <span class="number">1</span>;    </span><br><span class="line">            <span class="comment">//如果还不够，则直接将minCapacity设置为当前容量  </span></span><br><span class="line">            <span class="keyword">if</span> (newCapacity &lt; minCapacity)    </span><br><span class="line">                newCapacity = minCapacity;    </span><br><span class="line">            elementData = Arrays.copyOf(elementData, newCapacity);    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 添加元素e    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        <span class="comment">// 确定ArrayList的容量大小    </span></span><br><span class="line">        ensureCapacity(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!    </span></span><br><span class="line">        <span class="comment">// 添加e到ArrayList中    </span></span><br><span class="line">        elementData[size++] = e;    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回ArrayList的实际大小    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> size;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// ArrayList是否包含Object(o)    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> indexOf(o) &gt;= <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">//返回ArrayList是否为空    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> size == <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 正向查找，返回元素的索引值    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++)    </span><br><span class="line">            <span class="keyword">if</span> (elementData[i]==<span class="keyword">null</span>)    </span><br><span class="line">                <span class="keyword">return</span> i;    </span><br><span class="line">            } <span class="keyword">else</span> {    </span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++)    </span><br><span class="line">                <span class="keyword">if</span> (o.equals(elementData[i]))    </span><br><span class="line">                    <span class="keyword">return</span> i;    </span><br><span class="line">            }    </span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 反向查找(从数组末尾向开始查找)，返回元素(o)的索引值    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = size-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)    </span><br><span class="line">            <span class="keyword">if</span> (elementData[i]==<span class="keyword">null</span>)    </span><br><span class="line">                <span class="keyword">return</span> i;    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = size-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)    </span><br><span class="line">            <span class="keyword">if</span> (o.equals(elementData[i]))    </span><br><span class="line">                <span class="keyword">return</span> i;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;    </span><br><span class="line">    }    </span><br><span class="line">     </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回ArrayList的Object数组    </span></span><br><span class="line">    <span class="keyword">public</span> Object[] toArray() {    </span><br><span class="line">        <span class="keyword">return</span> Arrays.copyOf(elementData, size);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回ArrayList元素组成的数组  </span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T[] toArray(T[] a) {    </span><br><span class="line">        <span class="comment">// 若数组a的大小 &lt; ArrayList的元素个数；    </span></span><br><span class="line">        <span class="comment">// 则新建一个T[]数组，数组大小是“ArrayList的元素个数”，并将“ArrayList”全部拷贝到新数组中    </span></span><br><span class="line">        <span class="keyword">if</span> (a.length &lt; size)    </span><br><span class="line">            <span class="keyword">return</span> (T[]) Arrays.copyOf(elementData, size, a.getClass());    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 若数组a的大小 &gt;= ArrayList的元素个数；    </span></span><br><span class="line">        <span class="comment">// 则将ArrayList的全部元素都拷贝到数组a中。    </span></span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, a, <span class="number">0</span>, size);    </span><br><span class="line">        <span class="keyword">if</span> (a.length &gt; size)    </span><br><span class="line">            a[size] = <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">return</span> a;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 获取index位置的元素值    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>{    </span><br><span class="line">        RangeCheck(index);    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> (E) elementData[index];    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 设置index位置的值为element    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>{    </span><br><span class="line">        RangeCheck(index);    </span><br><span class="line">   </span><br><span class="line">        E oldValue = (E) elementData[index];    </span><br><span class="line">        elementData[index] = element;    </span><br><span class="line">        <span class="keyword">return</span> oldValue;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将e添加到ArrayList中    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        ensureCapacity(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!    </span></span><br><span class="line">        elementData[size++] = e;    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将e添加到ArrayList的指定位置    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (index &gt; size || index &lt; <span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(    </span><br><span class="line">            <span class="string">"Index: "</span>+index+<span class="string">", Size: "</span>+size);    </span><br><span class="line">   </span><br><span class="line">        ensureCapacity(size+<span class="number">1</span>);  <span class="comment">// Increments modCount!!    </span></span><br><span class="line">        System.arraycopy(elementData, index, elementData, index + <span class="number">1</span>,    </span><br><span class="line">             size - index);    </span><br><span class="line">        elementData[index] = element;    </span><br><span class="line">        size++;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除ArrayList指定位置的元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>{    </span><br><span class="line">        RangeCheck(index);    </span><br><span class="line">   </span><br><span class="line">        modCount++;    </span><br><span class="line">        E oldValue = (E) elementData[index];    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">int</span> numMoved = size - index - <span class="number">1</span>;    </span><br><span class="line">        <span class="keyword">if</span> (numMoved &gt; <span class="number">0</span>)    </span><br><span class="line">            System.arraycopy(elementData, index+<span class="number">1</span>, elementData, index,    </span><br><span class="line">                 numMoved);    </span><br><span class="line">        elementData[--size] = <span class="keyword">null</span>; <span class="comment">// Let gc do its work    </span></span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> oldValue;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除ArrayList的指定元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) {    </span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index++)    </span><br><span class="line">            <span class="keyword">if</span> (elementData[index] == <span class="keyword">null</span>) {    </span><br><span class="line">                fastRemove(index);    </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">            }    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index++)    </span><br><span class="line">            <span class="keyword">if</span> (o.equals(elementData[index])) {    </span><br><span class="line">                fastRemove(index);    </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 快速删除第index个元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fastRemove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>{    </span><br><span class="line">        modCount++;    </span><br><span class="line">        <span class="keyword">int</span> numMoved = size - index - <span class="number">1</span>;    </span><br><span class="line">        <span class="comment">// 从"index+1"开始，用后面的元素替换前面的元素。    </span></span><br><span class="line">        <span class="keyword">if</span> (numMoved &gt; <span class="number">0</span>)    </span><br><span class="line">            System.arraycopy(elementData, index+<span class="number">1</span>, elementData, index,    </span><br><span class="line">                             numMoved);    </span><br><span class="line">        <span class="comment">// 将最后一个元素设为null    </span></span><br><span class="line">        elementData[--size] = <span class="keyword">null</span>; <span class="comment">// Let gc do its work    </span></span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index++)    </span><br><span class="line">            <span class="keyword">if</span> (elementData[index] == <span class="keyword">null</span>) {    </span><br><span class="line">                fastRemove(index);    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">            }    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="comment">// 便利ArrayList，找到“元素o”，则删除，并返回true。    </span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index++)    </span><br><span class="line">            <span class="keyword">if</span> (o.equals(elementData[index])) {    </span><br><span class="line">                fastRemove(index);    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 清空ArrayList，将全部的元素设为null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">        modCount++;    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++)    </span><br><span class="line">            elementData[i] = <span class="keyword">null</span>;    </span><br><span class="line">   </span><br><span class="line">        size = <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将集合c追加到ArrayList中    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>{    </span><br><span class="line">        Object[] a = c.toArray();    </span><br><span class="line">        <span class="keyword">int</span> numNew = a.length;    </span><br><span class="line">        ensureCapacity(size + numNew);  <span class="comment">// Increments modCount    </span></span><br><span class="line">        System.arraycopy(a, <span class="number">0</span>, elementData, size, numNew);    </span><br><span class="line">        size += numNew;    </span><br><span class="line">        <span class="keyword">return</span> numNew != <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 从index位置开始，将集合c添加到ArrayList    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(<span class="keyword">int</span> index, Collection&lt;? extends E&gt; c)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (index &gt; size || index &lt; <span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(    </span><br><span class="line">            <span class="string">"Index: "</span> + index + <span class="string">", Size: "</span> + size);    </span><br><span class="line">   </span><br><span class="line">        Object[] a = c.toArray();    </span><br><span class="line">        <span class="keyword">int</span> numNew = a.length;    </span><br><span class="line">        ensureCapacity(size + numNew);  <span class="comment">// Increments modCount    </span></span><br><span class="line">   </span><br><span class="line">        <span class="keyword">int</span> numMoved = size - index;    </span><br><span class="line">        <span class="keyword">if</span> (numMoved &gt; <span class="number">0</span>)    </span><br><span class="line">            System.arraycopy(elementData, index, elementData, index + numNew,    </span><br><span class="line">                 numMoved);    </span><br><span class="line">   </span><br><span class="line">        System.arraycopy(a, <span class="number">0</span>, elementData, index, numNew);    </span><br><span class="line">        size += numNew;    </span><br><span class="line">        <span class="keyword">return</span> numNew != <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除fromIndex到toIndex之间的全部元素。    </span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">removeRange</span><span class="params">(<span class="keyword">int</span> fromIndex, <span class="keyword">int</span> toIndex)</span> </span>{    </span><br><span class="line">    modCount++;    </span><br><span class="line">    <span class="keyword">int</span> numMoved = size - toIndex;    </span><br><span class="line">        System.arraycopy(elementData, toIndex, elementData, fromIndex,    </span><br><span class="line">                         numMoved);    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Let gc do its work    </span></span><br><span class="line">    <span class="keyword">int</span> newSize = size - (toIndex-fromIndex);    </span><br><span class="line">    <span class="keyword">while</span> (size != newSize)    </span><br><span class="line">        elementData[--size] = <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RangeCheck</span><span class="params">(<span class="keyword">int</span> index)</span> </span>{    </span><br><span class="line">    <span class="keyword">if</span> (index &gt;= size)    </span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(    </span><br><span class="line">        <span class="string">"Index: "</span>+index+<span class="string">", Size: "</span>+size);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 克隆函数    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">try</span> {    </span><br><span class="line">            ArrayList&lt;E&gt; v = (ArrayList&lt;E&gt;) <span class="keyword">super</span>.clone();    </span><br><span class="line">            <span class="comment">// 将当前ArrayList的全部元素拷贝到v中    </span></span><br><span class="line">            v.elementData = Arrays.copyOf(elementData, size);    </span><br><span class="line">            v.modCount = <span class="number">0</span>;    </span><br><span class="line">            <span class="keyword">return</span> v;    </span><br><span class="line">        } <span class="keyword">catch</span> (CloneNotSupportedException e) {    </span><br><span class="line">            <span class="comment">// this shouldn't happen, since we are Cloneable    </span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InternalError();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// java.io.Serializable的写入函数    </span></span><br><span class="line">    <span class="comment">// 将ArrayList的“容量，所有的元素值”都写入到输出流中    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">(java.io.ObjectOutputStream s)</span>    </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> java.io.IOException</span>{    </span><br><span class="line">    <span class="comment">// Write out element count, and any hidden stuff    </span></span><br><span class="line">    <span class="keyword">int</span> expectedModCount = modCount;    </span><br><span class="line">    s.defaultWriteObject();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 写入“数组的容量”    </span></span><br><span class="line">        s.writeInt(elementData.length);    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 写入“数组的每一个元素”    </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)    </span><br><span class="line">            s.writeObject(elementData[i]);    </span><br><span class="line">   </span><br><span class="line">    <span class="keyword">if</span> (modCount != expectedModCount) {    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// java.io.Serializable的读取函数：根据写入方式读出    </span></span><br><span class="line">    <span class="comment">// 先将ArrayList的“容量”读出，然后将“所有的元素值”读出    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">(java.io.ObjectInputStream s)</span>    </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> java.io.IOException, ClassNotFoundException </span>{    </span><br><span class="line">        <span class="comment">// Read in size, and any hidden stuff    </span></span><br><span class="line">        s.defaultReadObject();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 从输入流中读取ArrayList的“容量”    </span></span><br><span class="line">        <span class="keyword">int</span> arrayLength = s.readInt();    </span><br><span class="line">        Object[] a = elementData = <span class="keyword">new</span> Object[arrayLength];    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 从输入流中将“所有的元素值”读出    </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)    </span><br><span class="line">            a[i] = s.readObject();    </span><br><span class="line">    }    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h1><p>HashMap是基于哈希表实现，每一个元素都是一个key-value对，其内部通过单链表解决冲突问题，容量不足时，会自动增长。</p><p>非线程安全，只是用于单线程环境下，多线程用concurrentHashMap</p><p>实现了Serializable接口，因此支持序列化，实现了Cloneable接口，能被克隆。</p><p>源码：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;    </span><br><span class="line"><span class="keyword">import</span> java.io.*;    </span><br><span class="line">   </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;    </span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;    </span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">Serializable</span>    </span></span><br><span class="line"><span class="class"></span>{    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 默认的初始容量（容量为HashMap中槽的数目）是16，且实际容量必须是2的整数次幂。    </span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_INITIAL_CAPACITY = <span class="number">16</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 最大容量（必须是2的幂且小于2的30次方，传入容量过大将被这个值替换）    </span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAXIMUM_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 默认加载因子为0.75   </span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> DEFAULT_LOAD_FACTOR = <span class="number">0.75f</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 存储数据的Entry数组，长度是2的幂。    </span></span><br><span class="line">    <span class="comment">// HashMap采用链表法解决冲突，每一个Entry本质上是一个单向链表    </span></span><br><span class="line">    <span class="keyword">transient</span> Entry[] table;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// HashMap的底层数组中已用槽的数量    </span></span><br><span class="line">    <span class="keyword">transient</span> <span class="keyword">int</span> size;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// HashMap的阈值，用于判断是否需要调整HashMap的容量（threshold = 容量*加载因子）    </span></span><br><span class="line">    <span class="keyword">int</span> threshold;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 加载因子实际大小    </span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">float</span> loadFactor;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// HashMap被改变的次数    </span></span><br><span class="line">    <span class="keyword">transient</span> <span class="keyword">volatile</span> <span class="keyword">int</span> modCount;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 指定“容量大小”和“加载因子”的构造函数    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Illegal initial capacity: "</span> +    </span><br><span class="line">                                               initialCapacity);    </span><br><span class="line">        <span class="comment">// HashMap的最大容量只能是MAXIMUM_CAPACITY    </span></span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &gt; MAXIMUM_CAPACITY)    </span><br><span class="line">            initialCapacity = MAXIMUM_CAPACITY;    </span><br><span class="line">        <span class="comment">//加载因此不能小于0  </span></span><br><span class="line">        <span class="keyword">if</span> (loadFactor &lt;= <span class="number">0</span> || Float.isNaN(loadFactor))    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Illegal load factor: "</span> +    </span><br><span class="line">                                               loadFactor);    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 找出“大于initialCapacity”的最小的2的幂    </span></span><br><span class="line">        <span class="keyword">int</span> capacity = <span class="number">1</span>;    </span><br><span class="line">        <span class="keyword">while</span> (capacity &lt; initialCapacity)    </span><br><span class="line">            capacity &lt;&lt;= <span class="number">1</span>;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 设置“加载因子”    </span></span><br><span class="line">        <span class="keyword">this</span>.loadFactor = loadFactor;    </span><br><span class="line">        <span class="comment">// 设置“HashMap阈值”，当HashMap中存储数据的数量达到threshold时，就需要将HashMap的容量加倍。    </span></span><br><span class="line">        threshold = (<span class="keyword">int</span>)(capacity * loadFactor);    </span><br><span class="line">        <span class="comment">// 创建Entry数组，用来保存数据    </span></span><br><span class="line">        table = <span class="keyword">new</span> Entry[capacity];    </span><br><span class="line">        init();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 指定“容量大小”的构造函数    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>{    </span><br><span class="line">        <span class="keyword">this</span>(initialCapacity, DEFAULT_LOAD_FACTOR);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 默认构造函数。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="comment">// 设置“加载因子”为默认加载因子0.75    </span></span><br><span class="line">        <span class="keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR;    </span><br><span class="line">        <span class="comment">// 设置“HashMap阈值”，当HashMap中存储数据的数量达到threshold时，就需要将HashMap的容量加倍。    </span></span><br><span class="line">        threshold = (<span class="keyword">int</span>)(DEFAULT_INITIAL_CAPACITY * DEFAULT_LOAD_FACTOR);    </span><br><span class="line">        <span class="comment">// 创建Entry数组，用来保存数据    </span></span><br><span class="line">        table = <span class="keyword">new</span> Entry[DEFAULT_INITIAL_CAPACITY];    </span><br><span class="line">        init();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 包含“子Map”的构造函数    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(Map&lt;? extends K, ? extends V&gt; m)</span> </span>{    </span><br><span class="line">        <span class="keyword">this</span>(Math.max((<span class="keyword">int</span>) (m.size() / DEFAULT_LOAD_FACTOR) + <span class="number">1</span>,    </span><br><span class="line">                      DEFAULT_INITIAL_CAPACITY), DEFAULT_LOAD_FACTOR);    </span><br><span class="line">        <span class="comment">// 将m中的全部元素逐个添加到HashMap中    </span></span><br><span class="line">        putAllForCreate(m);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">//求hash值的方法，重新计算hash值  </span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span> h)</span> </span>{    </span><br><span class="line">        h ^= (h &gt;&gt;&gt; <span class="number">20</span>) ^ (h &gt;&gt;&gt; <span class="number">12</span>);    </span><br><span class="line">        <span class="keyword">return</span> h ^ (h &gt;&gt;&gt; <span class="number">7</span>) ^ (h &gt;&gt;&gt; <span class="number">4</span>);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回h在数组中的索引值，这里用&amp;代替取模，旨在提升效率   </span></span><br><span class="line">    <span class="comment">// h &amp; (length-1)保证返回值的小于length    </span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">indexFor</span><span class="params">(<span class="keyword">int</span> h, <span class="keyword">int</span> length)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> h &amp; (length-<span class="number">1</span>);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> size;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> size == <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 获取key对应的value    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (key == <span class="keyword">null</span>)    </span><br><span class="line">            <span class="keyword">return</span> getForNullKey();    </span><br><span class="line">        <span class="comment">// 获取key的hash值    </span></span><br><span class="line">        <span class="keyword">int</span> hash = hash(key.hashCode());    </span><br><span class="line">        <span class="comment">// 在“该hash值对应的链表”上查找“键值等于key”的元素    </span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];    </span><br><span class="line">             e != <span class="keyword">null</span>;    </span><br><span class="line">             e = e.next) {    </span><br><span class="line">            Object k;    </span><br><span class="line">            <span class="comment">//判断key是否相同  </span></span><br><span class="line">            <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k)))    </span><br><span class="line">                <span class="keyword">return</span> e.value;    </span><br><span class="line">        }  </span><br><span class="line">        <span class="comment">//没找到则返回null  </span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 获取“key为null”的元素的值    </span></span><br><span class="line">    <span class="comment">// HashMap将“key为null”的元素存储在table[0]位置，但不一定是该链表的第一个位置！    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> V <span class="title">getForNullKey</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[<span class="number">0</span>]; e != <span class="keyword">null</span>; e = e.next) {    </span><br><span class="line">            <span class="keyword">if</span> (e.key == <span class="keyword">null</span>)    </span><br><span class="line">                <span class="keyword">return</span> e.value;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// HashMap是否包含key    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsKey</span><span class="params">(Object key)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> getEntry(key) != <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“键为key”的键值对    </span></span><br><span class="line">    <span class="function"><span class="keyword">final</span> Entry&lt;K,V&gt; <span class="title">getEntry</span><span class="params">(Object key)</span> </span>{    </span><br><span class="line">        <span class="comment">// 获取哈希值    </span></span><br><span class="line">        <span class="comment">// HashMap将“key为null”的元素存储在table[0]位置，“key不为null”的则调用hash()计算哈希值    </span></span><br><span class="line">        <span class="keyword">int</span> hash = (key == <span class="keyword">null</span>) ? <span class="number">0</span> : hash(key.hashCode());    </span><br><span class="line">        <span class="comment">// 在“该hash值对应的链表”上查找“键值等于key”的元素    </span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];    </span><br><span class="line">             e != <span class="keyword">null</span>;    </span><br><span class="line">             e = e.next) {    </span><br><span class="line">            Object k;    </span><br><span class="line">            <span class="keyword">if</span> (e.hash == hash &amp;&amp;    </span><br><span class="line">                ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))    </span><br><span class="line">                <span class="keyword">return</span> e;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将“key-value”添加到HashMap中    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>{    </span><br><span class="line">        <span class="comment">// 若“key为null”，则将该键值对添加到table[0]中。    </span></span><br><span class="line">        <span class="keyword">if</span> (key == <span class="keyword">null</span>)    </span><br><span class="line">            <span class="keyword">return</span> putForNullKey(value);    </span><br><span class="line">        <span class="comment">// 若“key不为null”，则计算该key的哈希值，然后将其添加到该哈希值对应的链表中。    </span></span><br><span class="line">        <span class="keyword">int</span> hash = hash(key.hashCode());    </span><br><span class="line">        <span class="keyword">int</span> i = indexFor(hash, table.length);    </span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span class="keyword">null</span>; e = e.next) {    </span><br><span class="line">            Object k;    </span><br><span class="line">            <span class="comment">// 若“该key”对应的键值对已经存在，则用新的value取代旧的value。然后退出！    </span></span><br><span class="line">            <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) {    </span><br><span class="line">                V oldValue = e.value;    </span><br><span class="line">                e.value = value;    </span><br><span class="line">                e.recordAccess(<span class="keyword">this</span>);    </span><br><span class="line">                <span class="keyword">return</span> oldValue;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 若“该key”对应的键值对不存在，则将“key-value”添加到table中    </span></span><br><span class="line">        modCount++;  </span><br><span class="line">        <span class="comment">//将key-value添加到table[i]处  </span></span><br><span class="line">        addEntry(hash, key, value, i);    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// putForNullKey()的作用是将“key为null”键值对添加到table[0]位置    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> V <span class="title">putForNullKey</span><span class="params">(V value)</span> </span>{    </span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[<span class="number">0</span>]; e != <span class="keyword">null</span>; e = e.next) {    </span><br><span class="line">            <span class="keyword">if</span> (e.key == <span class="keyword">null</span>) {    </span><br><span class="line">                V oldValue = e.value;    </span><br><span class="line">                e.value = value;    </span><br><span class="line">                e.recordAccess(<span class="keyword">this</span>);    </span><br><span class="line">                <span class="keyword">return</span> oldValue;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="comment">// 如果没有存在key为null的键值对，则直接题阿见到table[0]处!    </span></span><br><span class="line">        modCount++;    </span><br><span class="line">        addEntry(<span class="number">0</span>, <span class="keyword">null</span>, value, <span class="number">0</span>);    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 创建HashMap对应的“添加方法”，    </span></span><br><span class="line">    <span class="comment">// 它和put()不同。putForCreate()是内部方法，它被构造函数等调用，用来创建HashMap    </span></span><br><span class="line">    <span class="comment">// 而put()是对外提供的往HashMap中添加元素的方法。    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">putForCreate</span><span class="params">(K key, V value)</span> </span>{    </span><br><span class="line">        <span class="keyword">int</span> hash = (key == <span class="keyword">null</span>) ? <span class="number">0</span> : hash(key.hashCode());    </span><br><span class="line">        <span class="keyword">int</span> i = indexFor(hash, table.length);    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 若该HashMap表中存在“键值等于key”的元素，则替换该元素的value值    </span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span class="keyword">null</span>; e = e.next) {    </span><br><span class="line">            Object k;    </span><br><span class="line">            <span class="keyword">if</span> (e.hash == hash &amp;&amp;    </span><br><span class="line">                ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k)))) {    </span><br><span class="line">                e.value = value;    </span><br><span class="line">                <span class="keyword">return</span>;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 若该HashMap表中不存在“键值等于key”的元素，则将该key-value添加到HashMap中    </span></span><br><span class="line">        createEntry(hash, key, value, i);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将“m”中的全部元素都添加到HashMap中。    </span></span><br><span class="line">    <span class="comment">// 该方法被内部的构造HashMap的方法所调用。    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">putAllForCreate</span><span class="params">(Map&lt;? extends K, ? extends V&gt; m)</span> </span>{    </span><br><span class="line">        <span class="comment">// 利用迭代器将元素逐个添加到HashMap中    </span></span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;? extends Map.Entry&lt;? extends K, ? extends V&gt;&gt; i = m.entrySet().iterator(); i.hasNext(); ) {    </span><br><span class="line">            Map.Entry&lt;? extends K, ? extends V&gt; e = i.next();    </span><br><span class="line">            putForCreate(e.getKey(), e.getValue());    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 重新调整HashMap的大小，newCapacity是调整后的容量    </span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> newCapacity)</span> </span>{    </span><br><span class="line">        Entry[] oldTable = table;    </span><br><span class="line">        <span class="keyword">int</span> oldCapacity = oldTable.length;   </span><br><span class="line">        <span class="comment">//如果就容量已经达到了最大值，则不能再扩容，直接返回  </span></span><br><span class="line">        <span class="keyword">if</span> (oldCapacity == MAXIMUM_CAPACITY) {    </span><br><span class="line">            threshold = Integer.MAX_VALUE;    </span><br><span class="line">            <span class="keyword">return</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 新建一个HashMap，将“旧HashMap”的全部元素添加到“新HashMap”中，    </span></span><br><span class="line">        <span class="comment">// 然后，将“新HashMap”赋值给“旧HashMap”。    </span></span><br><span class="line">        Entry[] newTable = <span class="keyword">new</span> Entry[newCapacity];    </span><br><span class="line">        transfer(newTable);    </span><br><span class="line">        table = newTable;    </span><br><span class="line">        threshold = (<span class="keyword">int</span>)(newCapacity * loadFactor);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将HashMap中的全部元素都添加到newTable中    </span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">transfer</span><span class="params">(Entry[] newTable)</span> </span>{    </span><br><span class="line">        Entry[] src = table;    </span><br><span class="line">        <span class="keyword">int</span> newCapacity = newTable.length;    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; src.length; j++) {    </span><br><span class="line">            Entry&lt;K,V&gt; e = src[j];    </span><br><span class="line">            <span class="keyword">if</span> (e != <span class="keyword">null</span>) {    </span><br><span class="line">                src[j] = <span class="keyword">null</span>;    </span><br><span class="line">                <span class="keyword">do</span> {    </span><br><span class="line">                    Entry&lt;K,V&gt; next = e.next;    </span><br><span class="line">                    <span class="keyword">int</span> i = indexFor(e.hash, newCapacity);    </span><br><span class="line">                    e.next = newTable[i];    </span><br><span class="line">                    newTable[i] = e;    </span><br><span class="line">                    e = next;    </span><br><span class="line">                } <span class="keyword">while</span> (e != <span class="keyword">null</span>);    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将"m"的全部元素都添加到HashMap中    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">putAll</span><span class="params">(Map&lt;? extends K, ? extends V&gt; m)</span> </span>{    </span><br><span class="line">        <span class="comment">// 有效性判断    </span></span><br><span class="line">        <span class="keyword">int</span> numKeysToBeAdded = m.size();    </span><br><span class="line">        <span class="keyword">if</span> (numKeysToBeAdded == <span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span>;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 计算容量是否足够，    </span></span><br><span class="line">        <span class="comment">// 若“当前阀值容量 &lt; 需要的容量”，则将容量x2。    </span></span><br><span class="line">        <span class="keyword">if</span> (numKeysToBeAdded &gt; threshold) {    </span><br><span class="line">            <span class="keyword">int</span> targetCapacity = (<span class="keyword">int</span>)(numKeysToBeAdded / loadFactor + <span class="number">1</span>);    </span><br><span class="line">            <span class="keyword">if</span> (targetCapacity &gt; MAXIMUM_CAPACITY)    </span><br><span class="line">                targetCapacity = MAXIMUM_CAPACITY;    </span><br><span class="line">            <span class="keyword">int</span> newCapacity = table.length;    </span><br><span class="line">            <span class="keyword">while</span> (newCapacity &lt; targetCapacity)    </span><br><span class="line">                newCapacity &lt;&lt;= <span class="number">1</span>;    </span><br><span class="line">            <span class="keyword">if</span> (newCapacity &gt; table.length)    </span><br><span class="line">                resize(newCapacity);    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 通过迭代器，将“m”中的元素逐个添加到HashMap中。    </span></span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;? extends Map.Entry&lt;? extends K, ? extends V&gt;&gt; i = m.entrySet().iterator(); i.hasNext(); ) {    </span><br><span class="line">            Map.Entry&lt;? extends K, ? extends V&gt; e = i.next();    </span><br><span class="line">            put(e.getKey(), e.getValue());    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除“键为key”元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">remove</span><span class="params">(Object key)</span> </span>{    </span><br><span class="line">        Entry&lt;K,V&gt; e = removeEntryForKey(key);    </span><br><span class="line">        <span class="keyword">return</span> (e == <span class="keyword">null</span> ? <span class="keyword">null</span> : e.value);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除“键为key”的元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">final</span> Entry&lt;K,V&gt; <span class="title">removeEntryForKey</span><span class="params">(Object key)</span> </span>{    </span><br><span class="line">        <span class="comment">// 获取哈希值。若key为null，则哈希值为0；否则调用hash()进行计算    </span></span><br><span class="line">        <span class="keyword">int</span> hash = (key == <span class="keyword">null</span>) ? <span class="number">0</span> : hash(key.hashCode());    </span><br><span class="line">        <span class="keyword">int</span> i = indexFor(hash, table.length);    </span><br><span class="line">        Entry&lt;K,V&gt; prev = table[i];    </span><br><span class="line">        Entry&lt;K,V&gt; e = prev;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 删除链表中“键为key”的元素    </span></span><br><span class="line">        <span class="comment">// 本质是“删除单向链表中的节点”    </span></span><br><span class="line">        <span class="keyword">while</span> (e != <span class="keyword">null</span>) {    </span><br><span class="line">            Entry&lt;K,V&gt; next = e.next;    </span><br><span class="line">            Object k;    </span><br><span class="line">            <span class="keyword">if</span> (e.hash == hash &amp;&amp;    </span><br><span class="line">                ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k)))) {    </span><br><span class="line">                modCount++;    </span><br><span class="line">                size--;    </span><br><span class="line">                <span class="keyword">if</span> (prev == e)    </span><br><span class="line">                    table[i] = next;    </span><br><span class="line">                <span class="keyword">else</span>   </span><br><span class="line">                    prev.next = next;    </span><br><span class="line">                e.recordRemoval(<span class="keyword">this</span>);    </span><br><span class="line">                <span class="keyword">return</span> e;    </span><br><span class="line">            }    </span><br><span class="line">            prev = e;    </span><br><span class="line">            e = next;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> e;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除“键值对”    </span></span><br><span class="line">    <span class="function"><span class="keyword">final</span> Entry&lt;K,V&gt; <span class="title">removeMapping</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Map.Entry))    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">   </span><br><span class="line">        Map.Entry&lt;K,V&gt; entry = (Map.Entry&lt;K,V&gt;) o;    </span><br><span class="line">        Object key = entry.getKey();    </span><br><span class="line">        <span class="keyword">int</span> hash = (key == <span class="keyword">null</span>) ? <span class="number">0</span> : hash(key.hashCode());    </span><br><span class="line">        <span class="keyword">int</span> i = indexFor(hash, table.length);    </span><br><span class="line">        Entry&lt;K,V&gt; prev = table[i];    </span><br><span class="line">        Entry&lt;K,V&gt; e = prev;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 删除链表中的“键值对e”    </span></span><br><span class="line">        <span class="comment">// 本质是“删除单向链表中的节点”    </span></span><br><span class="line">        <span class="keyword">while</span> (e != <span class="keyword">null</span>) {    </span><br><span class="line">            Entry&lt;K,V&gt; next = e.next;    </span><br><span class="line">            <span class="keyword">if</span> (e.hash == hash &amp;&amp; e.equals(entry)) {    </span><br><span class="line">                modCount++;    </span><br><span class="line">                size--;    </span><br><span class="line">                <span class="keyword">if</span> (prev == e)    </span><br><span class="line">                    table[i] = next;    </span><br><span class="line">                <span class="keyword">else</span>   </span><br><span class="line">                    prev.next = next;    </span><br><span class="line">                e.recordRemoval(<span class="keyword">this</span>);    </span><br><span class="line">                <span class="keyword">return</span> e;    </span><br><span class="line">            }    </span><br><span class="line">            prev = e;    </span><br><span class="line">            e = next;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> e;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 清空HashMap，将所有的元素设为null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">        modCount++;    </span><br><span class="line">        Entry[] tab = table;    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tab.length; i++)    </span><br><span class="line">            tab[i] = <span class="keyword">null</span>;    </span><br><span class="line">        size = <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 是否包含“值为value”的元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsValue</span><span class="params">(Object value)</span> </span>{    </span><br><span class="line">    <span class="comment">// 若“value为null”，则调用containsNullValue()查找    </span></span><br><span class="line">    <span class="keyword">if</span> (value == <span class="keyword">null</span>)    </span><br><span class="line">            <span class="keyword">return</span> containsNullValue();    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 若“value不为null”，则查找HashMap中是否有值为value的节点。    </span></span><br><span class="line">    Entry[] tab = table;    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tab.length ; i++)    </span><br><span class="line">            <span class="keyword">for</span> (Entry e = tab[i] ; e != <span class="keyword">null</span> ; e = e.next)    </span><br><span class="line">                <span class="keyword">if</span> (value.equals(e.value))    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 是否包含null值    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">containsNullValue</span><span class="params">()</span> </span>{    </span><br><span class="line">    Entry[] tab = table;    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tab.length ; i++)    </span><br><span class="line">            <span class="keyword">for</span> (Entry e = tab[i] ; e != <span class="keyword">null</span> ; e = e.next)    </span><br><span class="line">                <span class="keyword">if</span> (e.value == <span class="keyword">null</span>)    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 克隆一个HashMap，并返回Object对象    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>{    </span><br><span class="line">        HashMap&lt;K,V&gt; result = <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">try</span> {    </span><br><span class="line">            result = (HashMap&lt;K,V&gt;)<span class="keyword">super</span>.clone();    </span><br><span class="line">        } <span class="keyword">catch</span> (CloneNotSupportedException e) {    </span><br><span class="line">            <span class="comment">// assert false;    </span></span><br><span class="line">        }    </span><br><span class="line">        result.table = <span class="keyword">new</span> Entry[table.length];    </span><br><span class="line">        result.entrySet = <span class="keyword">null</span>;    </span><br><span class="line">        result.modCount = <span class="number">0</span>;    </span><br><span class="line">        result.size = <span class="number">0</span>;    </span><br><span class="line">        result.init();    </span><br><span class="line">        <span class="comment">// 调用putAllForCreate()将全部元素添加到HashMap中    </span></span><br><span class="line">        result.putAllForCreate(<span class="keyword">this</span>);    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> result;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Entry是单向链表。    </span></span><br><span class="line">    <span class="comment">// 它是 “HashMap链式存储法”对应的链表。    </span></span><br><span class="line">    <span class="comment">// 它实现了Map.Entry 接口，即实现getKey(), getValue(), setValue(V value), equals(Object o), hashCode()这些函数    </span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>{    </span><br><span class="line">        <span class="keyword">final</span> K key;    </span><br><span class="line">        V value;    </span><br><span class="line">        <span class="comment">// 指向下一个节点    </span></span><br><span class="line">        Entry&lt;K,V&gt; next;    </span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> hash;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 构造函数。    </span></span><br><span class="line">        <span class="comment">// 输入参数包括"哈希值(h)", "键(k)", "值(v)", "下一节点(n)"    </span></span><br><span class="line">        Entry(<span class="keyword">int</span> h, K k, V v, Entry&lt;K,V&gt; n) {    </span><br><span class="line">            value = v;    </span><br><span class="line">            next = n;    </span><br><span class="line">            key = k;    </span><br><span class="line">            hash = h;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> K <span class="title">getKey</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> key;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> V <span class="title">getValue</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> value;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> V <span class="title">setValue</span><span class="params">(V newValue)</span> </span>{    </span><br><span class="line">            V oldValue = value;    </span><br><span class="line">            value = newValue;    </span><br><span class="line">            <span class="keyword">return</span> oldValue;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 判断两个Entry是否相等    </span></span><br><span class="line">        <span class="comment">// 若两个Entry的“key”和“value”都相等，则返回true。    </span></span><br><span class="line">        <span class="comment">// 否则，返回false    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Map.Entry))    </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">            Map.Entry e = (Map.Entry)o;    </span><br><span class="line">            Object k1 = getKey();    </span><br><span class="line">            Object k2 = e.getKey();    </span><br><span class="line">            <span class="keyword">if</span> (k1 == k2 || (k1 != <span class="keyword">null</span> &amp;&amp; k1.equals(k2))) {    </span><br><span class="line">                Object v1 = getValue();    </span><br><span class="line">                Object v2 = e.getValue();    </span><br><span class="line">                <span class="keyword">if</span> (v1 == v2 || (v1 != <span class="keyword">null</span> &amp;&amp; v1.equals(v2)))    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">            }    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 实现hashCode()    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> (key==<span class="keyword">null</span>   ? <span class="number">0</span> : key.hashCode()) ^    </span><br><span class="line">                   (value==<span class="keyword">null</span> ? <span class="number">0</span> : value.hashCode());    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">toString</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> getKey() + <span class="string">"="</span> + getValue();    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 当向HashMap中添加元素时，绘调用recordAccess()。    </span></span><br><span class="line">        <span class="comment">// 这里不做任何处理    </span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">recordAccess</span><span class="params">(HashMap&lt;K,V&gt; m)</span> </span>{    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 当从HashMap中删除元素时，绘调用recordRemoval()。    </span></span><br><span class="line">        <span class="comment">// 这里不做任何处理    </span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">recordRemoval</span><span class="params">(HashMap&lt;K,V&gt; m)</span> </span>{    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 新增Entry。将“key-value”插入指定位置，bucketIndex是位置索引。    </span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span> </span>{    </span><br><span class="line">        <span class="comment">// 保存“bucketIndex”位置的值到“e”中    </span></span><br><span class="line">        Entry&lt;K,V&gt; e = table[bucketIndex];    </span><br><span class="line">        <span class="comment">// 设置“bucketIndex”位置的元素为“新Entry”，    </span></span><br><span class="line">        <span class="comment">// 设置“e”为“新Entry的下一个节点”    </span></span><br><span class="line">        table[bucketIndex] = <span class="keyword">new</span> Entry&lt;K,V&gt;(hash, key, value, e);    </span><br><span class="line">        <span class="comment">// 若HashMap的实际大小 不小于 “阈值”，则调整HashMap的大小    </span></span><br><span class="line">        <span class="keyword">if</span> (size++ &gt;= threshold)    </span><br><span class="line">            resize(<span class="number">2</span> * table.length);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 创建Entry。将“key-value”插入指定位置。    </span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">createEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span> </span>{    </span><br><span class="line">        <span class="comment">// 保存“bucketIndex”位置的值到“e”中    </span></span><br><span class="line">        Entry&lt;K,V&gt; e = table[bucketIndex];    </span><br><span class="line">        <span class="comment">// 设置“bucketIndex”位置的元素为“新Entry”，    </span></span><br><span class="line">        <span class="comment">// 设置“e”为“新Entry的下一个节点”    </span></span><br><span class="line">        table[bucketIndex] = <span class="keyword">new</span> Entry&lt;K,V&gt;(hash, key, value, e);    </span><br><span class="line">        size++;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// HashIterator是HashMap迭代器的抽象出来的父类，实现了公共了函数。    </span></span><br><span class="line">    <span class="comment">// 它包含“key迭代器(KeyIterator)”、“Value迭代器(ValueIterator)”和“Entry迭代器(EntryIterator)”3个子类。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">HashIterator</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>{    </span><br><span class="line">        <span class="comment">// 下一个元素    </span></span><br><span class="line">        Entry&lt;K,V&gt; next;    </span><br><span class="line">        <span class="comment">// expectedModCount用于实现fast-fail机制。    </span></span><br><span class="line">        <span class="keyword">int</span> expectedModCount;    </span><br><span class="line">        <span class="comment">// 当前索引    </span></span><br><span class="line">        <span class="keyword">int</span> index;    </span><br><span class="line">        <span class="comment">// 当前元素    </span></span><br><span class="line">        Entry&lt;K,V&gt; current;    </span><br><span class="line">   </span><br><span class="line">        HashIterator() {    </span><br><span class="line">            expectedModCount = modCount;    </span><br><span class="line">            <span class="keyword">if</span> (size &gt; <span class="number">0</span>) { <span class="comment">// advance to first entry    </span></span><br><span class="line">                Entry[] t = table;    </span><br><span class="line">                <span class="comment">// 将next指向table中第一个不为null的元素。    </span></span><br><span class="line">                <span class="comment">// 这里利用了index的初始值为0，从0开始依次向后遍历，直到找到不为null的元素就退出循环。    </span></span><br><span class="line">                <span class="keyword">while</span> (index &lt; t.length &amp;&amp; (next = t[index++]) == <span class="keyword">null</span>)    </span><br><span class="line">                    ;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> next != <span class="keyword">null</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 获取下一个元素    </span></span><br><span class="line">        <span class="function"><span class="keyword">final</span> Entry&lt;K,V&gt; <span class="title">nextEntry</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (modCount != expectedModCount)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();    </span><br><span class="line">            Entry&lt;K,V&gt; e = next;    </span><br><span class="line">            <span class="keyword">if</span> (e == <span class="keyword">null</span>)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();    </span><br><span class="line">   </span><br><span class="line">            <span class="comment">// 注意！！！    </span></span><br><span class="line">            <span class="comment">// 一个Entry就是一个单向链表    </span></span><br><span class="line">            <span class="comment">// 若该Entry的下一个节点不为空，就将next指向下一个节点;    </span></span><br><span class="line">            <span class="comment">// 否则，将next指向下一个链表(也是下一个Entry)的不为null的节点。    </span></span><br><span class="line">            <span class="keyword">if</span> ((next = e.next) == <span class="keyword">null</span>) {    </span><br><span class="line">                Entry[] t = table;    </span><br><span class="line">                <span class="keyword">while</span> (index &lt; t.length &amp;&amp; (next = t[index++]) == <span class="keyword">null</span>)    </span><br><span class="line">                    ;    </span><br><span class="line">            }    </span><br><span class="line">            current = e;    </span><br><span class="line">            <span class="keyword">return</span> e;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 删除当前元素    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (current == <span class="keyword">null</span>)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException();    </span><br><span class="line">            <span class="keyword">if</span> (modCount != expectedModCount)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();    </span><br><span class="line">            Object k = current.key;    </span><br><span class="line">            current = <span class="keyword">null</span>;    </span><br><span class="line">            HashMap.<span class="keyword">this</span>.removeEntryForKey(k);    </span><br><span class="line">            expectedModCount = modCount;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// value的迭代器    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ValueIterator</span> <span class="keyword">extends</span> <span class="title">HashIterator</span>&lt;<span class="title">V</span>&gt; </span>{    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> V <span class="title">next</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> nextEntry().value;    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// key的迭代器    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">KeyIterator</span> <span class="keyword">extends</span> <span class="title">HashIterator</span>&lt;<span class="title">K</span>&gt; </span>{    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> K <span class="title">next</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> nextEntry().getKey();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Entry的迭代器    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">EntryIterator</span> <span class="keyword">extends</span> <span class="title">HashIterator</span>&lt;<span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;&gt; </span>{    </span><br><span class="line">        <span class="keyword">public</span> Map.<span class="function">Entry&lt;K,V&gt; <span class="title">next</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> nextEntry();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回一个“key迭代器”    </span></span><br><span class="line">    <span class="function">Iterator&lt;K&gt; <span class="title">newKeyIterator</span><span class="params">()</span>   </span>{    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> KeyIterator();    </span><br><span class="line">    }    </span><br><span class="line">    <span class="comment">// 返回一个“value迭代器”    </span></span><br><span class="line">    <span class="function">Iterator&lt;V&gt; <span class="title">newValueIterator</span><span class="params">()</span>   </span>{    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ValueIterator();    </span><br><span class="line">    }    </span><br><span class="line">    <span class="comment">// 返回一个“entry迭代器”    </span></span><br><span class="line">    Iterator&lt;Map.Entry&lt;K,V&gt;&gt; newEntryIterator()   {    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> EntryIterator();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// HashMap的Entry对应的集合    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet = <span class="keyword">null</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“key的集合”，实际上返回一个“KeySet对象”    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Set&lt;K&gt; <span class="title">keySet</span><span class="params">()</span> </span>{    </span><br><span class="line">        Set&lt;K&gt; ks = keySet;    </span><br><span class="line">        <span class="keyword">return</span> (ks != <span class="keyword">null</span> ? ks : (keySet = <span class="keyword">new</span> KeySet()));    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Key对应的集合    </span></span><br><span class="line">    <span class="comment">// KeySet继承于AbstractSet，说明该集合中没有重复的Key。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">KeySet</span> <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">K</span>&gt; </span>{    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> Iterator&lt;K&gt; <span class="title">iterator</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> newKeyIterator();    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> size;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> containsKey(o);    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> HashMap.<span class="keyword">this</span>.removeEntryForKey(o) != <span class="keyword">null</span>;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">            HashMap.<span class="keyword">this</span>.clear();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“value集合”，实际上返回的是一个Values对象    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Collection&lt;V&gt; <span class="title">values</span><span class="params">()</span> </span>{    </span><br><span class="line">        Collection&lt;V&gt; vs = values;    </span><br><span class="line">        <span class="keyword">return</span> (vs != <span class="keyword">null</span> ? vs : (values = <span class="keyword">new</span> Values()));    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// “value集合”    </span></span><br><span class="line">    <span class="comment">// Values继承于AbstractCollection，不同于“KeySet继承于AbstractSet”，    </span></span><br><span class="line">    <span class="comment">// Values中的元素能够重复。因为不同的key可以指向相同的value。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Values</span> <span class="keyword">extends</span> <span class="title">AbstractCollection</span>&lt;<span class="title">V</span>&gt; </span>{    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> Iterator&lt;V&gt; <span class="title">iterator</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> newValueIterator();    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> size;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> containsValue(o);    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">            HashMap.<span class="keyword">this</span>.clear();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“HashMap的Entry集合”    </span></span><br><span class="line">    <span class="keyword">public</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {    </span><br><span class="line">        <span class="keyword">return</span> entrySet0();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“HashMap的Entry集合”，它实际是返回一个EntrySet对象    </span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet0() {    </span><br><span class="line">        Set&lt;Map.Entry&lt;K,V&gt;&gt; es = entrySet;    </span><br><span class="line">        <span class="keyword">return</span> es != <span class="keyword">null</span> ? es : (entrySet = <span class="keyword">new</span> EntrySet());    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// EntrySet对应的集合    </span></span><br><span class="line">    <span class="comment">// EntrySet继承于AbstractSet，说明该集合中没有重复的EntrySet。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">EntrySet</span> <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;&gt; </span>{    </span><br><span class="line">        <span class="keyword">public</span> Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {    </span><br><span class="line">            <span class="keyword">return</span> newEntryIterator();    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Map.Entry))    </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">            Map.Entry&lt;K,V&gt; e = (Map.Entry&lt;K,V&gt;) o;    </span><br><span class="line">            Entry&lt;K,V&gt; candidate = getEntry(e.getKey());    </span><br><span class="line">            <span class="keyword">return</span> candidate != <span class="keyword">null</span> &amp;&amp; candidate.equals(e);    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> removeMapping(o) != <span class="keyword">null</span>;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> size;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">            HashMap.<span class="keyword">this</span>.clear();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// java.io.Serializable的写入函数    </span></span><br><span class="line">    <span class="comment">// 将HashMap的“总的容量，实际容量，所有的Entry”都写入到输出流中    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">(java.io.ObjectOutputStream s)</span>    </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> IOException    </span></span><br><span class="line"><span class="function">    </span>{    </span><br><span class="line">        Iterator&lt;Map.Entry&lt;K,V&gt;&gt; i =    </span><br><span class="line">            (size &gt; <span class="number">0</span>) ? entrySet0().iterator() : <span class="keyword">null</span>;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Write out the threshold, loadfactor, and any hidden stuff    </span></span><br><span class="line">        s.defaultWriteObject();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Write out number of buckets    </span></span><br><span class="line">        s.writeInt(table.length);    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Write out size (number of Mappings)    </span></span><br><span class="line">        s.writeInt(size);    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Write out keys and values (alternating)    </span></span><br><span class="line">        <span class="keyword">if</span> (i != <span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">while</span> (i.hasNext()) {    </span><br><span class="line">            Map.Entry&lt;K,V&gt; e = i.next();    </span><br><span class="line">            s.writeObject(e.getKey());    </span><br><span class="line">            s.writeObject(e.getValue());    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">362498820763181265L</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// java.io.Serializable的读取函数：根据写入方式读出    </span></span><br><span class="line">    <span class="comment">// 将HashMap的“总的容量，实际容量，所有的Entry”依次读出    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">(java.io.ObjectInputStream s)</span>    </span></span><br><span class="line"><span class="function">         <span class="keyword">throws</span> IOException, ClassNotFoundException    </span></span><br><span class="line"><span class="function">    </span>{    </span><br><span class="line">        <span class="comment">// Read in the threshold, loadfactor, and any hidden stuff    </span></span><br><span class="line">        s.defaultReadObject();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Read in number of buckets and allocate the bucket array;    </span></span><br><span class="line">        <span class="keyword">int</span> numBuckets = s.readInt();    </span><br><span class="line">        table = <span class="keyword">new</span> Entry[numBuckets];    </span><br><span class="line">   </span><br><span class="line">        init();  <span class="comment">// Give subclass a chance to do its thing.    </span></span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Read in size (number of Mappings)    </span></span><br><span class="line">        <span class="keyword">int</span> size = s.readInt();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Read the keys and values, and put the mappings in the HashMap    </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++) {    </span><br><span class="line">            K key = (K) s.readObject();    </span><br><span class="line">            V value = (V) s.readObject();    </span><br><span class="line">            putForCreate(key, value);    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“HashMap总的容量”    </span></span><br><span class="line">    <span class="function"><span class="keyword">int</span>   <span class="title">capacity</span><span class="params">()</span>     </span>{ <span class="keyword">return</span> table.length; }    </span><br><span class="line">    <span class="comment">// 返回“HashMap的加载因子”    </span></span><br><span class="line">    <span class="function"><span class="keyword">float</span> <span class="title">loadFactor</span><span class="params">()</span>   </span>{ <span class="keyword">return</span> loadFactor;   }    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="HashTable"><a href="#HashTable" class="headerlink" title="HashTable"></a>HashTable</h1><p>基于哈希表实现，每个元素都是key-value对，内部通过单链表解决冲突问题，容量不足时，自动增长</p><p>是线程安全的，能用于多线程</p><p>实现了Serializable接口，支持序列号</p><p>实现了Cloneable接口，能被克隆</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;    </span><br><span class="line"><span class="keyword">import</span> java.io.*;    </span><br><span class="line">   </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hashtable</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;    </span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">Dictionary</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;    </span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>{    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 保存key-value的数组。    </span></span><br><span class="line">    <span class="comment">// Hashtable同样采用单链表解决冲突，每一个Entry本质上是一个单向链表    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> Entry[] table;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Hashtable中键值对的数量    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">int</span> count;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 阈值，用于判断是否需要调整Hashtable的容量（threshold = 容量*加载因子）    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> threshold;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 加载因子    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> loadFactor;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Hashtable被改变的次数，用于fail-fast机制的实现    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">int</span> modCount = <span class="number">0</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 序列版本号    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1421746759512286392L</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 指定“容量大小”和“加载因子”的构造函数    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Hashtable</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Illegal Capacity: "</span>+    </span><br><span class="line">                                               initialCapacity);    </span><br><span class="line">        <span class="keyword">if</span> (loadFactor &lt;= <span class="number">0</span> || Float.isNaN(loadFactor))    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Illegal Load: "</span>+loadFactor);    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">if</span> (initialCapacity==<span class="number">0</span>)    </span><br><span class="line">            initialCapacity = <span class="number">1</span>;    </span><br><span class="line">        <span class="keyword">this</span>.loadFactor = loadFactor;    </span><br><span class="line">        table = <span class="keyword">new</span> Entry[initialCapacity];    </span><br><span class="line">        threshold = (<span class="keyword">int</span>)(initialCapacity * loadFactor);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 指定“容量大小”的构造函数    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Hashtable</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>{    </span><br><span class="line">        <span class="keyword">this</span>(initialCapacity, <span class="number">0.75f</span>);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 默认构造函数。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Hashtable</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="comment">// 默认构造函数，指定的容量大小是11；加载因子是0.75    </span></span><br><span class="line">        <span class="keyword">this</span>(<span class="number">11</span>, <span class="number">0.75f</span>);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 包含“子Map”的构造函数    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Hashtable</span><span class="params">(Map&lt;? extends K, ? extends V&gt; t)</span> </span>{    </span><br><span class="line">        <span class="keyword">this</span>(Math.max(<span class="number">2</span>*t.size(), <span class="number">11</span>), <span class="number">0.75f</span>);    </span><br><span class="line">        <span class="comment">// 将“子Map”的全部元素都添加到Hashtable中    </span></span><br><span class="line">        putAll(t);    </span><br><span class="line">    }    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object k)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (useAltHashing) {</span><br><span class="line">            <span class="keyword">if</span> (k.getClass() == String<span class="class">.<span class="keyword">class</span>) </span>{</span><br><span class="line">                <span class="keyword">return</span> sun.misc.Hashing.stringHash32((String) k);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">int</span> h = hashSeed ^ k.hashCode();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// This function ensures that hashCodes that differ only by</span></span><br><span class="line">                <span class="comment">// constant multiples at each bit position have a bounded</span></span><br><span class="line">                <span class="comment">// number of collisions (approximately 8 at default load factor).</span></span><br><span class="line">                h ^= (h &gt;&gt;&gt; <span class="number">20</span>) ^ (h &gt;&gt;&gt; <span class="number">12</span>);</span><br><span class="line">                <span class="keyword">return</span> h ^ (h &gt;&gt;&gt; <span class="number">7</span>) ^ (h &gt;&gt;&gt; <span class="number">4</span>);</span><br><span class="line">             }</span><br><span class="line">        } <span class="keyword">else</span>  {</span><br><span class="line">            <span class="keyword">return</span> k.hashCode();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> count;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> count == <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“所有key”的枚举对象    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> Enumeration&lt;K&gt; <span class="title">keys</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.&lt;K&gt;getEnumeration(KEYS);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“所有value”的枚举对象    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> Enumeration&lt;V&gt; <span class="title">elements</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.&lt;V&gt;getEnumeration(VALUES);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 判断Hashtable是否包含“值(value)”    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object value)</span> </span>{    </span><br><span class="line">        <span class="comment">//注意，Hashtable中的value不能是null，    </span></span><br><span class="line">        <span class="comment">// 若是null的话，抛出异常!    </span></span><br><span class="line">        <span class="keyword">if</span> (value == <span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 从后向前遍历table数组中的元素(Entry)    </span></span><br><span class="line">        <span class="comment">// 对于每个Entry(单向链表)，逐个遍历，判断节点的值是否等于value    </span></span><br><span class="line">        Entry tab[] = table;    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = tab.length ; i-- &gt; <span class="number">0</span> ;) {    </span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[i] ; e != <span class="keyword">null</span> ; e = e.next) {    </span><br><span class="line">                <span class="keyword">if</span> (e.value.equals(value)) {    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">                }    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsValue</span><span class="params">(Object value)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> contains(value);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 判断Hashtable是否包含key    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">containsKey</span><span class="params">(Object key)</span> </span>{    </span><br><span class="line">        Entry tab[] = table;    </span><br><span class="line">        <span class="comment">//计算hash值，直接用key的hashCode代替  </span></span><br><span class="line">        <span class="keyword">int</span> hash = key.hashCode();      </span><br><span class="line">        <span class="comment">// 计算在数组中的索引值   </span></span><br><span class="line">        <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">        <span class="comment">// 找到“key对应的Entry(链表)”，然后在链表中找出“哈希值”和“键值”与key都相等的元素    </span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index] ; e != <span class="keyword">null</span> ; e = e.next) {    </span><br><span class="line">            <span class="keyword">if</span> ((e.hash == hash) &amp;&amp; e.key.equals(key)) {    </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回key对应的value，没有的话返回null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>{    </span><br><span class="line">        Entry tab[] = table;    </span><br><span class="line">        <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">        <span class="comment">// 计算索引值，    </span></span><br><span class="line">        <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">        <span class="comment">// 找到“key对应的Entry(链表)”，然后在链表中找出“哈希值”和“键值”与key都相等的元素    </span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index] ; e != <span class="keyword">null</span> ; e = e.next) {    </span><br><span class="line">            <span class="keyword">if</span> ((e.hash == hash) &amp;&amp; e.key.equals(key)) {    </span><br><span class="line">                <span class="keyword">return</span> e.value;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 调整Hashtable的长度，将长度变成原来的2倍+1   </span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">rehash</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">int</span> oldCapacity = table.length;    </span><br><span class="line">        Entry[] oldMap = table;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">//创建新容量大小的Entry数组  </span></span><br><span class="line">        <span class="keyword">int</span> newCapacity = oldCapacity * <span class="number">2</span> + <span class="number">1</span>;    </span><br><span class="line">        Entry[] newMap = <span class="keyword">new</span> Entry[newCapacity];    </span><br><span class="line">   </span><br><span class="line">        modCount++;    </span><br><span class="line">        threshold = (<span class="keyword">int</span>)(newCapacity * loadFactor);    </span><br><span class="line">        table = newMap;    </span><br><span class="line">          </span><br><span class="line">        <span class="comment">//将“旧的Hashtable”中的元素复制到“新的Hashtable”中  </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = oldCapacity ; i-- &gt; <span class="number">0</span> ;) {    </span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;K,V&gt; old = oldMap[i] ; old != <span class="keyword">null</span> ; ) {    </span><br><span class="line">                Entry&lt;K,V&gt; e = old;    </span><br><span class="line">                old = old.next;    </span><br><span class="line">                <span class="comment">//重新计算index  </span></span><br><span class="line">                <span class="keyword">int</span> index = (e.hash &amp; <span class="number">0x7FFFFFFF</span>) % newCapacity;    </span><br><span class="line">                e.next = newMap[index];    </span><br><span class="line">                newMap[index] = e;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将“key-value”添加到Hashtable中    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>{    </span><br><span class="line">        <span class="comment">// Hashtable中不能插入value为null的元素！！！    </span></span><br><span class="line">        <span class="keyword">if</span> (value == <span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 若“Hashtable中已存在键为key的键值对”，    </span></span><br><span class="line">        <span class="comment">// 则用“新的value”替换“旧的value”    </span></span><br><span class="line">        Entry tab[] = table;    </span><br><span class="line">        <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">        <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index] ; e != <span class="keyword">null</span> ; e = e.next) {    </span><br><span class="line">            <span class="keyword">if</span> ((e.hash == hash) &amp;&amp; e.key.equals(key)) {    </span><br><span class="line">                V old = e.value;    </span><br><span class="line">                e.value = value;    </span><br><span class="line">                <span class="keyword">return</span> old;    </span><br><span class="line">                }    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 若“Hashtable中不存在键为key的键值对”，  </span></span><br><span class="line">        <span class="comment">// 将“修改统计数”+1    </span></span><br><span class="line">        modCount++;    </span><br><span class="line">        <span class="comment">//  若“Hashtable实际容量” &gt; “阈值”(阈值=总的容量 * 加载因子)    </span></span><br><span class="line">        <span class="comment">//  则调整Hashtable的大小    </span></span><br><span class="line">        <span class="keyword">if</span> (count &gt;= threshold) {  </span><br><span class="line">            rehash();    </span><br><span class="line">   </span><br><span class="line">            tab = table;    </span><br><span class="line">            index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">//将新的key-value对插入到tab[index]处（即链表的头结点）  </span></span><br><span class="line">        Entry&lt;K,V&gt; e = tab[index];           </span><br><span class="line">        tab[index] = <span class="keyword">new</span> Entry&lt;K,V&gt;(hash, key, value, e);    </span><br><span class="line">        count++;    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除Hashtable中键为key的元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> V <span class="title">remove</span><span class="params">(Object key)</span> </span>{    </span><br><span class="line">        Entry tab[] = table;    </span><br><span class="line">        <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">        <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">          </span><br><span class="line">        <span class="comment">//从table[index]链表中找出要删除的节点，并删除该节点。  </span></span><br><span class="line">        <span class="comment">//因为是单链表，因此要保留带删节点的前一个节点，才能有效地删除节点  </span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index], prev = <span class="keyword">null</span> ; e != <span class="keyword">null</span> ; prev = e, e = e.next) {    </span><br><span class="line">            <span class="keyword">if</span> ((e.hash == hash) &amp;&amp; e.key.equals(key)) {    </span><br><span class="line">                modCount++;    </span><br><span class="line">                <span class="keyword">if</span> (prev != <span class="keyword">null</span>) {    </span><br><span class="line">                    prev.next = e.next;    </span><br><span class="line">                } <span class="keyword">else</span> {    </span><br><span class="line">                    tab[index] = e.next;    </span><br><span class="line">                }    </span><br><span class="line">                count--;    </span><br><span class="line">                V oldValue = e.value;    </span><br><span class="line">                e.value = <span class="keyword">null</span>;    </span><br><span class="line">                <span class="keyword">return</span> oldValue;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将“Map(t)”的中全部元素逐一添加到Hashtable中    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">putAll</span><span class="params">(Map&lt;? extends K, ? extends V&gt; t)</span> </span>{    </span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;? extends K, ? extends V&gt; e : t.entrySet())    </span><br><span class="line">            put(e.getKey(), e.getValue());    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 清空Hashtable    </span></span><br><span class="line">    <span class="comment">// 将Hashtable的table数组的值全部设为null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">        Entry tab[] = table;    </span><br><span class="line">        modCount++;    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = tab.length; --index &gt;= <span class="number">0</span>; )    </span><br><span class="line">            tab[index] = <span class="keyword">null</span>;    </span><br><span class="line">        count = <span class="number">0</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 克隆一个Hashtable，并以Object的形式返回。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> Object <span class="title">clone</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">try</span> {    </span><br><span class="line">            Hashtable&lt;K,V&gt; t = (Hashtable&lt;K,V&gt;) <span class="keyword">super</span>.clone();    </span><br><span class="line">            t.table = <span class="keyword">new</span> Entry[table.length];    </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = table.length ; i-- &gt; <span class="number">0</span> ; ) {    </span><br><span class="line">                t.table[i] = (table[i] != <span class="keyword">null</span>)    </span><br><span class="line">                ? (Entry&lt;K,V&gt;) table[i].clone() : <span class="keyword">null</span>;    </span><br><span class="line">            }    </span><br><span class="line">            t.keySet = <span class="keyword">null</span>;    </span><br><span class="line">            t.entrySet = <span class="keyword">null</span>;    </span><br><span class="line">            t.values = <span class="keyword">null</span>;    </span><br><span class="line">            t.modCount = <span class="number">0</span>;    </span><br><span class="line">            <span class="keyword">return</span> t;    </span><br><span class="line">        } <span class="keyword">catch</span> (CloneNotSupportedException e) {     </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InternalError();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> String <span class="title">toString</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">int</span> max = size() - <span class="number">1</span>;    </span><br><span class="line">        <span class="keyword">if</span> (max == -<span class="number">1</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="string">"{}"</span>;    </span><br><span class="line">   </span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();    </span><br><span class="line">        Iterator&lt;Map.Entry&lt;K,V&gt;&gt; it = entrySet().iterator();    </span><br><span class="line">   </span><br><span class="line">        sb.append(<span class="string">'{'</span>);    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; ; i++) {    </span><br><span class="line">            Map.Entry&lt;K,V&gt; e = it.next();    </span><br><span class="line">            K key = e.getKey();    </span><br><span class="line">            V value = e.getValue();    </span><br><span class="line">            sb.append(key   == <span class="keyword">this</span> ? <span class="string">"(this Map)"</span> : key.toString());    </span><br><span class="line">            sb.append(<span class="string">'='</span>);    </span><br><span class="line">            sb.append(value == <span class="keyword">this</span> ? <span class="string">"(this Map)"</span> : value.toString());    </span><br><span class="line">   </span><br><span class="line">            <span class="keyword">if</span> (i == max)    </span><br><span class="line">                <span class="keyword">return</span> sb.append(<span class="string">'}'</span>).toString();    </span><br><span class="line">            sb.append(<span class="string">", "</span>);    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 获取Hashtable的枚举类对象    </span></span><br><span class="line">    <span class="comment">// 若Hashtable的实际大小为0,则返回“空枚举类”对象；    </span></span><br><span class="line">    <span class="comment">// 否则，返回正常的Enumerator的对象。   </span></span><br><span class="line">    <span class="keyword">private</span> &lt;T&gt; <span class="function">Enumeration&lt;T&gt; <span class="title">getEnumeration</span><span class="params">(<span class="keyword">int</span> type)</span> </span>{    </span><br><span class="line">    <span class="keyword">if</span> (count == <span class="number">0</span>) {    </span><br><span class="line">        <span class="keyword">return</span> (Enumeration&lt;T&gt;)emptyEnumerator;    </span><br><span class="line">    } <span class="keyword">else</span> {    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Enumerator&lt;T&gt;(type, <span class="keyword">false</span>);    </span><br><span class="line">    }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 获取Hashtable的迭代器    </span></span><br><span class="line">    <span class="comment">// 若Hashtable的实际大小为0,则返回“空迭代器”对象；    </span></span><br><span class="line">    <span class="comment">// 否则，返回正常的Enumerator的对象。(Enumerator实现了迭代器和枚举两个接口)    </span></span><br><span class="line">    <span class="keyword">private</span> &lt;T&gt; <span class="function">Iterator&lt;T&gt; <span class="title">getIterator</span><span class="params">(<span class="keyword">int</span> type)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">0</span>) {    </span><br><span class="line">            <span class="keyword">return</span> (Iterator&lt;T&gt;) emptyIterator;    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Enumerator&lt;T&gt;(type, <span class="keyword">true</span>);    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Hashtable的“key的集合”。它是一个Set，没有重复元素    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">volatile</span> Set&lt;K&gt; keySet = <span class="keyword">null</span>;    </span><br><span class="line">    <span class="comment">// Hashtable的“key-value的集合”。它是一个Set，没有重复元素    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">volatile</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet = <span class="keyword">null</span>;    </span><br><span class="line">    <span class="comment">// Hashtable的“key-value的集合”。它是一个Collection，可以有重复元素    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">volatile</span> Collection&lt;V&gt; values = <span class="keyword">null</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回一个被synchronizedSet封装后的KeySet对象    </span></span><br><span class="line">    <span class="comment">// synchronizedSet封装的目的是对KeySet的所有方法都添加synchronized，实现多线程同步    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Set&lt;K&gt; <span class="title">keySet</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (keySet == <span class="keyword">null</span>)    </span><br><span class="line">            keySet = Collections.synchronizedSet(<span class="keyword">new</span> KeySet(), <span class="keyword">this</span>);    </span><br><span class="line">        <span class="keyword">return</span> keySet;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Hashtable的Key的Set集合。    </span></span><br><span class="line">    <span class="comment">// KeySet继承于AbstractSet，所以，KeySet中的元素没有重复的。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">KeySet</span> <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">K</span>&gt; </span>{    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> Iterator&lt;K&gt; <span class="title">iterator</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> getIterator(KEYS);    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> count;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> containsKey(o);    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> Hashtable.<span class="keyword">this</span>.remove(o) != <span class="keyword">null</span>;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">            Hashtable.<span class="keyword">this</span>.clear();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回一个被synchronizedSet封装后的EntrySet对象    </span></span><br><span class="line">    <span class="comment">// synchronizedSet封装的目的是对EntrySet的所有方法都添加synchronized，实现多线程同步    </span></span><br><span class="line">    <span class="keyword">public</span> Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {    </span><br><span class="line">        <span class="keyword">if</span> (entrySet==<span class="keyword">null</span>)    </span><br><span class="line">            entrySet = Collections.synchronizedSet(<span class="keyword">new</span> EntrySet(), <span class="keyword">this</span>);    </span><br><span class="line">        <span class="keyword">return</span> entrySet;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Hashtable的Entry的Set集合。    </span></span><br><span class="line">    <span class="comment">// EntrySet继承于AbstractSet，所以，EntrySet中的元素没有重复的。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">EntrySet</span> <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;&gt; </span>{    </span><br><span class="line">        <span class="keyword">public</span> Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {    </span><br><span class="line">            <span class="keyword">return</span> getIterator(ENTRIES);    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(Map.Entry&lt;K,V&gt; o)</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.add(o);    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 查找EntrySet中是否包含Object(0)    </span></span><br><span class="line">        <span class="comment">// 首先，在table中找到o对应的Entry链表    </span></span><br><span class="line">        <span class="comment">// 然后，查找Entry链表中是否存在Object    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Map.Entry))    </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">            Map.Entry entry = (Map.Entry)o;    </span><br><span class="line">            Object key = entry.getKey();    </span><br><span class="line">            Entry[] tab = table;    </span><br><span class="line">            <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">            <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">   </span><br><span class="line">            <span class="keyword">for</span> (Entry e = tab[index]; e != <span class="keyword">null</span>; e = e.next)    </span><br><span class="line">                <span class="keyword">if</span> (e.hash==hash &amp;&amp; e.equals(entry))    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 删除元素Object(0)    </span></span><br><span class="line">        <span class="comment">// 首先，在table中找到o对应的Entry链表  </span></span><br><span class="line">        <span class="comment">// 然后，删除链表中的元素Object    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Map.Entry))    </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">            Map.Entry&lt;K,V&gt; entry = (Map.Entry&lt;K,V&gt;) o;    </span><br><span class="line">            K key = entry.getKey();    </span><br><span class="line">            Entry[] tab = table;    </span><br><span class="line">            <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">            <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">   </span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index], prev = <span class="keyword">null</span>; e != <span class="keyword">null</span>;    </span><br><span class="line">                 prev = e, e = e.next) {    </span><br><span class="line">                <span class="keyword">if</span> (e.hash==hash &amp;&amp; e.equals(entry)) {    </span><br><span class="line">                    modCount++;    </span><br><span class="line">                    <span class="keyword">if</span> (prev != <span class="keyword">null</span>)    </span><br><span class="line">                        prev.next = e.next;    </span><br><span class="line">                    <span class="keyword">else</span>   </span><br><span class="line">                        tab[index] = e.next;    </span><br><span class="line">   </span><br><span class="line">                    count--;    </span><br><span class="line">                    e.value = <span class="keyword">null</span>;    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">                }    </span><br><span class="line">            }    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> count;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">            Hashtable.<span class="keyword">this</span>.clear();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回一个被synchronizedCollection封装后的ValueCollection对象    </span></span><br><span class="line">    <span class="comment">// synchronizedCollection封装的目的是对ValueCollection的所有方法都添加synchronized，实现多线程同步    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Collection&lt;V&gt; <span class="title">values</span><span class="params">()</span> </span>{    </span><br><span class="line">    <span class="keyword">if</span> (values==<span class="keyword">null</span>)    </span><br><span class="line">        values = Collections.synchronizedCollection(<span class="keyword">new</span> ValueCollection(),    </span><br><span class="line">                                                        <span class="keyword">this</span>);    </span><br><span class="line">        <span class="keyword">return</span> values;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Hashtable的value的Collection集合。    </span></span><br><span class="line">    <span class="comment">// ValueCollection继承于AbstractCollection，所以，ValueCollection中的元素可以重复的。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ValueCollection</span> <span class="keyword">extends</span> <span class="title">AbstractCollection</span>&lt;<span class="title">V</span>&gt; </span>{    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> Iterator&lt;V&gt; <span class="title">iterator</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> getIterator(VALUES);    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> count;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> containsValue(o);    </span><br><span class="line">        }    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">            Hashtable.<span class="keyword">this</span>.clear();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 重新equals()函数    </span></span><br><span class="line">    <span class="comment">// 若两个Hashtable的所有key-value键值对都相等，则判断它们两个相等    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">this</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Map))    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        Map&lt;K,V&gt; t = (Map&lt;K,V&gt;) o;    </span><br><span class="line">        <span class="keyword">if</span> (t.size() != size())    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">try</span> {    </span><br><span class="line">            <span class="comment">// 通过迭代器依次取出当前Hashtable的key-value键值对    </span></span><br><span class="line">            <span class="comment">// 并判断该键值对，存在于Hashtable中。    </span></span><br><span class="line">            <span class="comment">// 若不存在，则立即返回false；否则，遍历完“当前Hashtable”并返回true。    </span></span><br><span class="line">            Iterator&lt;Map.Entry&lt;K,V&gt;&gt; i = entrySet().iterator();    </span><br><span class="line">            <span class="keyword">while</span> (i.hasNext()) {    </span><br><span class="line">                Map.Entry&lt;K,V&gt; e = i.next();    </span><br><span class="line">                K key = e.getKey();    </span><br><span class="line">                V value = e.getValue();    </span><br><span class="line">                <span class="keyword">if</span> (value == <span class="keyword">null</span>) {    </span><br><span class="line">                    <span class="keyword">if</span> (!(t.get(key)==<span class="keyword">null</span> &amp;&amp; t.containsKey(key)))    </span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">                } <span class="keyword">else</span> {    </span><br><span class="line">                    <span class="keyword">if</span> (!value.equals(t.get(key)))    </span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">                }    </span><br><span class="line">            }    </span><br><span class="line">        } <span class="keyword">catch</span> (ClassCastException unused)   {    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        } <span class="keyword">catch</span> (NullPointerException unused) {    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 计算Entry的hashCode    </span></span><br><span class="line">    <span class="comment">// 若 Hashtable的实际大小为0 或者 加载因子&lt;0，则返回0。    </span></span><br><span class="line">    <span class="comment">// 否则，返回“Hashtable中的每个Entry的key和value的异或值 的总和”。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">int</span> h = <span class="number">0</span>;    </span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">0</span> || loadFactor &lt; <span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span> h;  <span class="comment">// Returns zero    </span></span><br><span class="line">   </span><br><span class="line">        loadFactor = -loadFactor;  <span class="comment">// Mark hashCode computation in progress    </span></span><br><span class="line">        Entry[] tab = table;    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tab.length; i++)    </span><br><span class="line">            <span class="keyword">for</span> (Entry e = tab[i]; e != <span class="keyword">null</span>; e = e.next)    </span><br><span class="line">                h += e.key.hashCode() ^ e.value.hashCode();    </span><br><span class="line">        loadFactor = -loadFactor;  <span class="comment">// Mark hashCode computation complete    </span></span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> h;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// java.io.Serializable的写入函数    </span></span><br><span class="line">    <span class="comment">// 将Hashtable的“总的容量，实际容量，所有的Entry”都写入到输出流中    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">(java.io.ObjectOutputStream s)</span>    </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> IOException    </span></span><br><span class="line"><span class="function">    </span>{    </span><br><span class="line">        <span class="comment">// Write out the length, threshold, loadfactor    </span></span><br><span class="line">        s.defaultWriteObject();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Write out length, count of elements and then the key/value objects    </span></span><br><span class="line">        s.writeInt(table.length);    </span><br><span class="line">        s.writeInt(count);    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = table.length-<span class="number">1</span>; index &gt;= <span class="number">0</span>; index--) {    </span><br><span class="line">            Entry entry = table[index];    </span><br><span class="line">   </span><br><span class="line">            <span class="keyword">while</span> (entry != <span class="keyword">null</span>) {    </span><br><span class="line">            s.writeObject(entry.key);    </span><br><span class="line">            s.writeObject(entry.value);    </span><br><span class="line">            entry = entry.next;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// java.io.Serializable的读取函数：根据写入方式读出    </span></span><br><span class="line">    <span class="comment">// 将Hashtable的“总的容量，实际容量，所有的Entry”依次读出    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">(java.io.ObjectInputStream s)</span>    </span></span><br><span class="line"><span class="function">         <span class="keyword">throws</span> IOException, ClassNotFoundException    </span></span><br><span class="line"><span class="function">    </span>{    </span><br><span class="line">        <span class="comment">// Read in the length, threshold, and loadfactor    </span></span><br><span class="line">        s.defaultReadObject();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Read the original length of the array and number of elements    </span></span><br><span class="line">        <span class="keyword">int</span> origlength = s.readInt();    </span><br><span class="line">        <span class="keyword">int</span> elements = s.readInt();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Compute new size with a bit of room 5% to grow but    </span></span><br><span class="line">        <span class="comment">// no larger than the original size.  Make the length    </span></span><br><span class="line">        <span class="comment">// odd if it's large enough, this helps distribute the entries.    </span></span><br><span class="line">        <span class="comment">// Guard against the length ending up zero, that's not valid.    </span></span><br><span class="line">        <span class="keyword">int</span> length = (<span class="keyword">int</span>)(elements * loadFactor) + (elements / <span class="number">20</span>) + <span class="number">3</span>;    </span><br><span class="line">        <span class="keyword">if</span> (length &gt; elements &amp;&amp; (length &amp; <span class="number">1</span>) == <span class="number">0</span>)    </span><br><span class="line">            length--;    </span><br><span class="line">        <span class="keyword">if</span> (origlength &gt; <span class="number">0</span> &amp;&amp; length &gt; origlength)    </span><br><span class="line">            length = origlength;    </span><br><span class="line">   </span><br><span class="line">        Entry[] table = <span class="keyword">new</span> Entry[length];    </span><br><span class="line">        count = <span class="number">0</span>;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Read the number of elements and then all the key/value objects    </span></span><br><span class="line">        <span class="keyword">for</span> (; elements &gt; <span class="number">0</span>; elements--) {    </span><br><span class="line">            K key = (K)s.readObject();    </span><br><span class="line">            V value = (V)s.readObject();    </span><br><span class="line">                <span class="comment">// synch could be eliminated for performance    </span></span><br><span class="line">                reconstitutionPut(table, key, value);    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">this</span>.table = table;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reconstitutionPut</span><span class="params">(Entry[] tab, K key, V value)</span>    </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> StreamCorruptedException    </span></span><br><span class="line"><span class="function">    </span>{    </span><br><span class="line">        <span class="keyword">if</span> (value == <span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> java.io.StreamCorruptedException();    </span><br><span class="line">        }    </span><br><span class="line">        <span class="comment">// Makes sure the key is not already in the hashtable.    </span></span><br><span class="line">        <span class="comment">// This should not happen in deserialized version.    </span></span><br><span class="line">        <span class="keyword">int</span> hash = key.hashCode();    </span><br><span class="line">        <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index] ; e != <span class="keyword">null</span> ; e = e.next) {    </span><br><span class="line">            <span class="keyword">if</span> ((e.hash == hash) &amp;&amp; e.key.equals(key)) {    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> java.io.StreamCorruptedException();    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="comment">// Creates the new entry.    </span></span><br><span class="line">        Entry&lt;K,V&gt; e = tab[index];    </span><br><span class="line">        tab[index] = <span class="keyword">new</span> Entry&lt;K,V&gt;(hash, key, value, e);    </span><br><span class="line">        count++;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Hashtable的Entry节点，它本质上是一个单向链表。    </span></span><br><span class="line">    <span class="comment">// 也因此，我们才能推断出Hashtable是由拉链法实现的散列表    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>{    </span><br><span class="line">        <span class="comment">// 哈希值    </span></span><br><span class="line">        <span class="keyword">int</span> hash;    </span><br><span class="line">        K key;    </span><br><span class="line">        V value;    </span><br><span class="line">        <span class="comment">// 指向的下一个Entry，即链表的下一个节点    </span></span><br><span class="line">        Entry&lt;K,V&gt; next;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 构造函数    </span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="title">Entry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, Entry&lt;K,V&gt; next)</span> </span>{    </span><br><span class="line">            <span class="keyword">this</span>.hash = hash;    </span><br><span class="line">            <span class="keyword">this</span>.key = key;    </span><br><span class="line">            <span class="keyword">this</span>.value = value;    </span><br><span class="line">            <span class="keyword">this</span>.next = next;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Entry&lt;K,V&gt;(hash, key, value,    </span><br><span class="line">                  (next==<span class="keyword">null</span> ? <span class="keyword">null</span> : (Entry&lt;K,V&gt;) next.clone()));    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> K <span class="title">getKey</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> key;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> V <span class="title">getValue</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> value;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 设置value。若value是null，则抛出异常。    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> V <span class="title">setValue</span><span class="params">(V value)</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (value == <span class="keyword">null</span>)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();    </span><br><span class="line">   </span><br><span class="line">            V oldValue = <span class="keyword">this</span>.value;    </span><br><span class="line">            <span class="keyword">this</span>.value = value;    </span><br><span class="line">            <span class="keyword">return</span> oldValue;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 覆盖equals()方法，判断两个Entry是否相等。    </span></span><br><span class="line">        <span class="comment">// 若两个Entry的key和value都相等，则认为它们相等。    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Map.Entry))    </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">            Map.Entry e = (Map.Entry)o;    </span><br><span class="line">   </span><br><span class="line">            <span class="keyword">return</span> (key==<span class="keyword">null</span> ? e.getKey()==<span class="keyword">null</span> : key.equals(e.getKey())) &amp;&amp;    </span><br><span class="line">               (value==<span class="keyword">null</span> ? e.getValue()==<span class="keyword">null</span> : value.equals(e.getValue()));    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> hash ^ (value==<span class="keyword">null</span> ? <span class="number">0</span> : value.hashCode());    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> key.toString()+<span class="string">"="</span>+value.toString();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> KEYS = <span class="number">0</span>;    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> VALUES = <span class="number">1</span>;    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ENTRIES = <span class="number">2</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// Enumerator的作用是提供了“通过elements()遍历Hashtable的接口” 和 “通过entrySet()遍历Hashtable的接口”。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Enumerator</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Enumeration</span>&lt;<span class="title">T</span>&gt;, <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>{    </span><br><span class="line">        <span class="comment">// 指向Hashtable的table    </span></span><br><span class="line">        Entry[] table = Hashtable.<span class="keyword">this</span>.table;    </span><br><span class="line">        <span class="comment">// Hashtable的总的大小    </span></span><br><span class="line">        <span class="keyword">int</span> index = table.length;    </span><br><span class="line">        Entry&lt;K,V&gt; entry = <span class="keyword">null</span>;    </span><br><span class="line">        Entry&lt;K,V&gt; lastReturned = <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">int</span> type;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// Enumerator是 “迭代器(Iterator)” 还是 “枚举类(Enumeration)”的标志    </span></span><br><span class="line">        <span class="comment">// iterator为true，表示它是迭代器；否则，是枚举类。    </span></span><br><span class="line">        <span class="keyword">boolean</span> iterator;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 在将Enumerator当作迭代器使用时会用到，用来实现fail-fast机制。    </span></span><br><span class="line">        <span class="keyword">protected</span> <span class="keyword">int</span> expectedModCount = modCount;    </span><br><span class="line">   </span><br><span class="line">        Enumerator(<span class="keyword">int</span> type, <span class="keyword">boolean</span> iterator) {    </span><br><span class="line">            <span class="keyword">this</span>.type = type;    </span><br><span class="line">            <span class="keyword">this</span>.iterator = iterator;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 从遍历table的数组的末尾向前查找，直到找到不为null的Entry。    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasMoreElements</span><span class="params">()</span> </span>{    </span><br><span class="line">            Entry&lt;K,V&gt; e = entry;    </span><br><span class="line">            <span class="keyword">int</span> i = index;    </span><br><span class="line">            Entry[] t = table;    </span><br><span class="line">            <span class="comment">/* Use locals for faster loop iteration */</span>   </span><br><span class="line">            <span class="keyword">while</span> (e == <span class="keyword">null</span> &amp;&amp; i &gt; <span class="number">0</span>) {    </span><br><span class="line">                e = t[--i];    </span><br><span class="line">            }    </span><br><span class="line">            entry = e;    </span><br><span class="line">            index = i;    </span><br><span class="line">            <span class="keyword">return</span> e != <span class="keyword">null</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 获取下一个元素    </span></span><br><span class="line">        <span class="comment">// 注意：从hasMoreElements() 和nextElement() 可以看出“Hashtable的elements()遍历方式”    </span></span><br><span class="line">        <span class="comment">// 首先，从后向前的遍历table数组。table数组的每个节点都是一个单向链表(Entry)。    </span></span><br><span class="line">        <span class="comment">// 然后，依次向后遍历单向链表Entry。    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">nextElement</span><span class="params">()</span> </span>{    </span><br><span class="line">            Entry&lt;K,V&gt; et = entry;    </span><br><span class="line">            <span class="keyword">int</span> i = index;    </span><br><span class="line">            Entry[] t = table;    </span><br><span class="line">            <span class="comment">/* Use locals for faster loop iteration */</span>   </span><br><span class="line">            <span class="keyword">while</span> (et == <span class="keyword">null</span> &amp;&amp; i &gt; <span class="number">0</span>) {    </span><br><span class="line">                et = t[--i];    </span><br><span class="line">            }    </span><br><span class="line">            entry = et;    </span><br><span class="line">            index = i;    </span><br><span class="line">            <span class="keyword">if</span> (et != <span class="keyword">null</span>) {    </span><br><span class="line">                Entry&lt;K,V&gt; e = lastReturned = entry;    </span><br><span class="line">                entry = e.next;    </span><br><span class="line">                <span class="keyword">return</span> type == KEYS ? (T)e.key : (type == VALUES ? (T)e.value : (T)e);    </span><br><span class="line">            }    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException(<span class="string">"Hashtable Enumerator"</span>);    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 迭代器Iterator的判断是否存在下一个元素    </span></span><br><span class="line">        <span class="comment">// 实际上，它是调用的hasMoreElements()    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> hasMoreElements();    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 迭代器获取下一个元素    </span></span><br><span class="line">        <span class="comment">// 实际上，它是调用的nextElement()    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (modCount != expectedModCount)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();    </span><br><span class="line">            <span class="keyword">return</span> nextElement();    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 迭代器的remove()接口。    </span></span><br><span class="line">        <span class="comment">// 首先，它在table数组中找出要删除元素所在的Entry，    </span></span><br><span class="line">        <span class="comment">// 然后，删除单向链表Entry中的元素。    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (!iterator)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();    </span><br><span class="line">            <span class="keyword">if</span> (lastReturned == <span class="keyword">null</span>)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"Hashtable Enumerator"</span>);    </span><br><span class="line">            <span class="keyword">if</span> (modCount != expectedModCount)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();    </span><br><span class="line">   </span><br><span class="line">            <span class="keyword">synchronized</span>(Hashtable.<span class="keyword">this</span>) {    </span><br><span class="line">                Entry[] tab = Hashtable.<span class="keyword">this</span>.table;    </span><br><span class="line">                <span class="keyword">int</span> index = (lastReturned.hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;    </span><br><span class="line">   </span><br><span class="line">                <span class="keyword">for</span> (Entry&lt;K,V&gt; e = tab[index], prev = <span class="keyword">null</span>; e != <span class="keyword">null</span>;    </span><br><span class="line">                     prev = e, e = e.next) {    </span><br><span class="line">                    <span class="keyword">if</span> (e == lastReturned) {    </span><br><span class="line">                        modCount++;    </span><br><span class="line">                        expectedModCount++;    </span><br><span class="line">                        <span class="keyword">if</span> (prev == <span class="keyword">null</span>)    </span><br><span class="line">                            tab[index] = e.next;    </span><br><span class="line">                        <span class="keyword">else</span>   </span><br><span class="line">                            prev.next = e.next;    </span><br><span class="line">                        count--;    </span><br><span class="line">                        lastReturned = <span class="keyword">null</span>;    </span><br><span class="line">                        <span class="keyword">return</span>;    </span><br><span class="line">                    }    </span><br><span class="line">                }    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Enumeration emptyEnumerator = <span class="keyword">new</span> EmptyEnumerator();    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Iterator emptyIterator = <span class="keyword">new</span> EmptyIterator();    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 空枚举类    </span></span><br><span class="line">    <span class="comment">// 当Hashtable的实际大小为0；此时，又要通过Enumeration遍历Hashtable时，返回的是“空枚举类”的对象。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">EmptyEnumerator</span> <span class="keyword">implements</span> <span class="title">Enumeration</span>&lt;<span class="title">Object</span>&gt; </span>{    </span><br><span class="line">   </span><br><span class="line">        EmptyEnumerator() {    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 空枚举类的hasMoreElements() 始终返回false    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasMoreElements</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 空枚举类的nextElement() 抛出异常    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Object <span class="title">nextElement</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException(<span class="string">"Hashtable Enumerator"</span>);    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 空迭代器    </span></span><br><span class="line">    <span class="comment">// 当Hashtable的实际大小为0；此时，又要通过迭代器遍历Hashtable时，返回的是“空迭代器”的对象。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">EmptyIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Object</span>&gt; </span>{    </span><br><span class="line">   </span><br><span class="line">        EmptyIterator() {    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> Object <span class="title">next</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException(<span class="string">"Hashtable Iterator"</span>);    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"Hashtable Iterator"</span>);    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">    }    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h1><p>是最基本的集合接口</p><p>继承的接口：Iterable</p><p>子接口：List、Set、Queue等</p><p>遍历Collection中的每一个元素</p><p>它支持一个Iterator()方法，该方法返回一个迭代子，该迭代子可逐一访问Collection中每一个元素</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Iterator it = collection.iterator(); <span class="comment">// 获得一个迭代子</span></span><br><span class="line">    <span class="keyword">while</span>(it.hasNext())　　</span><br><span class="line">    {</span><br><span class="line">        Object obj = it.next(); <span class="comment">// 得到下一个元素</span></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p>方法：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">retainAll(Collection&lt;?extends E&gt;c);  <span class="comment">//保留，交运算</span></span><br><span class="line">addAll(Collection&lt;?extends E&gt;c);       <span class="comment">//添加，并运算</span></span><br><span class="line">removeAll(Collection&lt;?extends E&gt;c);     <span class="comment">//移除，减运算</span></span><br></pre></td></tr></tbody></table></figure><hr><h1 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h1><p>LinkedList是基于双向循环链表实现的，除了可以当作链表来操作外，它还可以当作栈、队列和双端队列来使用。</p><p>非线程安全，单线程下使用</p><p>LinkedList实现了Serializable接口，因此它支持序列化，能够通过序列化传输，实现了Cloneable接口，能被克隆。</p><ul><li>是一个类</li><li>实现的接口：List、Collection、Iterable、Serializable、Cloneable、Deque，Queue</li><li>子类：没有子类</li></ul><p>添加元素方法：</p><p><strong>boolean add(E e)</strong> 添加到链表末尾</p><p><strong>void add(int index, E e)</strong> 添加到指定位置</p><p><strong>boolean addAll(int index, Collection&lt;? extends E&gt; c)</strong></p><p><strong>boolean addAll(Collection&lt;? extends E&gt; c)</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;    </span><br><span class="line">   </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedList</span>&lt;<span class="title">E</span>&gt;    </span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractSequentialList</span>&lt;<span class="title">E</span>&gt;    </span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">Deque</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>    </span></span><br><span class="line"><span class="class"></span>{    </span><br><span class="line">    <span class="comment">// 链表的表头，表头不包含任何数据。Entry是个链表类数据结构。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> Entry&lt;E&gt; header = <span class="keyword">new</span> Entry&lt;E&gt;(<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// LinkedList中元素个数    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">int</span> size = <span class="number">0</span>;    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 默认构造函数：创建一个空的链表    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedList</span><span class="params">()</span> </span>{    </span><br><span class="line">        header.next = header.previous = header;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 包含“集合”的构造函数:创建一个包含“集合”的LinkedList    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedList</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>{    </span><br><span class="line">        <span class="keyword">this</span>();    </span><br><span class="line">        addAll(c);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 获取LinkedList的第一个元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">getFirst</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 链表的表头header中不包含数据。    </span></span><br><span class="line">        <span class="comment">// 这里返回header所指下一个节点所包含的数据。    </span></span><br><span class="line">        <span class="keyword">return</span> header.next.element;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 获取LinkedList的最后一个元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">getLast</span><span class="params">()</span>  </span>{    </span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 由于LinkedList是双向链表；而表头header不包含数据。    </span></span><br><span class="line">        <span class="comment">// 因而，这里返回表头header的前一个节点所包含的数据。    </span></span><br><span class="line">        <span class="keyword">return</span> header.previous.element;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除LinkedList的第一个元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">removeFirst</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> remove(header.next);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除LinkedList的最后一个元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">removeLast</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> remove(header.previous);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将元素添加到LinkedList的起始位置    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        addBefore(e, header.next);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将元素添加到LinkedList的结束位置    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        addBefore(e, header);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 判断LinkedList是否包含元素(o)    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> indexOf(o) != -<span class="number">1</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回LinkedList的大小    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> size;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将元素(E)添加到LinkedList中    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        <span class="comment">// 将节点(节点数据是e)添加到表头(header)之前。    </span></span><br><span class="line">        <span class="comment">// 即，将节点添加到双向链表的末端。    </span></span><br><span class="line">        addBefore(e, header);    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 从LinkedList中删除元素(o)    </span></span><br><span class="line">    <span class="comment">// 从链表开始查找，如存在元素(o)则删除该元素并返回true；    </span></span><br><span class="line">    <span class="comment">// 否则，返回false。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (o==<span class="keyword">null</span>) {    </span><br><span class="line">            <span class="comment">// 若o为null的删除情况    </span></span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;E&gt; e = header.next; e != header; e = e.next) {    </span><br><span class="line">                <span class="keyword">if</span> (e.element==<span class="keyword">null</span>) {    </span><br><span class="line">                    remove(e);    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">                }    </span><br><span class="line">            }    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="comment">// 若o不为null的删除情况    </span></span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;E&gt; e = header.next; e != header; e = e.next) {    </span><br><span class="line">                <span class="keyword">if</span> (o.equals(e.element)) {    </span><br><span class="line">                    remove(e);    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">                }    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将“集合(c)”添加到LinkedList中。    </span></span><br><span class="line">    <span class="comment">// 实际上，是从双向链表的末尾开始，将“集合(c)”添加到双向链表中。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> addAll(size, c);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 从双向链表的index开始，将“集合(c)”添加到双向链表中。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(<span class="keyword">int</span> index, Collection&lt;? extends E&gt; c)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; size)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"Index: "</span>+index+    </span><br><span class="line">                                                <span class="string">", Size: "</span>+size);    </span><br><span class="line">        Object[] a = c.toArray();    </span><br><span class="line">        <span class="comment">// 获取集合的长度    </span></span><br><span class="line">        <span class="keyword">int</span> numNew = a.length;    </span><br><span class="line">        <span class="keyword">if</span> (numNew==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">        modCount++;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 设置“当前要插入节点的后一个节点”    </span></span><br><span class="line">        Entry&lt;E&gt; successor = (index==size ? header : entry(index));    </span><br><span class="line">        <span class="comment">// 设置“当前要插入节点的前一个节点”    </span></span><br><span class="line">        Entry&lt;E&gt; predecessor = successor.previous;    </span><br><span class="line">        <span class="comment">// 将集合(c)全部插入双向链表中    </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numNew; i++) {    </span><br><span class="line">            Entry&lt;E&gt; e = <span class="keyword">new</span> Entry&lt;E&gt;((E)a[i], successor, predecessor);    </span><br><span class="line">            predecessor.next = e;    </span><br><span class="line">            predecessor = e;    </span><br><span class="line">        }    </span><br><span class="line">        successor.previous = predecessor;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 调整LinkedList的实际大小    </span></span><br><span class="line">        size += numNew;    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 清空双向链表    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>{    </span><br><span class="line">        Entry&lt;E&gt; e = header.next;    </span><br><span class="line">        <span class="comment">// 从表头开始，逐个向后遍历；对遍历到的节点执行一下操作：    </span></span><br><span class="line">        <span class="comment">// (01) 设置前一个节点为null     </span></span><br><span class="line">        <span class="comment">// (02) 设置当前节点的内容为null     </span></span><br><span class="line">        <span class="comment">// (03) 设置后一个节点为“新的当前节点”    </span></span><br><span class="line">        <span class="keyword">while</span> (e != header) {    </span><br><span class="line">            Entry&lt;E&gt; next = e.next;    </span><br><span class="line">            e.next = e.previous = <span class="keyword">null</span>;    </span><br><span class="line">            e.element = <span class="keyword">null</span>;    </span><br><span class="line">            e = next;    </span><br><span class="line">        }    </span><br><span class="line">        header.next = header.previous = header;    </span><br><span class="line">        <span class="comment">// 设置大小为0    </span></span><br><span class="line">        size = <span class="number">0</span>;    </span><br><span class="line">        modCount++;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回LinkedList指定位置的元素    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> entry(index).element;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 设置index位置对应的节点的值为element    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>{    </span><br><span class="line">        Entry&lt;E&gt; e = entry(index);    </span><br><span class="line">        E oldVal = e.element;    </span><br><span class="line">        e.element = element;    </span><br><span class="line">        <span class="keyword">return</span> oldVal;    </span><br><span class="line">    }    </span><br><span class="line">     </span><br><span class="line">    <span class="comment">// 在index前添加节点，且节点的值为element    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>{    </span><br><span class="line">        addBefore(element, (index==size ? header : entry(index)));    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除index位置的节点    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> remove(entry(index));    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 获取双向链表中指定位置的节点    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Entry&lt;E&gt; <span class="title">entry</span><span class="params">(<span class="keyword">int</span> index)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"Index: "</span>+index+    </span><br><span class="line">                                                <span class="string">", Size: "</span>+size);    </span><br><span class="line">        Entry&lt;E&gt; e = header;    </span><br><span class="line">        <span class="comment">// 获取index处的节点。    </span></span><br><span class="line">        <span class="comment">// 若index &lt; 双向链表长度的1/2,则从前先后查找;    </span></span><br><span class="line">        <span class="comment">// 否则，从后向前查找。    </span></span><br><span class="line">        <span class="keyword">if</span> (index &lt; (size &gt;&gt; <span class="number">1</span>)) {    </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= index; i++)    </span><br><span class="line">                e = e.next;    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = size; i &gt; index; i--)    </span><br><span class="line">                e = e.previous;    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> e;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 从前向后查找，返回“值为对象(o)的节点对应的索引”    </span></span><br><span class="line">    <span class="comment">// 不存在就返回-1    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;    </span><br><span class="line">        <span class="keyword">if</span> (o==<span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">for</span> (Entry e = header.next; e != header; e = e.next) {    </span><br><span class="line">                <span class="keyword">if</span> (e.element==<span class="keyword">null</span>)    </span><br><span class="line">                    <span class="keyword">return</span> index;    </span><br><span class="line">                index++;    </span><br><span class="line">            }    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="keyword">for</span> (Entry e = header.next; e != header; e = e.next) {    </span><br><span class="line">                <span class="keyword">if</span> (o.equals(e.element))    </span><br><span class="line">                    <span class="keyword">return</span> index;    </span><br><span class="line">                index++;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 从后向前查找，返回“值为对象(o)的节点对应的索引”    </span></span><br><span class="line">    <span class="comment">// 不存在就返回-1    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">int</span> index = size;    </span><br><span class="line">        <span class="keyword">if</span> (o==<span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">for</span> (Entry e = header.previous; e != header; e = e.previous) {    </span><br><span class="line">                index--;    </span><br><span class="line">                <span class="keyword">if</span> (e.element==<span class="keyword">null</span>)    </span><br><span class="line">                    <span class="keyword">return</span> index;    </span><br><span class="line">            }    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="keyword">for</span> (Entry e = header.previous; e != header; e = e.previous) {    </span><br><span class="line">                index--;    </span><br><span class="line">                <span class="keyword">if</span> (o.equals(e.element))    </span><br><span class="line">                    <span class="keyword">return</span> index;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回第一个节点    </span></span><br><span class="line">    <span class="comment">// 若LinkedList的大小为0,则返回null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">peek</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">return</span> getFirst();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回第一个节点    </span></span><br><span class="line">    <span class="comment">// 若LinkedList的大小为0,则抛出异常    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">element</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> getFirst();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除并返回第一个节点    </span></span><br><span class="line">    <span class="comment">// 若LinkedList的大小为0,则返回null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">poll</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">return</span> removeFirst();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将e添加双向链表末尾    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">offer</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> add(e);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将e添加双向链表开头    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">offerFirst</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        addFirst(e);    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将e添加双向链表末尾    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">offerLast</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        addLast(e);    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回第一个节点    </span></span><br><span class="line">    <span class="comment">// 若LinkedList的大小为0,则返回null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">peekFirst</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">return</span> getFirst();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回最后一个节点    </span></span><br><span class="line">    <span class="comment">// 若LinkedList的大小为0,则返回null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">peekLast</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">return</span> getLast();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除并返回第一个节点    </span></span><br><span class="line">    <span class="comment">// 若LinkedList的大小为0,则返回null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">pollFirst</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">return</span> removeFirst();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除并返回最后一个节点    </span></span><br><span class="line">    <span class="comment">// 若LinkedList的大小为0,则返回null    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">pollLast</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (size==<span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;    </span><br><span class="line">        <span class="keyword">return</span> removeLast();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将e插入到双向链表开头    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">        addFirst(e);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 删除并返回第一个节点    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">pop</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> removeFirst();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 从LinkedList开始向后查找，删除第一个值为元素(o)的节点    </span></span><br><span class="line">    <span class="comment">// 从链表开始查找，如存在节点的值为元素(o)的节点，则删除该节点    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">removeFirstOccurrence</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> remove(o);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 从LinkedList末尾向前查找，删除第一个值为元素(o)的节点    </span></span><br><span class="line">    <span class="comment">// 从链表开始查找，如存在节点的值为元素(o)的节点，则删除该节点    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">removeLastOccurrence</span><span class="params">(Object o)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (o==<span class="keyword">null</span>) {    </span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;E&gt; e = header.previous; e != header; e = e.previous) {    </span><br><span class="line">                <span class="keyword">if</span> (e.element==<span class="keyword">null</span>) {    </span><br><span class="line">                    remove(e);    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">                }    </span><br><span class="line">            }    </span><br><span class="line">        } <span class="keyword">else</span> {    </span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;E&gt; e = header.previous; e != header; e = e.previous) {    </span><br><span class="line">                <span class="keyword">if</span> (o.equals(e.element)) {    </span><br><span class="line">                    remove(e);    </span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;    </span><br><span class="line">                }    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回“index到末尾的全部节点”对应的ListIterator对象(List迭代器)    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListIterator&lt;E&gt; <span class="title">listIterator</span><span class="params">(<span class="keyword">int</span> index)</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ListItr(index);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// List迭代器    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ListItr</span> <span class="keyword">implements</span> <span class="title">ListIterator</span>&lt;<span class="title">E</span>&gt; </span>{    </span><br><span class="line">        <span class="comment">// 上一次返回的节点    </span></span><br><span class="line">        <span class="keyword">private</span> Entry&lt;E&gt; lastReturned = header;    </span><br><span class="line">        <span class="comment">// 下一个节点    </span></span><br><span class="line">        <span class="keyword">private</span> Entry&lt;E&gt; next;    </span><br><span class="line">        <span class="comment">// 下一个节点对应的索引值    </span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> nextIndex;    </span><br><span class="line">        <span class="comment">// 期望的改变计数。用来实现fail-fast机制。    </span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> expectedModCount = modCount;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 构造函数。    </span></span><br><span class="line">        <span class="comment">// 从index位置开始进行迭代    </span></span><br><span class="line">        ListItr(<span class="keyword">int</span> index) {    </span><br><span class="line">            <span class="comment">// index的有效性处理    </span></span><br><span class="line">            <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; size)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"Index: "</span>+index+ <span class="string">", Size: "</span>+size);    </span><br><span class="line">            <span class="comment">// 若 “index 小于 ‘双向链表长度的一半’”，则从第一个元素开始往后查找；    </span></span><br><span class="line">            <span class="comment">// 否则，从最后一个元素往前查找。    </span></span><br><span class="line">            <span class="keyword">if</span> (index &lt; (size &gt;&gt; <span class="number">1</span>)) {    </span><br><span class="line">                next = header.next;    </span><br><span class="line">                <span class="keyword">for</span> (nextIndex=<span class="number">0</span>; nextIndex&lt;index; nextIndex++)    </span><br><span class="line">                    next = next.next;    </span><br><span class="line">            } <span class="keyword">else</span> {    </span><br><span class="line">                next = header;    </span><br><span class="line">                <span class="keyword">for</span> (nextIndex=size; nextIndex&gt;index; nextIndex--)    </span><br><span class="line">                    next = next.previous;    </span><br><span class="line">            }    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 是否存在下一个元素    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="comment">// 通过元素索引是否等于“双向链表大小”来判断是否达到最后。    </span></span><br><span class="line">            <span class="keyword">return</span> nextIndex != size;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 获取下一个元素    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> E <span class="title">next</span><span class="params">()</span> </span>{    </span><br><span class="line">            checkForComodification();    </span><br><span class="line">            <span class="keyword">if</span> (nextIndex == size)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();    </span><br><span class="line">   </span><br><span class="line">            lastReturned = next;    </span><br><span class="line">            <span class="comment">// next指向链表的下一个元素    </span></span><br><span class="line">            next = next.next;    </span><br><span class="line">            nextIndex++;    </span><br><span class="line">            <span class="keyword">return</span> lastReturned.element;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 是否存在上一个元素    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPrevious</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="comment">// 通过元素索引是否等于0，来判断是否达到开头。    </span></span><br><span class="line">            <span class="keyword">return</span> nextIndex != <span class="number">0</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 获取上一个元素    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> E <span class="title">previous</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (nextIndex == <span class="number">0</span>)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();    </span><br><span class="line">   </span><br><span class="line">            <span class="comment">// next指向链表的上一个元素    </span></span><br><span class="line">            lastReturned = next = next.previous;    </span><br><span class="line">            nextIndex--;    </span><br><span class="line">            checkForComodification();    </span><br><span class="line">            <span class="keyword">return</span> lastReturned.element;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 获取下一个元素的索引    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nextIndex</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> nextIndex;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 获取上一个元素的索引    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">previousIndex</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> nextIndex-<span class="number">1</span>;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 删除当前元素。    </span></span><br><span class="line">        <span class="comment">// 删除双向链表中的当前节点    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>{    </span><br><span class="line">            checkForComodification();    </span><br><span class="line">            Entry&lt;E&gt; lastNext = lastReturned.next;    </span><br><span class="line">            <span class="keyword">try</span> {    </span><br><span class="line">                LinkedList.<span class="keyword">this</span>.remove(lastReturned);    </span><br><span class="line">            } <span class="keyword">catch</span> (NoSuchElementException e) {    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException();    </span><br><span class="line">            }    </span><br><span class="line">            <span class="keyword">if</span> (next==lastReturned)    </span><br><span class="line">                next = lastNext;    </span><br><span class="line">            <span class="keyword">else</span>   </span><br><span class="line">                nextIndex--;    </span><br><span class="line">            lastReturned = header;    </span><br><span class="line">            expectedModCount++;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 设置当前节点为e    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (lastReturned == header)    </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException();    </span><br><span class="line">            checkForComodification();    </span><br><span class="line">            lastReturned.element = e;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 将e添加到当前节点的前面    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(E e)</span> </span>{    </span><br><span class="line">            checkForComodification();    </span><br><span class="line">            lastReturned = header;    </span><br><span class="line">            addBefore(e, next);    </span><br><span class="line">            nextIndex++;    </span><br><span class="line">            expectedModCount++;    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 判断 “modCount和expectedModCount是否相等”，依次来实现fail-fast机制。    </span></span><br><span class="line">        <span class="function"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title">checkForComodification</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">if</span> (modCount != expectedModCount)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 双向链表的节点所对应的数据结构。    </span></span><br><span class="line">    <span class="comment">// 包含3部分：上一节点，下一节点，当前节点值。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">E</span>&gt; </span>{    </span><br><span class="line">        <span class="comment">// 当前节点所包含的值    </span></span><br><span class="line">        E element;    </span><br><span class="line">        <span class="comment">// 下一个节点    </span></span><br><span class="line">        Entry&lt;E&gt; next;    </span><br><span class="line">        <span class="comment">// 上一个节点    </span></span><br><span class="line">        Entry&lt;E&gt; previous;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">/**   </span></span><br><span class="line"><span class="comment">         * 链表节点的构造函数。   </span></span><br><span class="line"><span class="comment">         * 参数说明：   </span></span><br><span class="line"><span class="comment">         *   element  —— 节点所包含的数据   </span></span><br><span class="line"><span class="comment">         *   next      —— 下一个节点   </span></span><br><span class="line"><span class="comment">         *   previous —— 上一个节点   </span></span><br><span class="line"><span class="comment">         */</span>   </span><br><span class="line">        Entry(E element, Entry&lt;E&gt; next, Entry&lt;E&gt; previous) {    </span><br><span class="line">            <span class="keyword">this</span>.element = element;    </span><br><span class="line">            <span class="keyword">this</span>.next = next;    </span><br><span class="line">            <span class="keyword">this</span>.previous = previous;    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将节点(节点数据是e)添加到entry节点之前。    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Entry&lt;E&gt; <span class="title">addBefore</span><span class="params">(E e, Entry&lt;E&gt; entry)</span> </span>{    </span><br><span class="line">        <span class="comment">// 新建节点newEntry，将newEntry插入到节点e之前；并且设置newEntry的数据是e    </span></span><br><span class="line">        Entry&lt;E&gt; newEntry = <span class="keyword">new</span> Entry&lt;E&gt;(e, entry, entry.previous);    </span><br><span class="line">        newEntry.previous.next = newEntry;    </span><br><span class="line">        newEntry.next.previous = newEntry;    </span><br><span class="line">        <span class="comment">// 修改LinkedList大小    </span></span><br><span class="line">        size++;    </span><br><span class="line">        <span class="comment">// 修改LinkedList的修改统计数：用来实现fail-fast机制。    </span></span><br><span class="line">        modCount++;    </span><br><span class="line">        <span class="keyword">return</span> newEntry;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 将节点从链表中删除    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> E <span class="title">remove</span><span class="params">(Entry&lt;E&gt; e)</span> </span>{    </span><br><span class="line">        <span class="keyword">if</span> (e == header)    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();    </span><br><span class="line">   </span><br><span class="line">        E result = e.element;    </span><br><span class="line">        e.previous.next = e.next;    </span><br><span class="line">        e.next.previous = e.previous;    </span><br><span class="line">        e.next = e.previous = <span class="keyword">null</span>;    </span><br><span class="line">        e.element = <span class="keyword">null</span>;    </span><br><span class="line">        size--;    </span><br><span class="line">        modCount++;    </span><br><span class="line">        <span class="keyword">return</span> result;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 反向迭代器    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">descendingIterator</span><span class="params">()</span> </span>{    </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DescendingIterator();    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 反向迭代器实现类。    </span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">DescendingIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span> </span>{    </span><br><span class="line">        <span class="keyword">final</span> ListItr itr = <span class="keyword">new</span> ListItr(size());    </span><br><span class="line">        <span class="comment">// 反向迭代器是否下一个元素。    </span></span><br><span class="line">        <span class="comment">// 实际上是判断双向链表的当前节点是否达到开头    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> itr.hasPrevious();    </span><br><span class="line">        }    </span><br><span class="line">        <span class="comment">// 反向迭代器获取下一个元素。    </span></span><br><span class="line">        <span class="comment">// 实际上是获取双向链表的前一个节点    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> E <span class="title">next</span><span class="params">()</span> </span>{    </span><br><span class="line">            <span class="keyword">return</span> itr.previous();    </span><br><span class="line">        }    </span><br><span class="line">        <span class="comment">// 删除当前节点    </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>{    </span><br><span class="line">            itr.remove();    </span><br><span class="line">        }    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回LinkedList的Object[]数组    </span></span><br><span class="line">    <span class="keyword">public</span> Object[] toArray() {    </span><br><span class="line">    <span class="comment">// 新建Object[]数组    </span></span><br><span class="line">    Object[] result = <span class="keyword">new</span> Object[size];    </span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;    </span><br><span class="line">        <span class="comment">// 将链表中所有节点的数据都添加到Object[]数组中    </span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;E&gt; e = header.next; e != header; e = e.next)    </span><br><span class="line">            result[i++] = e.element;    </span><br><span class="line">    <span class="keyword">return</span> result;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 返回LinkedList的模板数组。所谓模板数组，即可以将T设为任意的数据类型    </span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T[] toArray(T[] a) {    </span><br><span class="line">        <span class="comment">// 若数组a的大小 &lt; LinkedList的元素个数(意味着数组a不能容纳LinkedList中全部元素)    </span></span><br><span class="line">        <span class="comment">// 则新建一个T[]数组，T[]的大小为LinkedList大小，并将该T[]赋值给a。    </span></span><br><span class="line">        <span class="keyword">if</span> (a.length &lt; size)    </span><br><span class="line">            a = (T[])java.lang.reflect.Array.newInstance(    </span><br><span class="line">                                a.getClass().getComponentType(), size);    </span><br><span class="line">        <span class="comment">// 将链表中所有节点的数据都添加到数组a中    </span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;    </span><br><span class="line">        Object[] result = a;    </span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;E&gt; e = header.next; e != header; e = e.next)    </span><br><span class="line">            result[i++] = e.element;    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">if</span> (a.length &gt; size)    </span><br><span class="line">            a[size] = <span class="keyword">null</span>;    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> a;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 克隆函数。返回LinkedList的克隆对象。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">clone</span><span class="params">()</span> </span>{    </span><br><span class="line">        LinkedList&lt;E&gt; clone = <span class="keyword">null</span>;    </span><br><span class="line">        <span class="comment">// 克隆一个LinkedList克隆对象    </span></span><br><span class="line">        <span class="keyword">try</span> {    </span><br><span class="line">            clone = (LinkedList&lt;E&gt;) <span class="keyword">super</span>.clone();    </span><br><span class="line">        } <span class="keyword">catch</span> (CloneNotSupportedException e) {    </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InternalError();    </span><br><span class="line">        }    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 新建LinkedList表头节点    </span></span><br><span class="line">        clone.header = <span class="keyword">new</span> Entry&lt;E&gt;(<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);    </span><br><span class="line">        clone.header.next = clone.header.previous = clone.header;    </span><br><span class="line">        clone.size = <span class="number">0</span>;    </span><br><span class="line">        clone.modCount = <span class="number">0</span>;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 将链表中所有节点的数据都添加到克隆对象中    </span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;E&gt; e = header.next; e != header; e = e.next)    </span><br><span class="line">            clone.add(e.element);    </span><br><span class="line">   </span><br><span class="line">        <span class="keyword">return</span> clone;    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// java.io.Serializable的写入函数    </span></span><br><span class="line">    <span class="comment">// 将LinkedList的“容量，所有的元素值”都写入到输出流中    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">(java.io.ObjectOutputStream s)</span>    </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> java.io.IOException </span>{    </span><br><span class="line">        <span class="comment">// Write out any hidden serialization magic    </span></span><br><span class="line">        s.defaultWriteObject();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 写入“容量”    </span></span><br><span class="line">        s.writeInt(size);    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 将链表中所有节点的数据都写入到输出流中    </span></span><br><span class="line">        <span class="keyword">for</span> (Entry e = header.next; e != header; e = e.next)    </span><br><span class="line">            s.writeObject(e.element);    </span><br><span class="line">    }    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">// java.io.Serializable的读取函数：根据写入方式反向读出    </span></span><br><span class="line">    <span class="comment">// 先将LinkedList的“容量”读出，然后将“所有的元素值”读出    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">(java.io.ObjectInputStream s)</span>    </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> java.io.IOException, ClassNotFoundException </span>{    </span><br><span class="line">        <span class="comment">// Read in any hidden serialization magic    </span></span><br><span class="line">        s.defaultReadObject();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 从输入流中读取“容量”    </span></span><br><span class="line">        <span class="keyword">int</span> size = s.readInt();    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 新建链表表头节点    </span></span><br><span class="line">        header = <span class="keyword">new</span> Entry&lt;E&gt;(<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);    </span><br><span class="line">        header.next = header.previous = header;    </span><br><span class="line">   </span><br><span class="line">        <span class="comment">// 从输入流中将“所有的元素值”并逐个添加到链表中    </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)    </span><br><span class="line">            addBefore((E)s.readObject(), header);    </span><br><span class="line">    }    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 数据结构 </tag>
            
            <tag> 源码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java基础-3</title>
      <link href="/2017/09/11/java-ji-chu-3/"/>
      <url>/2017/09/11/java-ji-chu-3/</url>
      
        <content type="html"><![CDATA[<p>一些Java基本功的记录。</p><p>Java基础系列：</p><p><a href="http://zhoudm.com/2017/08/07/Java%E5%9F%BA%E7%A1%80-1/" target="_blank" rel="noopener">Java基础-1</a></p><p><a href="http://zhoudm.com/2017/08/11/Java%E5%9F%BA%E7%A1%80-2/" target="_blank" rel="noopener">Java基础-2</a></p><a id="more"></a><h1 id="ArrayList与LinkedList的底层实现"><a href="#ArrayList与LinkedList的底层实现" class="headerlink" title="ArrayList与LinkedList的底层实现"></a>ArrayList与LinkedList的底层实现</h1><p>ArrayList是List接口的一个实现类，特点是查询效率高，增删效率低，线程不安全</p><p>原因是ArrayList底层封装了一个数组，他是用数组实现的。</p><table><thead><tr><th align="center">地址</th><th align="center"></th><th align="center">数组空间</th></tr></thead><tbody><tr><td align="center">2000</td><td align="center">————-&gt;</td><td align="center">a[0]</td></tr><tr><td align="center">2004</td><td align="center">————-&gt;</td><td align="center">a[1]</td></tr><tr><td align="center">2008</td><td align="center">————-&gt;</td><td align="center">a[2]</td></tr><tr><td align="center">—</td><td align="center">————-&gt;</td><td align="center">…</td></tr><tr><td align="center">2000+（n-1）*4</td><td align="center">————-&gt;</td><td align="center">a[n]</td></tr></tbody></table><p>定义一个int[]数组，首地址是2000，int类型占4个字节，所以a[0]的首地址2000，a[1]就是2004</p><p>每次查询只要一个偏移量就可以了，所以查询效率高</p><p>增删效率低的原因：</p><table><thead><tr><th align="center">地址</th><th align="center"></th><th align="center">数组空间</th></tr></thead><tbody><tr><td align="center">2000</td><td align="center">————-&gt;</td><td align="center">a[0]</td></tr><tr><td align="center">2004</td><td align="center">————-&gt;</td><td align="center">(新增元素)</td></tr><tr><td align="center">2008</td><td align="center">————-&gt;</td><td align="center">a[1]</td></tr><tr><td align="center">—</td><td align="center">————-&gt;</td><td align="center">…</td></tr><tr><td align="center">2000+（n-1）*4</td><td align="center">————-&gt;</td><td align="center">a[n]</td></tr></tbody></table><p>新增元素会引起后面的元素的移动，所以增删效率低。</p><ul><li>LinkedList</li></ul><p>增删效率高，查询效率低</p><p>LinkedList底层采用双向循环链表实现的List，链表的存储特点是不挨着，它存储每个元素分为三段：上一项的地址，下一项的地址，元素的内容。</p><p>每个元素在内存中的排列像是随机的，得根据地址来找元素，所以很慢</p><p>增删很快是因为，删除一个元素，前后元素会自动连上，而且删除一个元素只影响前后元素，所以增删效率高。</p><hr><h1 id="TCP三次握手，以及为什么不是两次或四次"><a href="#TCP三次握手，以及为什么不是两次或四次" class="headerlink" title="TCP三次握手，以及为什么不是两次或四次"></a>TCP三次握手，以及为什么不是两次或四次</h1><ul><li>三次握手过程：</li></ul><p>第一次握手：客户端发送TCP包，置SYN标志位为1，将初始序号X，保存在包头的序列号（Seq）里。</p><p>第二次握手：服务端回应确认包，置SYN标志位为1，置ACK为X+1，将初始序列号Y，保存在包头的序列号里。</p><p>第三次握手：客户端对服务端的确认包进行确认，置SYN标志位为0，置ACK为Y+1，置序列号为Z。</p><ul><li>如果只有2次</li></ul><p>第二次握手后，服务端发送请求给客户端，服务端以为连接成功了，但是如果实际上客户端没收到的话，客户端会认为连接没有建立，服务端会对已建立的连接保存必要的资源，如果出现大量这种情况，服务端会崩溃。</p><ul><li>如果是4次</li></ul><p>无谓的第四次</p><hr><h1 id="二叉树深度、结点"><a href="#二叉树深度、结点" class="headerlink" title="二叉树深度、结点"></a>二叉树深度、结点</h1><p>​二叉树的第 i 层至多有 2^(i-1) 个结点；</p><p>深度为 k 的二叉树至多有 2^k - 1 ​个结点；</p><p>对任何一棵二叉树 T，如果其终端结点数为 n0，度为 2 的结点数为 n2，则n0 = n2 + 1。</p><hr><h1 id="排序算法的稳定性是指"><a href="#排序算法的稳定性是指" class="headerlink" title="排序算法的稳定性是指"></a>排序算法的稳定性是指</h1><ul><li>经过排序之后,能使值相同的数据保持原顺序中的相对位置不变</li></ul><hr><h1 id="HTTP方法"><a href="#HTTP方法" class="headerlink" title="HTTP方法"></a>HTTP方法</h1><ul><li>GET</li></ul><p>获取接口信息</p><ul><li>PUT</li></ul><p>支持幂等性的POST</p><ul><li>HEAD</li></ul><p>紧急查看接口的HTTP的头</p><ul><li>POST</li></ul><p>提交数据到服务器</p><ul><li>DELETE</li></ul><p>删除服务器上的资源</p><ul><li>OPTIONS</li></ul><p>查看支持的方法</p><hr><h1 id="常见的HTTP相应状态码"><a href="#常见的HTTP相应状态码" class="headerlink" title="常见的HTTP相应状态码"></a><strong>常见的HTTP相应状态码</strong></h1><figure class="highlight tex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1xx：指示信息--表示请求已接收，继续处理</span><br><span class="line"></span><br><span class="line">2xx：成功--表示请求已被成功接收、理解、接受</span><br><span class="line"></span><br><span class="line">3xx：重定向--要完成请求必须进行更进一步的操作</span><br><span class="line"></span><br><span class="line">4xx：客户端错误--请求有语法错误或请求无法实现</span><br><span class="line"></span><br><span class="line">5xx：服务器端错误--服务器未能实现合法的请求</span><br></pre></td></tr></tbody></table></figure><figure class="highlight tex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">101 – 切换协议</span><br><span class="line"></span><br><span class="line">201 – 已创建。</span><br><span class="line">202 – 已接受。</span><br><span class="line">203 – 非权威性信息。</span><br><span class="line">204 – 无内容。</span><br><span class="line">205 – 重置内容。</span><br><span class="line">206 – 部分内容。</span><br><span class="line"></span><br><span class="line">302 – 对象已移动。</span><br><span class="line">304 – 未修改。</span><br><span class="line">307 – 临时重定向。</span><br><span class="line"></span><br><span class="line">401 – 访问被拒绝</span><br><span class="line">403 – 禁止访问</span><br><span class="line">404 – 未找到</span><br><span class="line">405 – 用来访问本页面的 HTTP 谓词不被允许（方法不被允许）</span><br><span class="line">406 – 客户端浏览器不接受所请求页面的 MIME 类型。</span><br><span class="line">407 – 要求进行代理身份验证。</span><br><span class="line">412 – 前提条件失败。</span><br><span class="line">413 – 请求实体太大。</span><br><span class="line">414 – 请求 URI 太长。</span><br><span class="line">415 – 不支持的媒体类型。</span><br><span class="line">416 – 所请求的范围无法满足。</span><br><span class="line">417 – 执行失败。</span><br><span class="line">423 – 锁定的错误。</span><br><span class="line"></span><br><span class="line">500 – 内部服务器错误。</span><br><span class="line"></span><br><span class="line">200：请求被正常处理</span><br><span class="line">204：请求被受理但没有资源可以返回</span><br><span class="line">206：客户端只是请求资源的一部分，服务器只对请求的部分资源执行GET方法，相应报文中通过Content-Range指定范围 的资源。</span><br><span class="line">301：永久性重定向</span><br><span class="line">302：临时重定向</span><br><span class="line">303：与302状态码有相似功能，只是它希望客户端在请求一个URI的时候，能通过GET方法重定向到另一个URI上</span><br><span class="line">304：发送附带条件的请求时，条件不满足时返回，与重定向无关</span><br><span class="line">307：临时重定向，与302类似，只是强制要求使用POST方法</span><br><span class="line">400：请求报文语法有误，服务器无法识别</span><br><span class="line">401：请求需要认证</span><br><span class="line">403：请求的对应资源禁止被访问</span><br><span class="line">404：服务器无法找到对应资源</span><br><span class="line">500：服务器内部错误</span><br><span class="line">503：服务器正忙</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="反射机制功能"><a href="#反射机制功能" class="headerlink" title="反射机制功能"></a>反射机制功能</h1><ul><li>获得一个对象所属的类</li><li>获得一个类所有的成员变量和方法</li><li>运行时创建对象</li><li>运行时调用对象的方法</li></ul><hr><h1 id="Java创建对象的方式"><a href="#Java创建对象的方式" class="headerlink" title="Java创建对象的方式"></a>Java创建对象的方式</h1><ul><li>new一个</li><li>反射机制</li><li>clone()方法</li><li>反序列化的方式</li></ul><hr><h1 id="Java程序初始化顺序"><a href="#Java程序初始化顺序" class="headerlink" title="Java程序初始化顺序"></a>Java程序初始化顺序</h1><ul><li>父类静态变量</li><li>父类静态代码块</li></ul><ul><li>子类静态变量</li><li>子类静态代码块</li></ul><ul><li>父类非静态变量</li><li>父类非静态代码块</li><li>父类构造函数</li></ul><ul><li>子类非静态变量</li><li>子类非静态代码块</li><li>子类构造函数</li></ul><hr><h1 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a>volatile</h1><p>用来修饰被不同线程访问和修改的变量</p><p>被volatile类型定义的变量，系统每次用它都是直接从内存中取，而不会利用缓存。</p><hr><h1 id="Java堆溢出"><a href="#Java堆溢出" class="headerlink" title="Java堆溢出"></a>Java堆溢出</h1><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HeapOOM1</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">OOMObject</span></span>{}</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        List&lt;OOMObject&gt; list = <span class="keyword">new</span> ArrayList&lt;OOMObject&gt;();</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>){</span><br><span class="line">            list.add(<span class="keyword">new</span> OOMObject());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h1><p>单例模式就是在应用程序中只创建一个该类的对象。又分为饿汉模式和懒汉模式。<strong>*实现套路也就是只提供私有构造函数，然后提供公有的 getInstance 方法。*</strong></p><ul><li>饿汉模式：也就是一开始就创建该对象</li><li>懒汉模式：等到需要用到的时候才创建该对象</li></ul><h2 id="饿汉模式"><a href="#饿汉模式" class="headerlink" title="饿汉模式"></a>饿汉模式</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>{  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton singleton = <span class="keyword">new</span> Singleton();  </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>{};  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>{  </span><br><span class="line">        <span class="keyword">return</span> singleton;  </span><br><span class="line">    }  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="懒汉模式"><a href="#懒汉模式" class="headerlink" title="懒汉模式"></a>懒汉模式</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>{  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton singleton;      </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>{};  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>{  </span><br><span class="line">        <span class="keyword">if</span>(singleton == <span class="keyword">null</span>)  </span><br><span class="line">            singleton = <span class="keyword">new</span> Singleton();  </span><br><span class="line">        <span class="keyword">return</span> singleton;  </span><br><span class="line">    }  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="多线程-synchronized"><a href="#多线程-synchronized" class="headerlink" title="多线程 synchronized"></a>多线程 synchronized</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>{  </span><br><span class="line">    <span class="keyword">if</span>(singleton == <span class="keyword">null</span>)  </span><br><span class="line">        singleton = <span class="keyword">new</span> Singleton();   </span><br><span class="line">    <span class="keyword">return</span> singleton;  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="双重检验锁"><a href="#双重检验锁" class="headerlink" title="双重检验锁"></a>双重检验锁</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton singleton;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (singleton == <span class="keyword">null</span>) {                           <span class="comment">//Single Checked</span></span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton<span class="class">.<span class="keyword">class</span>) </span>{</span><br><span class="line">                <span class="keyword">if</span> (singleton == <span class="keyword">null</span>) {                   <span class="comment">//Double Checked</span></span><br><span class="line">                    singleton = <span class="keyword">new</span> Singleton();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> singleton;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《程序员代码面试指南（字符串问题）》</title>
      <link href="/2017/09/01/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-zi-fu-chuan-wen-ti/"/>
      <url>/2017/09/01/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-zi-fu-chuan-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>字符串问题也是老生常谈的算法问题，该书罗列的字符串问题以我做算法的经验来看，都是很好的题。</p><p><a href="https://github.com/DarminZhou/Algorithm" target="_blank" rel="noopener">代码 Github 地址</a></p><a id="more"></a><h1 id="判断两个字符串是否互为变形词"><a href="#判断两个字符串是否互为变形词" class="headerlink" title="判断两个字符串是否互为变形词"></a>判断两个字符串是否互为变形词</h1><p>给定两个字符串str1和str2，如果str1和str2中出现的字符种类一样且每种字符出现的次数也一样，那么str1和str2互为变形词。请实现函数判断两个字符串是否互为变形词。<br>str1=”123”,str2=”231”,返回true。<br>str1=”123”,str2=”2331”,返回false。</p><p>先判断长度是不是一致</p><p>再用一个长度为256的数组标记，一个加，一个减。最后看是不是互抵了。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/1.</span></span><br><span class="line"><span class="comment"> * 判断两个字符串是否互为变形词</span></span><br><span class="line"><span class="comment"> * 给定两个字符串str1和str2，如果str1和str2中出现的字符种类一样且每种字符出现的次数也一样，</span></span><br><span class="line"><span class="comment"> * 那么str1和str2互为变形词。请实现函数判断两个字符串是否互为变形词。</span></span><br><span class="line"><span class="comment"> 　　str1="123",str2="231",返回true。</span></span><br><span class="line"><span class="comment"> 　　str1="123",str2="2331",返回false。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">isDeformation1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args [])</span></span>{</span><br><span class="line">        String str1=<span class="string">"54s6"</span>;</span><br><span class="line">        String str2=<span class="string">"465d"</span>;</span><br><span class="line">        System.out.println(isDeformation(str1,str2));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isDeformation</span><span class="params">(String str1 ,String str2)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(str1.length()!=str2.length()){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> res[]=<span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">256</span>];</span><br><span class="line">        <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (index!=str1.length()){</span><br><span class="line">            res[str1.charAt(index)]++;</span><br><span class="line">            res[str2.charAt(index++)]--;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">256</span>;i++){</span><br><span class="line">            <span class="keyword">if</span>(res[i]!=<span class="number">0</span>){</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="字符串的调整与替换"><a href="#字符串的调整与替换" class="headerlink" title="字符串的调整与替换"></a>字符串的调整与替换</h1><p> *把 “a b  c” 替换后为  “a%20b%20%20c”</p><p>开辟空间，从尾部遍历替换到头部</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/1.</span></span><br><span class="line"><span class="comment"> * 字符串的调整与替换</span></span><br><span class="line"><span class="comment"> *把 "a b  c" 替换后为  “a%20b%20%20c”</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">replace1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args )</span></span>{</span><br><span class="line">        String str=<span class="string">"a b  c"</span>;</span><br><span class="line">        <span class="keyword">char</span> chas[]=<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++){</span><br><span class="line">            chas[i]=str.charAt(i);</span><br><span class="line">        }</span><br><span class="line">        replace(chas);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">replace</span><span class="params">(<span class="keyword">char</span> [] chas)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(;len&lt;chas.length &amp;&amp; chas[len]!=<span class="number">0</span>;len++){</span><br><span class="line">            <span class="keyword">if</span>(chas[len]==<span class="string">' '</span>){</span><br><span class="line">                num++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> index=len+num*<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(;index&gt;=<span class="number">0</span>;index--){</span><br><span class="line">            <span class="keyword">if</span> (chas[len--]==<span class="string">' '</span>){</span><br><span class="line">                chas[index--]=<span class="string">'0'</span>;</span><br><span class="line">                chas[index--]=<span class="string">'2'</span>;</span><br><span class="line">                chas[index]=<span class="string">'%'</span>;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                chas[index]=chas[len+<span class="number">1</span>];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(chas);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>扩展：</p><p>只含有数字字符和“<em>”字符的字符类型数组，把数字字符挪到右边，</em> *挪到左边</p><p>12**35</p><p>**1235</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/1.</span></span><br><span class="line"><span class="comment"> * 只含有数字字符和“”字符的字符类型数组，把数字字符挪到右边， *挪到左边</span></span><br><span class="line"><span class="comment"> 12**35</span></span><br><span class="line"><span class="comment"> **1235</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">replace2</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args )</span></span>{</span><br><span class="line">        String str=<span class="string">"12**35"</span>;</span><br><span class="line">        <span class="keyword">char</span> chas[]=<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++){</span><br><span class="line">            chas[i]=str.charAt(i);</span><br><span class="line">        }</span><br><span class="line">        modify(chas);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">modify</span><span class="params">(<span class="keyword">char</span> [] chas)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(chas==<span class="keyword">null</span>||chas.length==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> j=chas.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=chas.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--){</span><br><span class="line">            <span class="keyword">if</span>(chas[i]!=<span class="string">'*'</span>){</span><br><span class="line">                chas[j--]=chas[i];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(;j&gt;=<span class="number">0</span>;j--){</span><br><span class="line">            chas[j]=<span class="string">'*'</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        System.out.println(chas);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="翻转字符串"><a href="#翻转字符串" class="headerlink" title="翻转字符串"></a>翻转字符串</h1><p>写一个函数，将字符串翻转，翻转方式如下：“I am a student”反转成“student a am I”，不借助任何库函数。</p><p>写个函数，先整体翻转一次，然后再每个单词翻转一次。easy！</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/2.</span></span><br><span class="line"><span class="comment"> * 翻转字符串</span></span><br><span class="line"><span class="comment"> * 写一个函数，将字符串翻转，翻转方式如下：“I am a student”反转成“student a am I”，不借助任何库函数。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">rotateWord1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        String str= <span class="string">"dogs love pig."</span>;</span><br><span class="line"></span><br><span class="line">        rotateWord(str);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">rotateWord</span><span class="params">(String str)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(str==<span class="keyword">null</span>||str.length()==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span> [] strArr = str.toCharArray();</span><br><span class="line">        reverse(strArr,<span class="number">0</span>,strArr.length-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strArr.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(strArr[i]==<span class="string">' '</span>){</span><br><span class="line">                reverse(strArr,index,i-<span class="number">1</span>);</span><br><span class="line">                index=i+<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        reverse(strArr,index,strArr.length-<span class="number">1</span>);</span><br><span class="line">        System.out.println(strArr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span>[] strArr ,<span class="keyword">int</span> first ,<span class="keyword">int</span> end)</span></span>{</span><br><span class="line">        <span class="keyword">while</span> (first&lt;end){</span><br><span class="line">            <span class="keyword">char</span> tmp=strArr[first];</span><br><span class="line">            strArr[first]=strArr[end];</span><br><span class="line">            strArr[end]=tmp;</span><br><span class="line">            first++;</span><br><span class="line">            end--;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="数组中两个字符串的最小距离"><a href="#数组中两个字符串的最小距离" class="headerlink" title="数组中两个字符串的最小距离"></a>数组中两个字符串的最小距离</h1><ul><li><p>Assume that words = [“practice”, “makes”, “perfect”, “coding”, “makes”].</p></li><li><p>Given word1 = “coding”, word2 = “practice”, return 3.</p></li><li><p>Given word1 = “makes”, word2 = “coding”, return 1.</p></li></ul><p>用2个下标指向2个字符串，跟新位置，互相减，然后Math.min取小的。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/3.</span></span><br><span class="line"><span class="comment"> * 数组中两个字符串的最小距离</span></span><br><span class="line"><span class="comment"> *Assume that words = ["practice", "makes", "perfect", "coding", "makes"].</span></span><br><span class="line"><span class="comment"> *  Given word1 = “coding”, word2 = “practice”, return 3.</span></span><br><span class="line"><span class="comment"> *   Given word1 = "makes", word2 = "coding", return 1.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">minDistance1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>{</span><br><span class="line">        String [] strs ={<span class="string">"1"</span>,<span class="string">"3"</span>,<span class="string">"3"</span>,<span class="string">"3"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"1"</span>};</span><br><span class="line">        String str1=<span class="string">"1"</span>;</span><br><span class="line">        String str2=<span class="string">"2"</span>;</span><br><span class="line">        minDistance(strs,str1,str2);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">minDistance</span><span class="params">(String[] strs,String str1 , String str2)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(strs==<span class="keyword">null</span>||strs.length==<span class="number">0</span>||str1==<span class="keyword">null</span>||str2==<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> index1=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> index2=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> min=Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strs.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(strs[i]==str1){</span><br><span class="line">                index1=i;</span><br><span class="line">                <span class="keyword">if</span>(index2!=-<span class="number">1</span>){</span><br><span class="line">                    min=Math.min(min,index1-index2);</span><br><span class="line">                }</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span>(strs[i]==str2){</span><br><span class="line">                index2=i;</span><br><span class="line">                <span class="keyword">if</span>(index1!=-<span class="number">1</span>){</span><br><span class="line">                    min=Math.min(min,index2-index1);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//</span></span><br><span class="line">      <span class="keyword">if</span>(min!=Integer.MAX_VALUE){</span><br><span class="line">            System.out.println(min);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(-<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//上面这个渣渣代码可以这样写：</span></span><br><span class="line">      <span class="comment">// min==Integer.MAX_VALUE ? -1 : min;</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="替换字符串中连续出现的指定字符串"><a href="#替换字符串中连续出现的指定字符串" class="headerlink" title="替换字符串中连续出现的指定字符串"></a>替换字符串中连续出现的指定字符串</h1><p>题目：<br>给定单个字符串str、from和to，已知from字符串中无重复字符，把str中所有from的子串全部替换成to字符串，对连续出现from的部分要求只替换成一个to字符串，返回最终结果字符串。<br>举例：<br>str=”123abc”，from=”abc”，to=”4567”，返回”1234567”；<br>str=”123”，from=”abc”，to=”4567”，返回”123”；<br>str=”123abcabc”，from=”abc”，to=”X”，返回”123X”；</p><p>思路：</p><p>把from匹配的字符，设为0，然后把0的部分全部替换掉成to，就好了</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/4.</span></span><br><span class="line"><span class="comment"> * 替换字符串中连续出现的指定字符串</span></span><br><span class="line"><span class="comment"> 题目：</span></span><br><span class="line"><span class="comment"> 给定单个字符串str、from和to，已知from字符串中无重复字符，把str中所有from的子串全部替换成to字符串，对连续出现from的部分要求只替换成一个to字符串，返回最终结果字符串。</span></span><br><span class="line"><span class="comment"> 举例：</span></span><br><span class="line"><span class="comment"> str="123abc"，from="abc"，to="4567"，返回"1234567"；</span></span><br><span class="line"><span class="comment"> str="123"，from="abc"，to="4567"，返回"123"；</span></span><br><span class="line"><span class="comment"> str="123abcabc"，from="abc"，to="X"，返回"123X"；</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">replace3</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>{</span><br><span class="line">        String str=<span class="string">"123abcabc"</span>;</span><br><span class="line">        String from=<span class="string">"abc"</span>;</span><br><span class="line">        String to = <span class="string">"4567"</span>;</span><br><span class="line">        System.out.println(replace(str,from,to));</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">replace</span><span class="params">(String str,String from ,String to)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(str==<span class="keyword">null</span>||from==<span class="string">""</span>||to==<span class="string">""</span>){</span><br><span class="line">            <span class="keyword">return</span> str;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span>[] chstr=str.toCharArray();</span><br><span class="line">        <span class="keyword">char</span>[] chfrom=from.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> match=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++){</span><br><span class="line">            <span class="keyword">if</span>(chstr[i]==chfrom[match++]){</span><br><span class="line">                <span class="keyword">if</span>(match==chfrom.length){</span><br><span class="line">                    clear(chstr,i,chfrom.length);</span><br><span class="line">                    match=<span class="number">0</span>;</span><br><span class="line">                }</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                match=<span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        String res=<span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;chstr.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(chstr[i]!=<span class="number">0</span>){</span><br><span class="line">                <span class="keyword">while</span> (chstr[i]!=<span class="number">0</span>){</span><br><span class="line">                    res+=chstr[i++];</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(chstr[i]==<span class="number">0</span>){</span><br><span class="line">                <span class="keyword">while</span> (i!=chstr.length&amp;&amp;chstr[i]==<span class="number">0</span>){</span><br><span class="line">                    i++;</span><br><span class="line">                }</span><br><span class="line">                res+=to;</span><br><span class="line">                i--;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">(<span class="keyword">char</span>[] chstr , <span class="keyword">int</span> end ,<span class="keyword">int</span> len)</span></span>{</span><br><span class="line">        <span class="keyword">while</span>(len--!=<span class="number">0</span>){</span><br><span class="line">            chstr[end--]=<span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="字符串的统计字符串"><a href="#字符串的统计字符串" class="headerlink" title="字符串的统计字符串"></a>字符串的统计字符串</h1><p> 统计字符串中每个字符的出现频率，返回一个字符串统计，key 为统计字符，value 为出现频率<br>输入：<br> aaabbadddffc<br> 输出：<br> a_3_b_2_a_1_d_3_f_2_c_1</p><p>先记录a，然后一项一项对比记录</p><p>String.valueof()的使用</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/5.</span></span><br><span class="line"><span class="comment"> * 字符串的统计字符串</span></span><br><span class="line"><span class="comment"> 统计字符串中每个字符的出现频率，返回一个字符串统计，key 为统计字符，value 为出现频率</span></span><br><span class="line"><span class="comment">输入：</span></span><br><span class="line"><span class="comment"> aaabbadddffc</span></span><br><span class="line"><span class="comment"> 输出：</span></span><br><span class="line"><span class="comment"> a_3_b_2_a_1_d_3_f_2_c_1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">getCountString1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        String str=<span class="string">"aaabbadddffc"</span>;</span><br><span class="line">        System.out.println(getCountString(str));</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">getCountString</span><span class="params">(String str)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(str==<span class="keyword">null</span>||str.length()==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span> [] chs=str.toCharArray();</span><br><span class="line">        String res=String.valueOf(chs[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">int</span> num=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;str.length();i++){</span><br><span class="line">            <span class="keyword">if</span>(chs[i]==chs[i-<span class="number">1</span>]){</span><br><span class="line">                num++;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                res=res+<span class="string">"_"</span>+String.valueOf(num)+<span class="string">"_"</span>+String.valueOf(chs[i]) ;</span><br><span class="line">                num=<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res+<span class="string">"_"</span>+String.valueOf(num)+<span class="string">""</span> ;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="判断两个字符串是否互为旋转词"><a href="#判断两个字符串是否互为旋转词" class="headerlink" title="判断两个字符串是否互为旋转词"></a>判断两个字符串是否互为旋转词</h1><p> 题目：<br> 如果一个字符串str，把字符串str前面任意的部分挪到后面形成的字符串叫做str的旋转词。<br> 如str=”12345”，str的旋转词有”12345”、”23451”、”34512”、”45123”、”51234”。<br> 给定两个字符串a和b，请判断a和b是否互为旋转词。<br> 举例：<br> a=”cdab”，b=”abcd”，返回true；<br> a=”1ab2”，b=”ab12”，返回false；<br> a=”2ab1”，b=”ab12”，返回true。<br> 要求：<br> 如果a和b长度不一样，那么a和b必然不互为旋转词，可以直接返回false。<br> 当a和b长度一样，都为N时，要求解法的时间复杂度为O(N)。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/6.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">isRotation</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isRotation</span><span class="params">(String a ,String b)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="keyword">null</span>||b==<span class="keyword">null</span>||a.length()!=b.length()){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        }</span><br><span class="line">        String b2=b+b;</span><br><span class="line">        <span class="keyword">return</span> KMP(b2,a)!=-<span class="number">1</span>;   <span class="comment">//  KMP算法</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">KMP</span><span class="params">(String source , String pattern)</span></span>{</span><br><span class="line">    <span class="comment">//    int [] N=getN(pattern);</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="判断是不是整体有效的括号字符串"><a href="#判断是不是整体有效的括号字符串" class="headerlink" title="判断是不是整体有效的括号字符串"></a>判断是不是整体有效的括号字符串</h1><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/18.</span></span><br><span class="line"><span class="comment"> * 判断是不是整体有效的括号字符串</span></span><br><span class="line"><span class="comment"> * 括号字符串的有效性和最长有效长度</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">isValid1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        Scanner cin=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str=cin.next();</span><br><span class="line">        System.out.println(isValid(str));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String str)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(str==<span class="keyword">null</span> ||str.equals(<span class="string">""</span>)){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span> [] chs=str.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> status=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++){</span><br><span class="line">            <span class="keyword">if</span>(chs[i]!=<span class="string">')'</span>&amp;&amp;chs[i]!=<span class="string">'('</span>){</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(chs[i]==<span class="string">')'</span>&amp;&amp;--status&lt;<span class="number">0</span>){</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(chs[i]==<span class="string">'('</span>){</span><br><span class="line">                status++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> status==<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面经-腾讯1</title>
      <link href="/2017/08/30/mian-jing-teng-xun-1/"/>
      <url>/2017/08/30/mian-jing-teng-xun-1/</url>
      
        <content type="html"><![CDATA[<p>基础查漏补缺~</p><a id="more"></a><h1 id="面向对象的特征"><a href="#面向对象的特征" class="headerlink" title="面向对象的特征"></a>面向对象的特征</h1><ol><li>继承：联结性的层次模型，表述共性</li><li>多态：允许不同类对同一消息作出响应</li><li>抽象：过程抽象，数据抽象</li><li>封装：将客观事物抽象成类</li></ol><hr><h1 id="重写和重载有什么不同"><a href="#重写和重载有什么不同" class="headerlink" title="重写和重载有什么不同"></a>重写和重载有什么不同</h1><ul><li>重写（override）：派生类函数覆盖</li></ul><ul><li>重载（overload）：多个方法有相同名字、不同参数。</li></ul><p>区别：</p><ol><li>重写是子类与父类之间的关系，是垂直关系；重载是同一个类中方法之间的关系，是水平关系。</li><li>重写只能由一个方法或者一对方法产生关系；重载是多个方法之间的关系。</li><li>重写要求参数列表相同；重载要求参数列表不同。</li><li>重写关系中，调用方法体是根据对象的类型来决定；重载是根据调用的实参表和形参表来选择方法体。</li></ol><hr><h1 id="计算机加载程序包括哪几个区？"><a href="#计算机加载程序包括哪几个区？" class="headerlink" title="计算机加载程序包括哪几个区？"></a>计算机加载程序包括哪几个区？</h1><h1 id="链表和数组有什么不同？"><a href="#链表和数组有什么不同？" class="headerlink" title="链表和数组有什么不同？"></a>链表和数组有什么不同？</h1><ol><li>数组静态分配内存，链表动态分配内存</li><li>数组在内存中连续，链表不连续</li><li>数组元素在栈区，链表元素在堆区</li><li>数组利用下标定位，时间复杂度O(1)，链表定位元素时间复杂度O(n)</li><li>数组插入和删除时间复杂度O(n)，链表的时间复杂度O(1)</li></ol><hr><h1 id="栈和堆的特点是什么？"><a href="#栈和堆的特点是什么？" class="headerlink" title="栈和堆的特点是什么？"></a>栈和堆的特点是什么？</h1><ul><li>栈：<ol><li>先进后出</li><li>存放的都是局部变量</li><li>使用完变量会自动在内存中释放</li></ol></li><li>堆：<ol><li>可以看成一棵树</li><li>存放的是实体或者成员变量</li><li>存放的实体都是有首地址值的</li><li>实体中的数据都是有初始值的</li></ol></li></ul><hr><h1 id="什么排序稳定性高而且效率？"><a href="#什么排序稳定性高而且效率？" class="headerlink" title="什么排序稳定性高而且效率？"></a>什么排序稳定性高而且效率？</h1><p>快排</p><hr><h1 id="进程间通讯的几种方式？"><a href="#进程间通讯的几种方式？" class="headerlink" title="进程间通讯的几种方式？"></a>进程间通讯的几种方式？</h1><ol><li>文件和记录锁定</li><li>管道</li><li>有名管道</li><li>FIFO</li><li>信号量</li><li>信号</li><li>消息队列</li><li>共享内存</li><li>套接字（socket）</li></ol><p><a href="http://blog.csdn.net/u014774781/article/details/45485735" target="_blank" rel="noopener">详解</a></p><hr><h1 id="解释-TCP-IP的三次握手协议"><a href="#解释-TCP-IP的三次握手协议" class="headerlink" title="解释 TCP/IP的三次握手协议"></a>解释 TCP/IP的三次握手协议</h1><h1 id="TCP-IP有什么作用"><a href="#TCP-IP有什么作用" class="headerlink" title="TCP/IP有什么作用"></a>TCP/IP有什么作用</h1><h1 id="有哪些方式可以加快查询？（我答了建索引，试图存储-过程，建索引是一定对的其他两个就不知道了）"><a href="#有哪些方式可以加快查询？（我答了建索引，试图存储-过程，建索引是一定对的其他两个就不知道了）" class="headerlink" title="有哪些方式可以加快查询？（我答了建索引，试图存储 过程，建索引是一定对的其他两个就不知道了）"></a>有哪些方式可以加快查询？（我答了建索引，试图存储 过程，建索引是一定对的其他两个就不知道了）</h1><h1 id="然后他继续追问，建索引一般是怎么才能让查询更加快呢？-（问我怎么样才能够通过索引排除不同的数据吧，这个还真懂完全没"><a href="#然后他继续追问，建索引一般是怎么才能让查询更加快呢？-（问我怎么样才能够通过索引排除不同的数据吧，这个还真懂完全没" class="headerlink" title="然后他继续追问，建索引一般是怎么才能让查询更加快呢？ （问我怎么样才能够通过索引排除不同的数据吧，这个还真懂完全没"></a>然后他继续追问，建索引一般是怎么才能让查询更加快呢？ （问我怎么样才能够通过索引排除不同的数据吧，这个还真懂完全没</h1><h1 id="左外连接和右外连接有什么不同"><a href="#左外连接和右外连接有什么不同" class="headerlink" title="左外连接和右外连接有什么不同"></a>左外连接和右外连接有什么不同</h1><p>左连接就是以左为主，右边的记录可能为空</p><p> 右连接就是以右为主左边的可能为空</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 面经 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔试 </tag>
            
            <tag> Java </tag>
            
            <tag> 腾讯 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux学习指南</title>
      <link href="/2017/08/28/linux-xue-xi-zhi-nan/"/>
      <url>/2017/08/28/linux-xue-xi-zhi-nan/</url>
      
        <content type="html"><![CDATA[<p>发现学过的东西很容易忘，所以常常复习、总结还是蛮必要的。</p><a id="more"></a><h1 id="Linux基础"><a href="#Linux基础" class="headerlink" title="Linux基础"></a>Linux基础</h1><ul><li>输出</li></ul><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo "Hellbo"</span><br><span class="line">Hellbo</span><br></pre></td></tr></tbody></table></figure><ul><li>快捷键</li></ul><table><thead><tr><th align="center">快捷键</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">Ctrl+c</td><td align="center">终止程序</td></tr><tr><td align="center">Ctrl+d</td><td align="center">键盘输入结束或退出终端</td></tr><tr><td align="center">Ctrl+s</td><td align="center">暂停当前程序，暂停后按下任意键恢复运行</td></tr><tr><td align="center">Ctrl+z</td><td align="center">把当前程序放到后台运行，fg将程序恢复到前台</td></tr><tr><td align="center">Ctrl+a</td><td align="center">将光标移至输入行头</td></tr><tr><td align="center">Ctrl+e</td><td align="center">将光标移至输入行尾</td></tr><tr><td align="center">Ctrl+k</td><td align="center">删除从光标位置到行末</td></tr><tr><td align="center">Alt+Backspace</td><td align="center">向前删除一个单词</td></tr><tr><td align="center">Shift+Pgup</td><td align="center">将终端显示向上滚动</td></tr><tr><td align="center">Shift+PgDn</td><td align="center">将终端显示向下滚动</td></tr></tbody></table><ul><li>创建文件</li></ul><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch adeni.txt  dsaidj.txt   //创建2个文件</span><br><span class="line">touch abc_{1..10}_linux.txt   //创建多个文件</span><br></pre></td></tr></tbody></table></figure><ul><li>通配符找文件</li></ul><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls *.txt</span><br></pre></td></tr></tbody></table></figure><ul><li>Shell通配符</li></ul><table><thead><tr><th>字符</th><th>含义</th></tr></thead><tbody><tr><td>*</td><td>匹配0或多个字符</td></tr><tr><td>？</td><td>匹配任意一个字符</td></tr><tr><td>[list]</td><td>匹配list中的任意单一字符</td></tr><tr><td>[!list]</td><td>匹配除list中的任意单一字符以外的字符</td></tr><tr><td>[c1-c2]</td><td>匹配c1-c2终端任意单一字符</td></tr><tr><td>{string1,string2,…}</td><td>匹配list中的任意单一字符</td></tr><tr><td>{c1..c2}</td><td>匹配list中的任意单一字符</td></tr></tbody></table><hr><h1 id="用户及文件权限管理"><a href="#用户及文件权限管理" class="headerlink" title="用户及文件权限管理"></a>用户及文件权限管理</h1><ul><li>创建用户</li></ul><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo adduser zdm    //创建用户</span><br><span class="line">ls /home            //默认为新用户创建home目录</span><br><span class="line">su -l zdm           //切换登陆用户</span><br><span class="line">groups zdm          //查看自己属于哪些用户组</span><br><span class="line">cat /etc/group | sort    //查看 /etc/group 文件</span><br><span class="line">// 将其他用户加入sudo用户组</span><br><span class="line">su -l zdm</span><br><span class="line">sudo ls</span><br></pre></td></tr></tbody></table></figure><ul><li>变更文件所有者</li></ul><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">touch iphone</span><br><span class="line">cd /home/zdm</span><br><span class="line">ls iphone</span><br><span class="line">sudo chown shiyanlou iphone</span><br><span class="line"></span><br><span class="line">echo "echo \"hello shiyanlou\"" &gt; iphone                //加内容</span><br><span class="line">chmod 700 iphone                         //修改权限</span><br><span class="line"></span><br><span class="line">cp -r father family    //复制目录</span><br><span class="line"></span><br><span class="line">rm test           //删除</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="环境变量及文件查找"><a href="#环境变量及文件查找" class="headerlink" title="环境变量及文件查找"></a>环境变量及文件查找</h1><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">//创建tmp变量</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">declare</span> tmp</span></span><br><span class="line"></span><br><span class="line">//使用=赋值</span><br><span class="line"><span class="meta">$</span><span class="bash"> tmp=zdm</span></span><br><span class="line"></span><br><span class="line">//输出</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$tmp</span></span></span><br><span class="line"></span><br><span class="line">//创建一个Shell脚本文件</span><br><span class="line"><span class="meta">$</span><span class="bash"> gedit hello_shell.sh</span></span><br><span class="line"></span><br><span class="line">--------------------------</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">for((i=0;i&lt;10;i++));do</span><br><span class="line">echo "hello shell"</span><br><span class="line">done </span><br><span class="line"> exit 0</span><br><span class="line"> -------------------------</span><br><span class="line"> </span><br><span class="line">//为文件添加可执行权限</span><br><span class="line"><span class="meta">$</span><span class="bash"> chmod 755 hello_shell.sh</span></span><br><span class="line"></span><br><span class="line">//执行脚本</span><br><span class="line"><span class="meta">$</span><span class="bash"> ./hello_shell.sh</span></span><br><span class="line"></span><br><span class="line">//创建一个C语言程序</span><br><span class="line"><span class="meta">$</span><span class="bash"> gedit hello_world.c</span></span><br><span class="line"></span><br><span class="line">-----------------------------</span><br><span class="line"><span class="meta">#</span><span class="bash">include &lt;stdio.h&gt;</span></span><br><span class="line">int main(void){</span><br><span class="line">  printf("hello world!\n");</span><br><span class="line">  return 0;</span><br><span class="line">}</span><br><span class="line">-----------------------------</span><br><span class="line"></span><br><span class="line">//使用gcc生成可执行文件</span><br><span class="line"><span class="meta">$</span><span class="bash"> gcc -o hello_world hello_world.c</span></span><br><span class="line"></span><br><span class="line">//创建一个mybin目录，将上面2文件放入</span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir mybin</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mv hello_shell.sh hello_world mybin/</span></span><br><span class="line"></span><br><span class="line">//在mybin中分别运行这两个程序</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> mybin</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./hello_shell.sh</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./hello_world</span></span><br></pre></td></tr></tbody></table></figure><h1 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h1><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//查看磁盘容量</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">//以磁盘块大小的方式显示容量</span><br><span class="line">df -h</span><br><span class="line"></span><br><span class="line">//du 命令查看目录的容量</span><br><span class="line">du</span><br><span class="line">du -h</span><br><span class="line"></span><br><span class="line">//从/dev/zero设备创建一个容量为 256M 的空文件：</span><br><span class="line">dd if=/dev/zero of=virtual.img bs=1M count=256</span><br><span class="line">du -h virtual.img</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="任务计划crontab"><a href="#任务计划crontab" class="headerlink" title="任务计划crontab"></a>任务计划crontab</h1><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//添加任务计划</span><br><span class="line">sudo cron -f &amp;</span><br><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line">//查看</span><br><span class="line">man crontab</span><br><span class="line"></span><br><span class="line">//每分钟创建一个以当前年月日时分秒为名字的空白文件</span><br><span class="line">*/1 * * * * touch /home/shiyanlou/$(date +\%Y\%m\%d\%H\%M\%S)</span><br><span class="line"></span><br><span class="line">//查看添加了哪些任务</span><br><span class="line">crontab -l</span><br><span class="line"></span><br><span class="line">//cron 是否成功的在后台启动</span><br><span class="line">pgrep cron</span><br><span class="line"></span><br><span class="line">//执行任务命令之后在日志中的信息反馈</span><br><span class="line">sudo tail -f /var/<span class="built_in">log</span>/syslog</span><br><span class="line"></span><br><span class="line">//删除任务</span><br><span class="line">crontab -r</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="命令执行顺序控制与管道"><a href="#命令执行顺序控制与管道" class="headerlink" title="命令执行顺序控制与管道"></a>命令执行顺序控制与管道</h1><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//sort排序命令</span><br><span class="line"></span><br><span class="line">//默认为字典排序</span><br><span class="line">cat /etc/passwd | sort</span><br><span class="line"></span><br><span class="line">//反转排序</span><br><span class="line">cat /etc/passwd | sort -r</span><br><span class="line"></span><br><span class="line">//按特定字段排序</span><br><span class="line">cat /etc/passwd | sort -t ":" -k 3</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="简单的文本处理"><a href="#简单的文本处理" class="headerlink" title="简单的文本处理"></a>简单的文本处理</h1><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//tr:删除一段文本中的某些文字</span><br><span class="line"></span><br><span class="line">tr [option]...SET1 [SET2]</span><br><span class="line"></span><br><span class="line">//col: 将Tab换成等数量的空格键</span><br><span class="line"></span><br><span class="line">col [option]</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><ol><li>查看目录与文件：ls</li><li>切换目录：cd</li><li>显示当前目录：pwd</li><li>创建空文件：touch</li><li>创建目录：mkdir</li><li>查看文件内容：cat</li><li>分页查看文件内容：more</li><li>查看文件尾内容：tail</li><li>拷贝：cp</li><li>剪切或改名：mv</li><li>删除：rm</li><li>搜索文件：find</li><li>创建链接文件：In</li><li>显示或配置网络设备：ifconfig</li><li>显示网络相关信息：netstat</li><li>显示进程状态：ps</li><li>查看目录使用情况：du</li><li>查看磁盘空间使用情况：df</li><li>显示系统当前进程信息：top</li><li>杀死进程：kill</li><li>压缩和解压：tar</li><li>改变文件或目录的拥有者和组：chown</li><li>改变文件或目录的访问权限：chmod</li><li>文本编辑：vim</li><li>关机或重启：shutdown</li><li>帮助命令：man</li></ol><hr><h1 id="20个常用问题"><a href="#20个常用问题" class="headerlink" title="20个常用问题"></a>20个常用问题</h1><p><a href="https://linux.cn/article-4790-1.html" target="_blank" rel="noopener">20条Linux命令面试问答</a></p><p><strong>问:1 如何查看当前的Linux服务器的运行级别？</strong><br>答: ‘who -r’ 和 ‘runlevel’ 命令可以用来查看当前的Linux服务器的运行级别。</p><p><strong>问:2 如何查看Linux的默认网关？</strong><br>答: 用 “route -n” 和 “netstat -nr” 命令，我们可以查看默认网关。除了默认的网关信息，这两个命令还可以显示当前的路由表。</p><p><strong>问:3 如何在Linux上重建初始化内存盘镜像文件？</strong><br>答: 在CentOS 5.X / RHEL 5.X中，可以用mkinitrd命令来创建初始化内存盘文件，举例如下：</p><blockquote><p># mkinitrd -f -v /boot/initrd-$(uname -r).img $(uname -r)</p></blockquote><p>如果你想要给特定的内核版本创建初始化内存盘，你就用所需的内核名替换掉 ‘uname -r’ 。<br>在CentOS 6.X / RHEL 6.X中，则用dracut命令来创建初始化内存盘文件，举例如下：</p><blockquote><p># dracut -f</p></blockquote><p>以上命令能给当前的系统版本创建初始化内存盘，给特定的内核版本重建初始化内存盘文件则使用以下命令：</p><blockquote><p># dracut -f initramfs-2.x.xx-xx.el6.x86_64.img 2.x.xx-xx.el6.x86_64</p></blockquote><p><strong>问:4 cpio命令是什么？</strong><br>答: cpio就是复制入和复制出的意思。cpio可以向一个归档文件（或单个文件）复制文件、列表，还可以从中提取文件。</p><p><strong>问:5 patch命令是什么？如何使用？</strong><br>答: 顾名思义，patch命令就是用来将修改（或补丁）写进文本文件里。patch命令通常是接收diff的输出并把文件的旧版本转换为新版本。举个例子，Linux内核源代码由百万行代码文件构成，所以无论何时，任何代码贡献者贡献出代码，只需发送改动的部分而不是整个源代码，然后接收者用patch命令将改动写进原始的源代码里。<br>创建一个diff文件给patch使用，</p><blockquote><p># diff -Naur old_file new_file &gt; diff_file</p></blockquote><p>旧文件和新文件要么都是单个的文件要么都是包含文件的目录，-r参数支持目录树递归。<br>一旦diff文件创建好，我们就能在旧的文件上打上补丁，把它变成新文件：</p><blockquote><p># patch &lt; diff_file</p></blockquote><p><strong>问:6 aspell有什么用 ?</strong><br>答: 顾名思义，aspell就是Linux操作系统上的一款交互式拼写检查器。aspell命令继任了更早的一个名为ispell的程序，并且作为一款免费替代品 ，最重要的是它非常好用。当aspell程序主要被其它一些需要拼写检查能力的程序所使用的时候，在命令行中作为一个独立运行的工具的它也能十分有效。</p><p><strong>问:7 如何从命令行查看域SPF记录？</strong><br>答: 我们可以用dig命令来查看域SPF记录。举例如下：</p><blockquote><p>linuxtechi@localhost:~$ dig -t TXT <a href="http://link.zhihu.com/?target=http%3A//google.com">http://google.com</a></p></blockquote><p><strong>问:8 如何识别Linux系统中指定文件(/etc/fstab)的关联包？</strong><br>答:</p><blockquote><p># rpm -qf /etc/fstab</p></blockquote><p>以上命令能列出提供“/etc/fstab”这个文件的包。</p><p><strong>问:9 哪条命令用来查看bond0的状态？</strong><br>答:</p><blockquote><p>cat /proc/net/bonding/bond0</p></blockquote><p><strong>问:10 Linux系统中的/proc文件系统有什么用？</strong><br>答: /proc文件系统是一个基于内存的文件系统，其维护着关于当前正在运行的内核状态信息，其中包括CPU、内存、分区划分、I/O地址、直接内存访问通道和正在运行的进程。这个文件系统所代表的并不是各种实际存储信息的文件，它们指向的是内存里的信息。/proc文件系统是由系统自动维护的。</p><p><strong>问:11 如何在/usr目录下找出大小超过10MB的文件？</strong><br>答:</p><blockquote><p># find /usr -size +10M</p></blockquote><p><strong>问:12 如何在/home目录下找出120天之前被修改过的文件？</strong><br>答:</p><blockquote><p># find /home -mtime +120</p></blockquote><p><strong>问:13 如何在/var目录下找出90天之内未被访问过的文件？</strong><br>答:</p><blockquote><p># find /var ! -atime -90</p></blockquote><p><strong>问:14 在整个目录树下查找文件“core”，如发现则无需提示直接删除它们。</strong><br>答:</p><blockquote><p># find / -name core -exec rm {} ;</p></blockquote><p><strong>问:15 strings命令有什么作用？</strong><br>答: strings命令用来提取和显示非文本文件中的文本字符串。（LCTT 译注：当用来分析你系统上莫名其妙出现的二进制程序时，可以从中找到可疑的文件访问，对于追查入侵有用处）</p><p><strong>问:16 tee 过滤器有什么作用 ?</strong><br>答: tee 过滤器用来向多个目标发送输出内容。如果用于管道的话，它可以将输出复制一份到一个文件，并复制另外一份到屏幕上（或一些其它程序）。</p><blockquote><p>linuxtechi@localhost:~$ ll /etc | nl | tee /tmp/ll.out</p></blockquote><p>在以上例子中，从ll输出可以捕获到 /tmp/ll.out 文件中，并且同样在屏幕上显示了出来。</p><p><strong>问:17 export PS1 = ”$LOGNAME@hostname:$PWD: 这条命令是在做什么？</strong><br>答: 这条export命令会更改登录提示符来显示用户名、本机名和当前工作目录。</p><p><strong>问:18 ll | awk ‘{print $3,”owns”,$9}’ 这条命令是在做什么？</strong><br>答: 这条ll命令会显示这些文件的文件名和它们的拥有者。</p><p><strong>问:19 :Linux中的at命令有什么用？</strong><br>答: at命令用来安排一个程序在未来的做一次一次性执行。所有提交的任务都被放在 /var/spool/at 目录下并且到了执行时间的时候通过atd守护进程来执行。</p><p><strong>问:20 linux中lspci命令的作用是什么？</strong><br>答: lspci命令用来显示你的系统上PCI总线和附加设备的信息。指定-v，-vv或-vvv来获取越来越详细的输出，加上-r参数的话，命令的输出则会更具有易读性。</p><hr><h1 id="360Linux运维面试题"><a href="#360Linux运维面试题" class="headerlink" title="360Linux运维面试题"></a>360Linux运维面试题</h1><p><a href="https://zhuanlan.zhihu.com/p/29693614" target="_blank" rel="noopener">奇虎360Linux运维工程师面试真题</a></p><p><strong>1、写一个脚本查找最后创建时间是3天前，后缀是*.log的文件并删除。</strong></p><p> find / -name “*.log” -ctime +3 -exec rm -f {} ;</p><p><strong>2、写一个脚本将某目录下大于100k的文件移动至/tmp下。</strong></p><p> for i in <code>find /test -type f -size +100k</code>;do cd /test &amp;&amp; mv $i /tmp;done</p><p><strong>3、写一个脚本将数据库备份并打包至远程服务器192.168.1.1 /backup目录下。</strong></p><p> mount 192.168.1.1:/backup /mnt cd /mnt /usr/local/mysql/bin/mysqldump -hlocalhost -uroot test &gt;test.sql tar czf test.sql.tar.gz test.sql rm -f test.sql</p><p><strong>4、写一个防火墙配置脚本，只允许远程主机访问本机的80端口。</strong></p><p> iptables -P INPUT ACCEPT iptables -P OUTPUT ACCEPT iptables -P FORWARD ACCEPT iptables -F iptables -X iptables -A INPUT -i eth0 -p tcp –dport 80 -j ACCEPT iptables -P INPUT DROP</p><p><strong>5、写一个脚本进行nginx日志统计，得到访问ip最多的前10个(nginx日志路径：/home/logs/nginx/default/access.log</strong> awk ‘{a[$1]++}END{for (j in a) print a[j],j}’ /home/logs/nginx/default/access.log|sort -nr|head -10</p><p><strong>6、写出下列配置的含义</strong> </p><p>（1）MaxKeepAliveRequests 100 </p><p>（2）Options FollowSymLinks Order Deny Allow Deny from all Allow from 192.168.1.1</p><p>（1）MaxKeepAliveRequests — 100 连接的最大请求数 </p><p>（2）Options FollowSymLinks — 允许192.168.1.1可以列目录 Order Deny Allow Deny from all Allow from 192.168.1.1</p><p><strong>7、写一个脚本把指定文件里的/usr/local替换为别的目录。</strong> </p><p>sed ‘s:/user/local:/tmp:g’ filename</p><p><strong>8、简要描述Linux的启动过程？</strong></p><p> BIOS启动引导(从mbr中装载启动管理器grub)—-GRUB启动引导(装载kernel和initrd到内存)—–内核启动参数-sys init初始化..</p><p><strong>9、简要叙述下列端口所运行的服务</strong></p><p> 21、22、23、25、110、143、873、3306 对应的服务是 ftp ssh telnet snmp pop3 IMAP rsync</p><p><strong>10、TCP断头最小长度是多少字节？</strong></p><p> 64字节</p><p><strong>11、让某普通用户能进行cp /dir1/file1 /dir2的命令时，请说明dir1 file1最小具有什么权限？</strong></p><p>读取和执行权限rx</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《程序员代码面试指南（二叉树问题）》</title>
      <link href="/2017/08/24/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-er-cha-shu-wen-ti/"/>
      <url>/2017/08/24/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-er-cha-shu-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>二叉树是每个节点最多有两个子树的树结构。通常子树被称作“左子树”（left subtree）和“右子树”（right subtree）。二叉树常被用于实现二叉查找树和二叉堆。</p><p><a href="https://github.com/DarminZhou/Algorithm" target="_blank" rel="noopener">代码 Github 地址</a></p><p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3506665052,220356979&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="判断二叉树是不是平衡二叉树"><a href="#判断二叉树是不是平衡二叉树" class="headerlink" title="判断二叉树是不是平衡二叉树"></a>判断二叉树是不是平衡二叉树</h1><p>输入一棵二叉树的根节点，判断该树是不是平衡的二叉树。如果某二叉树中任意结点的左右子树的深度相差不超过1，那么它就是一棵平衡二叉树。</p><p>先比较左边，再比较右边；</p><p>左子树也先比较左边再比较右边。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBalance</span><span class="params">(Node head)</span></span>{</span><br><span class="line">      <span class="keyword">boolean</span> res=<span class="keyword">true</span>;</span><br><span class="line">      getHeight(head,<span class="number">1</span>,res);</span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHeight</span><span class="params">(Node head , <span class="keyword">int</span> level ,<span class="keyword">boolean</span> res)</span></span>{</span><br><span class="line">      <span class="keyword">if</span>(head==<span class="keyword">null</span>){</span><br><span class="line">          <span class="keyword">return</span> level;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      <span class="keyword">int</span> lH=getHeight(head.left,level+<span class="number">1</span>,res);</span><br><span class="line">      <span class="keyword">if</span>(!res){</span><br><span class="line">          <span class="keyword">return</span> level;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      <span class="keyword">int</span> rH=getHeight(head.right,level+<span class="number">1</span>,res);</span><br><span class="line">      <span class="keyword">if</span>(!res){</span><br><span class="line">          <span class="keyword">return</span> level;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(Math.abs(lH-rH)&gt;<span class="number">1</span>){</span><br><span class="line">          res=<span class="keyword">false</span>;</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> Math.max(lH,rH);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="根据后序数组重建搜索二叉树"><a href="#根据后序数组重建搜索二叉树" class="headerlink" title="根据后序数组重建搜索二叉树"></a>根据后序数组重建搜索二叉树</h1><p>给定一个整型数组arr，已知其中没有重复值，判断arr是否可能是节点值类型为整型的搜索二叉树后序遍历的结果。</p><p>数组最后一个值，肯定是根节点的值</p><p>小于根节点的为左子树，大于根节点的为左子树</p><p>对应2,1,3小于4</p><p>6,5,7大于4</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">       <span class="keyword">int</span> [] arr={<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">4</span>};</span><br><span class="line">       System.out.println(isPostArray(arr));</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPostArray</span><span class="params">(<span class="keyword">int</span> [] arr)</span></span>{</span><br><span class="line">       <span class="keyword">if</span>(arr==<span class="keyword">null</span> || arr.length==<span class="number">0</span>){</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> isPost(arr,<span class="number">0</span>,arr.length-<span class="number">1</span>);</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPost</span><span class="params">(<span class="keyword">int</span> [] arr, <span class="keyword">int</span> start ,<span class="keyword">int</span> end)</span></span>{</span><br><span class="line">       <span class="keyword">if</span>(start==end){</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">int</span> less=-<span class="number">1</span>;</span><br><span class="line">       <span class="keyword">int</span> more=end;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;end;i++){</span><br><span class="line">           <span class="keyword">if</span>(arr[i]&lt;arr[end]){</span><br><span class="line">           less=i;</span><br><span class="line">       }<span class="keyword">else</span> {</span><br><span class="line">           more=more==end ? i : more;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(less==-<span class="number">1</span>||more==end){</span><br><span class="line">           <span class="keyword">return</span> isPost(arr,start,end-<span class="number">1</span>);</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">if</span>(less!=more-<span class="number">1</span>){</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       }</span><br><span class="line">     </span><br><span class="line">       <span class="keyword">return</span> isPost(arr,start,less)&amp;&amp;isPost(arr,more,end-<span class="number">1</span>);</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="二叉树的序列化和反序列化"><a href="#二叉树的序列化和反序列化" class="headerlink" title="二叉树的序列化和反序列化"></a>二叉树的序列化和反序列化</h1><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> BinaryTree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/7.</span></span><br><span class="line"><span class="comment">               12</span></span><br><span class="line"><span class="comment">           /      \</span></span><br><span class="line"><span class="comment">         3        null</span></span><br><span class="line"><span class="comment">     /    \</span></span><br><span class="line"><span class="comment">  null    null</span></span><br><span class="line"><span class="comment"> 先序遍历：12！3！#！#！#！</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NodeSerial</span> </span>{</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 定义Node</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>{</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> value;</span><br><span class="line">        <span class="keyword">public</span> Node left;</span><br><span class="line">        <span class="keyword">public</span> Node right;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> data)</span></span>{</span><br><span class="line">            <span class="keyword">this</span>.value=data;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 先序遍历</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialByPre</span><span class="params">(Node head)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"#!"</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        String res=head.value+<span class="string">"!"</span>;</span><br><span class="line">        res+=serialByPre(head.left);</span><br><span class="line">        res+=serialByPre(head.right);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 先序遍历反序列化</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">reconByPreString</span><span class="params">(String preStr)</span></span>{</span><br><span class="line">        String [] values=preStr.split(<span class="string">"!"</span>);</span><br><span class="line">        Queue&lt;String&gt; queue=<span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;values.length;i++){</span><br><span class="line">            queue.offer(values[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> reconPreOrder(queue);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Queue</span></span><br><span class="line"><span class="comment">     add        增加一个元索                     如果队列已满，则抛出一个IIIegaISlabEepeplian异常</span></span><br><span class="line"><span class="comment">     remove     移除并返回队列头部的元素         如果队列为空，则抛出一个NoSuchElementException异常</span></span><br><span class="line"><span class="comment">     element    返回队列头部的元素               如果队列为空，则抛出一个NoSuchElementException异常</span></span><br><span class="line"><span class="comment">     offer      添加一个元素并返回true           如果队列已满，则返回false</span></span><br><span class="line"><span class="comment">     poll       移除并返问队列头部的元素         如果队列为空，则返回null</span></span><br><span class="line"><span class="comment">     peek       返回队列头部的元素               如果队列为空，则返回null</span></span><br><span class="line"><span class="comment">     put        添加一个元素                     如果队列满，则阻塞</span></span><br><span class="line"><span class="comment">     take       移除并返回队列头部的元素         如果队列为空，则阻塞</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">reconPreOrder</span><span class="params">(Queue&lt;String&gt; queue)</span></span>{</span><br><span class="line">        String value = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(value.equals(<span class="string">"#"</span>)){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        Node head=<span class="keyword">new</span> Node(Integer.valueOf(value));</span><br><span class="line">        Node left=reconPreOrder(queue);</span><br><span class="line">        Node right=reconPreOrder(queue);</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="找到二叉树中的最大搜索二叉子树"><a href="#找到二叉树中的最大搜索二叉子树" class="headerlink" title="找到二叉树中的最大搜索二叉子树"></a>找到二叉树中的最大搜索二叉子树</h1><p> 题目：给定一棵二叉树的头节点head, 已知其中所有节点的值都不一样，<br> 找到含有节点最多的搜索二叉子树，并返回这颗子树的头节点。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> BinaryTree;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/8.</span></span><br><span class="line"><span class="comment"> * 找到二叉树中的最大搜索二叉子树</span></span><br><span class="line"><span class="comment"> 题目：给定一棵二叉树的头节点head, 已知其中所有节点的值都不一样，</span></span><br><span class="line"><span class="comment"> 找到含有节点最多的搜索二叉子树，并返回这颗子树的头节点。</span></span><br><span class="line"><span class="comment">                             6</span></span><br><span class="line"><span class="comment">                          /    \</span></span><br><span class="line"><span class="comment">                       1       12</span></span><br><span class="line"><span class="comment">                     /\       /    \</span></span><br><span class="line"><span class="comment">                   0   3     10       13</span></span><br><span class="line"><span class="comment">                            /  \      /  \</span></span><br><span class="line"><span class="comment">                           4    14    2   9</span></span><br><span class="line"><span class="comment">                          /\     /\</span></span><br><span class="line"><span class="comment">                         2  5    1  6</span></span><br><span class="line"><span class="comment"> 二叉搜索树：</span></span><br><span class="line"><span class="comment">        10</span></span><br><span class="line"><span class="comment">       /  \</span></span><br><span class="line"><span class="comment">     4     14</span></span><br><span class="line"><span class="comment">    / \    / \</span></span><br><span class="line"><span class="comment">   2  5   1   6</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 要求：</span></span><br><span class="line"><span class="comment"> 如果节点数为N，要求时间复杂度为O（N） ,额外空间复杂度为O(h),h为二叉树的高度。</span></span><br><span class="line"><span class="comment"> 解：</span></span><br><span class="line"><span class="comment"> 以节点node为头的树中，最大的搜索二叉子树只可能来自一下两种情况。</span></span><br><span class="line"><span class="comment"> 1.如果来自node左子树上的最大搜索二叉子树是以node.left为头的；来自node右子树的最大搜索二叉树是以</span></span><br><span class="line"><span class="comment"> node.right为头的；node左子树上的最大搜索二叉子树的最大值小于node.value；</span></span><br><span class="line"><span class="comment"> node右子树的最大搜索二叉子树的最小值大于node.value,那么以节点node为头的整棵树都是搜索二叉树。</span></span><br><span class="line"><span class="comment"> 2如果不满足第一中情况，说明节点node为头的整颗树不能连成搜索二叉树。这种情况下，以node为头的树上的最大搜索二叉子树来自node的左子树上的最大搜索二叉子树和来自右子树上的最大搜索二叉子树之间，</span></span><br><span class="line"><span class="comment"> 节点较多的那个。</span></span><br><span class="line"><span class="comment"> 过程如下：</span></span><br><span class="line"><span class="comment"> 1，整个过程是二叉树的后序遍历。（左右根）</span></span><br><span class="line"><span class="comment"> 2，遍历到当前节点记为cur时，先遍历cur的左子树收集4个信息，分别是左子树上最大搜索二叉子树的头节点（IBST） ，节点数（ISize）,最小值（IMin）,最大值（IMax）.</span></span><br><span class="line"><span class="comment"> 再遍历cur的右子树收集4个信息，分别是右子树上最大搜索二叉子树的头节点（RBST） ，节点数（RSize）,最小值（RMin）,最大值（RMax）.</span></span><br><span class="line"><span class="comment"> 3, 根据步骤2收集的信息，判断是否满足第一种情况，如果满足第一种情况就返回cur，如果满足第二种情况，就返回IBST和RBST中较大的一个。</span></span><br><span class="line"><span class="comment"> 4，可以使用全局变量的方式实现步骤2中收集节点数，最大和最小的情况。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">biggestSubBST1</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>{</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> value;</span><br><span class="line">        <span class="keyword">public</span> Node left;</span><br><span class="line">        <span class="keyword">public</span> Node right;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> data)</span></span>{</span><br><span class="line">            <span class="keyword">this</span>.value=data;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">biggestSubBST</span><span class="params">(Node head)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] record =<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">return</span> posOrder(head , record);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">posOrder</span><span class="params">(Node head,<span class="keyword">int</span> [] record)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="keyword">null</span>){</span><br><span class="line">            record[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">            record[<span class="number">1</span>]=Integer.MAX_VALUE;</span><br><span class="line">            record[<span class="number">2</span>]=Integer.MIN_VALUE;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> value=head.value;</span><br><span class="line">        Node left=head.left;</span><br><span class="line">        Node right=head.right;</span><br><span class="line">        Node lBST=posOrder(left,record);</span><br><span class="line">        <span class="keyword">int</span> lSize=record[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> lMin=record[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> lMax=record[<span class="number">2</span>];</span><br><span class="line">        Node rBST=posOrder(right,record);</span><br><span class="line">        <span class="keyword">int</span> rSize=record[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> rMin=record[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> rMax=record[<span class="number">2</span>];</span><br><span class="line">        record[<span class="number">1</span>]=Math.min(value,lMin);</span><br><span class="line">        record[<span class="number">2</span>]=Math.max(value,rMax);</span><br><span class="line">        <span class="keyword">if</span>(left==lBST&amp;&amp;right==rBST&amp;&amp;lMax&lt;value&amp;&amp;rMin&gt;value){</span><br><span class="line">            record[<span class="number">0</span>]=lSize+rSize+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        record[<span class="number">0</span>]=Math.max(lSize,rSize);</span><br><span class="line">        <span class="keyword">return</span> lSize&gt;rSize?head.left:head.right;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="找到二叉树中符合搜索二叉树条件的最大拓扑结构"><a href="#找到二叉树中符合搜索二叉树条件的最大拓扑结构" class="headerlink" title="找到二叉树中符合搜索二叉树条件的最大拓扑结构"></a>找到二叉树中符合搜索二叉树条件的最大拓扑结构</h1><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《程序员代码面试指南（链表问题）》</title>
      <link href="/2017/08/24/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-lian-biao-wen-ti/"/>
      <url>/2017/08/24/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-lian-biao-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>链表是一种常见的重要的<a href="http://lib.csdn.net/base/datastructure" target="_blank" rel="noopener">数据结构</a>。它是动态地进行存储分配的一种结构。它可以根据需要开辟内存单元。链表有一个“头指针”变量，以head表示，它存放一个地址。该地址指向一个元素。链表中每一个元素称为“结点”，每个结点都应包括两个部分：一为用户需要用的实际数据，二为下一个结点的地址。因此，head指向第一个元素：第一个元素又指向第二个元素；……，直到最后一个元素，该元素不再指向其它元素，它称为“表尾”，它的地址部分放一个“NULL”（表示“空地址”），链表到此结束。</p><p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3506665052,220356979&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="打印两个有序链表的公共部分"><a href="#打印两个有序链表的公共部分" class="headerlink" title="打印两个有序链表的公共部分"></a>打印两个有序链表的公共部分</h1><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/8/31.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 打印两个有序链表的公共部分</span></span><br><span class="line"><span class="comment"> * 给定两个有序列表的头指针head1和head2，打印两个链表的公共部分。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">printCommonPart1</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>{</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> value;</span><br><span class="line">        <span class="keyword">public</span> Node next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> data)</span></span>{</span><br><span class="line">            <span class="keyword">this</span>.value=data;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>{</span><br><span class="line">        Node head1=<span class="keyword">new</span> Node(<span class="number">2</span>);</span><br><span class="line">        Node head11=<span class="keyword">new</span> Node(<span class="number">3</span>);</span><br><span class="line">        Node head12=<span class="keyword">new</span> Node(<span class="number">4</span>);</span><br><span class="line">        Node head13=<span class="keyword">new</span> Node(<span class="number">7</span>);</span><br><span class="line">        head1.next=head11;</span><br><span class="line">        head11.next=head12;</span><br><span class="line">        head12.next=head13;</span><br><span class="line"></span><br><span class="line">        Node head2=<span class="keyword">new</span> Node(<span class="number">1</span>);</span><br><span class="line">        Node head21=<span class="keyword">new</span> Node(<span class="number">3</span>);</span><br><span class="line">        Node head22=<span class="keyword">new</span> Node(<span class="number">4</span>);</span><br><span class="line">        Node head23=<span class="keyword">new</span> Node(<span class="number">9</span>);</span><br><span class="line">        head2.next=head21;</span><br><span class="line">        head21.next=head22;</span><br><span class="line">        head22.next=head23;</span><br><span class="line"></span><br><span class="line">        printCommonPart(head1,head2);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printCommonPart</span><span class="params">(Node head1,Node head2)</span></span>{</span><br><span class="line">        System.out.println(<span class="string">"Print Common Part: "</span>);</span><br><span class="line">        <span class="keyword">while</span>(head1!=<span class="keyword">null</span>&amp;&amp;head2!=<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">if</span>(head1.value==head2.value){</span><br><span class="line">                System.out.println(head1.value);</span><br><span class="line">                head1=head1.next;</span><br><span class="line">                head2=head2.next;</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span>(head1.value&gt;head2.value){</span><br><span class="line">                head2=head2.next;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                head1=head1.next;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="判断一个链表是否为回文结构"><a href="#判断一个链表是否为回文结构" class="headerlink" title="判断一个链表是否为回文结构"></a>判断一个链表是否为回文结构</h1><p>题目：判断一个链表是否为回文结构。<br>要求：时间复杂度为 O(n)，空间时间复杂度为O(1)。</p><p>思路分析：回文链表的特点就是对称，那么要判断是否回文，就可以用两个指针指向对称的节点，看它们的数据是否一样。由于是单向链表，不能同时用两个指针，从头尾向内部遍历取值比较。且本题对空间复杂度也有要求，所以可用如下方法实现。<br>具体步骤如下：<br>（1）先得到链表的中间节点；<br>（2）从中间节点的下一个节点开始，反转链表。<br>（3）从中间节点处，断开原链表。<br>（4）用两个指针分别向两个端点移动，同时进行比较，数据相同则继续，数据不同则直接返回false。直到遍历完成，最后返回true。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>{</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">char</span> data;</span><br><span class="line">        <span class="keyword">public</span> ListNode next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ListNode</span><span class="params">(<span class="keyword">char</span> c)</span></span>{</span><br><span class="line">            <span class="keyword">this</span>.data=c;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(ListNode head )</span></span>{</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast= head;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(fast==<span class="keyword">null</span> || fast.next==<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//一个每次走2步，一个每次走1步，所以当fast到表尾，slow肯定把链表折半</span></span><br><span class="line">        <span class="keyword">while</span>(fast.next!=<span class="keyword">null</span>&amp;&amp;fast.next.next!=<span class="keyword">null</span>){</span><br><span class="line">            fast=fast.next.next;</span><br><span class="line">            slow=slow.next;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        ListNode midNode=slow;</span><br><span class="line">        ListNode firNode = slow.next; <span class="comment">//后半段第一个节点</span></span><br><span class="line">        ListNode cur=firNode.next; <span class="comment">//从第一个节点开始插入</span></span><br><span class="line">        firNode.next=<span class="keyword">null</span>; <span class="comment">//第一个节点最后变成最后一个节点，所以要置空</span></span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="keyword">null</span>){</span><br><span class="line">            ListNode nextNode = cur.next;</span><br><span class="line">            cur.next=midNode.next;</span><br><span class="line">            midNode=cur;</span><br><span class="line">            cur=nextNode;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        slow=head;</span><br><span class="line">        fast=midNode.next;</span><br><span class="line">        <span class="keyword">while</span> (fast!=<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">if</span>(fast.data!=slow.data){</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            }</span><br><span class="line">            slow=slow.next;</span><br><span class="line">            fast=firNode.next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="反转单向"><a href="#反转单向" class="headerlink" title="反转单向"></a>反转单向</h1><p>反转单向链表</p><p>1–&gt;2–&gt;null</p><p>反转后</p><p>2–&gt;1–&gt;null</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for ListNode.</span></span><br><span class="line"><span class="comment"> * public class ListNode {</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) {</span></span><br><span class="line"><span class="comment"> *         this.val = val;</span></span><br><span class="line"><span class="comment"> *         this.next = null;</span></span><br><span class="line"><span class="comment"> *     }</span></span><br><span class="line"><span class="comment"> * }</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * @param head: n</span></span><br><span class="line"><span class="comment">     * @return: The new head of reversed linked list.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverse</span><span class="params">(ListNode head)</span> </span>{</span><br><span class="line">        <span class="comment">// write your code here</span></span><br><span class="line">        </span><br><span class="line">     ListNode pre=<span class="keyword">null</span>;</span><br><span class="line">            ListNode next1=<span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">while</span>(head!=<span class="keyword">null</span>){</span><br><span class="line">                next1=head.next;</span><br><span class="line">                head.next=pre;</span><br><span class="line">                pre=head;</span><br><span class="line">                head=next1;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> pre;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《程序员代码面试指南（位运算及大数据）》</title>
      <link href="/2017/08/22/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-wei-yun-suan-ji-da-shu-ju/"/>
      <url>/2017/08/22/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-wei-yun-suan-ji-da-shu-ju/</url>
      
        <content type="html"><![CDATA[<p>位运算、大数据和空间限制</p><a id="more"></a><h1 id="不用额外变量交换两个整数的值"><a href="#不用额外变量交换两个整数的值" class="headerlink" title="不用额外变量交换两个整数的值"></a>不用额外变量交换两个整数的值</h1><p>【<strong>题目</strong>】</p><p>　　如何不用任何额外变量交换两个整数的值？</p><p>【<strong>解答</strong>】</p><p>　　使用位运算的异或运算，或者使用加法运算</p><p>　　a异或b的结果是c,那么c就是a整数位信息和b整数位信息的所有不同信息。</p><p>a = a^b,当前a=c；b = a^b相当于b = c^b 当前b=a；a = a^b 相当于a = c^a 当前a=b,完成交换；</p><p>如果是加法交换的话，假设a + b结果是c，那么</p><p>a = a+b,当前a=c；b = a-b相当于b = c-b 当前b=a；a = a-b 相当于a = c-a 当前a=b,完成交换；</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">011</span></span><br><span class="line">b=<span class="number">100</span></span><br><span class="line">c=a^b=<span class="number">111</span></span><br><span class="line">a=a^c=<span class="number">011</span>^<span class="number">111</span>=<span class="number">100</span></span><br><span class="line">b=a^c=<span class="number">100</span>^<span class="number">111</span>=<span class="number">011</span></span><br></pre></td></tr></tbody></table></figure><hr><h1 id="输入一个整数-求该整数的二进制表达中有多少个1"><a href="#输入一个整数-求该整数的二进制表达中有多少个1" class="headerlink" title="输入一个整数,求该整数的二进制表达中有多少个1"></a>输入一个整数,求该整数的二进制表达中有多少个1</h1><p>题目：输入一个整数，求该整数的二进制表达中有多少个1。例如输入10，由于其二进制表示为1010，有两个1，因此输出2。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">    <span class="keyword">int</span>  res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(n!=<span class="number">0</span>){</span><br><span class="line">        n&amp;=(n-<span class="number">1</span>);</span><br><span class="line">        res++;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">  n=<span class="number">1010</span></span><br><span class="line">  n=<span class="number">1010</span>&amp;<span class="number">1001</span>=<span class="number">1000</span>   res=<span class="number">1</span>;</span><br><span class="line">  n=<span class="number">1000</span>&amp;<span class="number">0999</span>=<span class="number">0000</span>   res=<span class="number">2</span>;</span><br></pre></td></tr></tbody></table></figure><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java基础-操作系统</title>
      <link href="/2017/08/15/java-ji-chu-cao-zuo-xi-tong/"/>
      <url>/2017/08/15/java-ji-chu-cao-zuo-xi-tong/</url>
      
        <content type="html"><![CDATA[<p>操作系统的一些基本概念</p><a id="more"></a><h1 id="进程和线程的区别"><a href="#进程和线程的区别" class="headerlink" title="进程和线程的区别"></a>进程和线程的区别</h1><p>进程是具有一定独立功能的程序关于某个数据集合上的一次运行活动，进程是系统进行资源分配和调度的一个独立单位。</p><p>线程是进程的一个实体，是CPU调度和分派的基本单元，他是比进程更小的能独立运行的基本单位。</p><ol><li>一个程序至少有一个进程，一个进程至少有一个线程</li><li>线程的划分尺度小于进程，使得多线程程序的并发性高</li><li>进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率</li><li>每个独立的线程有一个程序运行的入口，顺序执行序列和程序的出口，但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。</li></ol><hr><h1 id="死锁的必要条件，怎么处理死锁"><a href="#死锁的必要条件，怎么处理死锁" class="headerlink" title="死锁的必要条件，怎么处理死锁"></a>死锁的必要条件，怎么处理死锁</h1><p>四个条件：</p><ol><li>互斥条件：指进程对所分配到的资源进行排他性的使用，即在一段时间内某资源只有一个进程占用，如果此时还有其他进程请求资源，则让他先等着，直到占有资源的进程用完释放后，才可以用。意思就是一个资源只能一个进程占用，其他要用的得等着。</li><li>请求和保持条件：指进程已经保持至少一个资源，但又提出了新的资源请求，而该资源已被其他进程占有，此时请求进程阻塞，但又对自己已获得的其他资源保持不放。意思是一个进程占用了资源，想获得别的资源，要是那个资源被占，那自己先等，但是自己占的资源也不会释放给别的进程。</li><li>不剥夺条件：指进程占有的资源，不能被剥夺，只能自己释放。我占的资源你不能抢。</li><li>环路等待条件：指在发生死锁时，必然是有一个环路链，进程都占用资源，但是又想获得其他进程占有的资源，形成一个环，循环等待。</li></ol><p>处理死锁的方法：</p><ol><li>预防死锁</li></ol><p>破坏占有并等待条件：一次性分配全部资源  or  每次申请前，必须释放自己的资源</p><ol start="2"><li>避免死锁</li><li>检测死锁</li><li>解除死锁</li></ol><p>资源剥夺：挂起某些死锁进程，并抢占它的资源，将这些资源分配给其他的死锁进程</p><p>撤销进程：强制撤销某些、甚至全部死锁进程并剥夺这些进程的资源</p><p>进程回退：让一or多个进程回退到足以回避死锁的地步，进程回退时自愿放弃资源而不是剥夺。（设置还原点）</p><hr><h1 id="Window内存管理方式"><a href="#Window内存管理方式" class="headerlink" title="Window内存管理方式"></a>Window内存管理方式</h1><h2 id="段存储"><a href="#段存储" class="headerlink" title="段存储"></a>段存储</h2><p>##　页存储</p><h2 id="段页存储"><a href="#段页存储" class="headerlink" title="段页存储"></a>段页存储</h2><h1 id="进程的几种状态"><a href="#进程的几种状态" class="headerlink" title="进程的几种状态"></a>进程的几种状态</h1><p>进程是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位。</p><p>一个进程的生命周期可以划分为一组状态。</p><p>三个：就绪、运行、阻塞</p><p><img src="http://img.blog.csdn.net/20160728195253757?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><p>运行：进程占用CPU，并在CPU上运行</p><p>就绪：进程已经具备运行条件，但是CPU还没有分配过来</p><p>阻塞：进程因为某件事发生而暂时不能运行</p><p><img src="http://img.blog.csdn.net/20160728195318117?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p><h1 id="IPC几种通信方式"><a href="#IPC几种通信方式" class="headerlink" title="IPC几种通信方式"></a>IPC几种通信方式</h1><p>IPC是进程间的通讯 （Inter-process communication）</p><p>作用：数据传输、共享数据、通知事件、资源共享、进程控制（这些都需要通讯）</p><ol><li>无名管道（pipe）：管道是一种半双工的通信方式，数据只能单向流动，而且只能在父子进程间通信。管道的缓冲区是有限的，管道所传送的是无格式字节流，要求管道的读出方和写入方必须事先约好数据的格式。</li><li>命名管道（fifo）：命名管道也是半双工的通信方式，但是它允许无亲缘关系进程间的通信。严格遵循先进先出，对管道及FIFO的读总是从开始处返回数据，对他们的写则是把数据添加到末尾。</li><li>消息队列（message queue）：消息队列是由消息的链表，存放在内核中并由消息队列标识符标识，可以用非先进先出方式处理，消息队列是异步通信。</li><li>共享内存：共享内存是最快的IPC方式，在共享内存段中都是以字符串的默认结束符为一条信息的结尾。</li><li>信号量（semophore）：信号量是一个计数器</li></ol><hr><h1 id="什么是虚拟内存"><a href="#什么是虚拟内存" class="headerlink" title="什么是虚拟内存"></a>什么是虚拟内存</h1><hr><h1 id="虚拟地址、逻辑地址、线性地址、物理地址的区别"><a href="#虚拟地址、逻辑地址、线性地址、物理地址的区别" class="headerlink" title="虚拟地址、逻辑地址、线性地址、物理地址的区别"></a>虚拟地址、逻辑地址、线性地址、物理地址的区别</h1><ul><li>物理地址</li></ul><p>用于内存芯片级的单元寻址，与处理器和CPU连接的地址总线相对应</p><ul><li>虚拟地址</li></ul><p>这是对整个内存的抽象描述</p><ul><li>逻辑地址</li></ul><p>指机器语言指令中，用来指定一个操作数或者是一条指令的地址</p><ul><li>线性地址</li></ul><p>也是不真实的地址，对应硬件页式内存的转换前地址</p><p>推荐书籍：《深入理解<a href="http://www.amazon.cn/gp/product/B002GKAMFA/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=536&amp;creative=3200&amp;creativeASIN=B002GKAMFA&amp;linkCode=as2&amp;tag=importnew-23" target="_blank" rel="noopener">现代操作系统</a>》</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 基础 </tag>
            
            <tag> 操作系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《程序员代码面试指南（数组和矩阵问题）》</title>
      <link href="/2017/08/14/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-shu-zu-he-ju-zhen-wen-ti/"/>
      <url>/2017/08/14/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-shu-zu-he-ju-zhen-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>数组和矩阵问题，这些做得比较多。</p><p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3506665052,220356979&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="未排序正整数数组中累加和为给定值的最长子数组长度"><a href="#未排序正整数数组中累加和为给定值的最长子数组长度" class="headerlink" title="未排序正整数数组中累加和为给定值的最长子数组长度"></a>未排序正整数数组中累加和为给定值的最长子数组长度</h1><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/8/30.</span></span><br><span class="line"><span class="comment"> *未排序正整数数组中累加和为给定值的最长子数组长度</span></span><br><span class="line"><span class="comment"> * 给定一个无需数组arr,其中元素为正，给定一个整数k。求arr的所有子数组中累加和为k的最长子数组的长度。</span></span><br><span class="line"><span class="comment"> * arr=[1,2,1,1,1],k=3</span></span><br><span class="line"><span class="comment"> * 结果返回3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">getMaxLength1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] arr={<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>};</span><br><span class="line">        <span class="keyword">int</span> k=<span class="number">3</span>;</span><br><span class="line">        System.out.println(getMaxLength(arr,k));</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMaxLength</span><span class="params">(<span class="keyword">int</span> [] arr ,<span class="keyword">int</span> k)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="keyword">null</span>||arr.length&lt;<span class="number">0</span>||k&lt;<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> right =<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> sum=arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">while</span> (right&lt;arr.length){</span><br><span class="line">            <span class="keyword">if</span>(sum==k){</span><br><span class="line">                len=Math.max(len,right-left+<span class="number">1</span>);</span><br><span class="line">                sum-=arr[left++];</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span>(sum&lt;k){</span><br><span class="line">                right++;</span><br><span class="line">                <span class="keyword">if</span>(right==arr.length){</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">                sum+=arr[right];</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                sum-=arr[left++];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="数组partition调整使数组的左部分单调有序"><a href="#数组partition调整使数组的左部分单调有序" class="headerlink" title="数组partition调整使数组的左部分单调有序"></a>数组partition调整使数组的左部分单调有序</h1><p>给定一个有序数组arr，调整使得数组的左部分无重复元素且有序，右边部分不要求。如数组arr[]={1,2,2,2,3,3,4,5,6,9,9} ;调整过后可以为：[1, 2, 3, 4, 5, 6, 9, 2, 3, 2, 9] 。</p><p>思路：使用标记 u 其中arr[0…u] 表示已经处理过的没有重复元素且有序的区间，从arr[u+1…i-1]表示有重复元素的部分。则<a href="http://lib.csdn.net/base/datastructure" target="_blank" rel="noopener">算法</a>主要分为下面两部分。<br><strong>1.</strong> 比较 arr[i] 与 arr[u] 是否相同如果不同，则将 arr[i] 的值赋给arr[u+1],u++;<br><strong>2.</strong> i++遍历数组。 </p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] arr = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">9</span>};</span><br><span class="line">        leftUnique(arr);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">leftUnique</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (arr.length == <span class="number">0</span> || arr == <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> u=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i!=arr.length){</span><br><span class="line">            <span class="keyword">if</span>(arr[i++]!=arr[u]){</span><br><span class="line">               swap(arr,i-<span class="number">1</span>,++u);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>( i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">            System.out.print(arr[i]+<span class="string">" "</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> []  swap(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> m, <span class="keyword">int</span> n){</span><br><span class="line">        <span class="keyword">int</span> temp= arr[m];</span><br><span class="line">        arr[m]=arr[n];</span><br><span class="line">        arr[n]=temp;</span><br><span class="line">        <span class="keyword">return</span> arr ;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="将正方形矩阵顺时针转动90度"><a href="#将正方形矩阵顺时针转动90度" class="headerlink" title="将正方形矩阵顺时针转动90度"></a>将正方形矩阵顺时针转动90度</h1><p>题目：给定一个N*N的矩阵matrix,求把这个矩阵调整成顺时针转动90度后的形式。</p><p>例如：</p><p>1     2    3    4</p><p>5     6    7    8</p><p>9    10  11  12</p><p>13  14  15  16</p><p>顺时针转动90度后为:</p><p>13    9    5   1</p><p>14   10   6   2</p><p>15   11   7   3</p><p>16   12   8   4</p><p>要求：额外空间复杂度为O(1)</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span>[][] m = { {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>},</span><br><span class="line">                     {<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>},</span><br><span class="line">                     {<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>},</span><br><span class="line">                     {<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>} };</span><br><span class="line">        rotate(m);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="keyword">int</span>[][] arr)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span> tR=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">int</span> tC=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">int</span> dR=arr.length-<span class="number">1</span>;</span><br><span class="line">       <span class="keyword">int</span> dC=arr[<span class="number">0</span>].length-<span class="number">1</span>;</span><br><span class="line">       <span class="keyword">while</span> (tR&lt;dR){</span><br><span class="line">           rotateEdge(arr,tR++,tC++,dR--,dC--);</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) {</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; arr[<span class="number">0</span>].length; j++) {</span><br><span class="line">               System.out.print(arr[i][j] + <span class="string">"  "</span>);</span><br><span class="line">           }</span><br><span class="line">           System.out.println(<span class="string">" "</span>);</span><br><span class="line">       }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">rotateEdge</span><span class="params">(<span class="keyword">int</span> [][] arr ,<span class="keyword">int</span>  tR,<span class="keyword">int</span> tC ,<span class="keyword">int</span> dR ,<span class="keyword">int</span> dC)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> times=dR-tR;</span><br><span class="line">        <span class="keyword">int</span> temp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=times;i++){</span><br><span class="line">            temp = arr[tR][tC+i];</span><br><span class="line">            arr[tR][tC+i]=arr[dR-i][tC];</span><br><span class="line">            arr[dR-i][tC]=arr[dR][dC-i];</span><br><span class="line">            arr[dR][dC-i]=arr[tR+i][dC];</span><br><span class="line">            arr[tR+i][dC]=temp;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="找到无序数组中最小的K个数"><a href="#找到无序数组中最小的K个数" class="headerlink" title="找到无序数组中最小的K个数"></a>找到无序数组中最小的K个数</h1><p>给定一个无序的整型数组arr，找到其中最小的k个数。</p><p>时间复杂度：O(nlogk)</p><p>维护一个有k个数的大根堆，这个堆代表目前选出的k个最小的数。在堆的k个元素中堆顶元素是最小的k个数中最大的那个。</p><p>接下来要遍历整个数组，遍历的过程中看当前数是否比堆顶元素小。如果是，就把堆顶元素替换成当前数，然后调整堆。如果不是，则不做任何操作，继续遍历下一个数。在遍历完成后，堆中的k个数就是所有数组中最小的k个数。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span>[] arr = {<span class="number">5</span> ,<span class="number">9</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">6</span>};</span><br><span class="line">        <span class="keyword">int</span> k=<span class="number">3</span>;</span><br><span class="line">       <span class="keyword">int</span> [] res= getMinKNumsByHeap(arr,k);</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;res.length;i++){</span><br><span class="line">           System.out.println(res[i]);</span><br><span class="line">       }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> [] getMinKNumsByHeap(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> k) {</span><br><span class="line">        <span class="keyword">if</span>(k&lt;<span class="number">1</span>&amp;&amp;k&gt;arr.length){</span><br><span class="line">            <span class="keyword">return</span> arr;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> kHeap[]=<span class="keyword">new</span> <span class="keyword">int</span> [k];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=k;i++){</span><br><span class="line">            heapInsert(kHeap,arr[i],i);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = k;i !=arr.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(arr[i]&lt;kHeap[<span class="number">0</span>]){</span><br><span class="line">                kHeap[<span class="number">0</span>]=arr[i];</span><br><span class="line">                heapify(kHeap,<span class="number">0</span>,k);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">       <span class="keyword">return</span> kHeap;</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapify</span><span class="params">(<span class="keyword">int</span> [] arr, <span class="keyword">int</span> index ,<span class="keyword">int</span> heapsize)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> left= index*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> right=index*<span class="number">2</span>+<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> largest=index;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;heapsize){</span><br><span class="line">            <span class="keyword">if</span>(arr[left]&gt;arr[index]){</span><br><span class="line">                largest=left;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(right&lt;heapsize &amp;&amp; arr[right]&gt;arr[largest]){</span><br><span class="line">                largest=right;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(largest!=index){</span><br><span class="line">                swap(arr,largest,index);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">            index=largest;</span><br><span class="line">            left= index*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">            right=index*<span class="number">2</span>+<span class="number">2</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapInsert</span><span class="params">(<span class="keyword">int</span> [] kHeap ,<span class="keyword">int</span> arri ,<span class="keyword">int</span> i)</span></span>{</span><br><span class="line">        kHeap[i]=arri;</span><br><span class="line">        <span class="keyword">while</span> (i!=<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">int</span> parent=(i-<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(kHeap[parent]&lt;kHeap[i]){</span><br><span class="line">                swap(kHeap,parent,i);</span><br><span class="line">                i=parent;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> [] arr ,<span class="keyword">int</span> m ,<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">            <span class="keyword">int</span> temp=arr[m];</span><br><span class="line">            arr[m]=arr[n];</span><br><span class="line">            arr[n]=temp;</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="三数排序"><a href="#三数排序" class="headerlink" title="三数排序"></a>三数排序</h1><p>给定一个数组，其中只有三个数0,1,2三个值，请实现arr排序。</p><p>三个颜色的球排序</p><p>用left和right标记数组头和尾，用index遍历，遇到该交换的交换，直到index==right为止。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] arr = {<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span> ,<span class="number">2</span>, <span class="number">2</span>,<span class="number">0</span>};</span><br><span class="line">        leftUnique(arr);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">leftUnique</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (arr.length &lt;<span class="number">2</span> || arr == <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> left=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right=arr.length;</span><br><span class="line">        <span class="keyword">while</span> (index&lt;right){</span><br><span class="line">            <span class="keyword">if</span>(arr[index]==<span class="number">0</span>){</span><br><span class="line">                swap(arr,++left,index++);</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span>(arr[index]==<span class="number">2</span>){</span><br><span class="line">                swap(arr,--right,index);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                index++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>  i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">            System.out.print(arr[i]+<span class="string">" "</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> []  swap(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> m, <span class="keyword">int</span> n){</span><br><span class="line">        <span class="keyword">int</span> temp= arr[m];</span><br><span class="line">        arr[m]=arr[n];</span><br><span class="line">        arr[n]=temp;</span><br><span class="line">        <span class="keyword">return</span> arr ;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="转圈打印矩阵"><a href="#转圈打印矩阵" class="headerlink" title="转圈打印矩阵"></a>转圈打印矩阵</h1><p>给一个整型矩阵matrix，按照转圈的方式打印它。</p><p>1   2   3</p><p>4   5   6</p><p>7   8   9</p><p>打印就是：1  2  3  6  9  8  7  4  5</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleDynamic</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [][] m= {{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>},</span><br><span class="line">                {<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>},</span><br><span class="line">                {<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>},</span><br><span class="line">                {<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>}};</span><br><span class="line"></span><br><span class="line">        spirOrderPrint(m);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">spirOrderPrint</span><span class="params">(<span class="keyword">int</span> [][]matrix)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> tR = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tC = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> dR=matrix.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> dC=matrix[<span class="number">0</span>].length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (tR&lt;=dR &amp;&amp; tC&lt;=dC){</span><br><span class="line">            printEdge(matrix,tR++,tC++,dR--,dC--);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printEdge</span><span class="params">(<span class="keyword">int</span> [][] matrix ,<span class="keyword">int</span> tR ,<span class="keyword">int</span> tC,<span class="keyword">int</span> dR , <span class="keyword">int</span> dC)</span></span>{</span><br><span class="line">      <span class="keyword">if</span>(tR==dR){</span><br><span class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=dC;i++){</span><br><span class="line">              System.out.print(matrix[tR][i]+<span class="string">" "</span>);</span><br><span class="line">          }</span><br><span class="line"></span><br><span class="line">      }<span class="keyword">else</span> <span class="keyword">if</span>(tC==dC){</span><br><span class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;dR ;i++){</span><br><span class="line">              System.out.print(matrix[i][tC]+ <span class="string">" "</span>);</span><br><span class="line">          }</span><br><span class="line">      }<span class="keyword">else</span> {</span><br><span class="line">          <span class="keyword">int</span> curC=tC;</span><br><span class="line">          <span class="keyword">int</span> curR=tR;</span><br><span class="line">          <span class="keyword">while</span> (curC != dC){</span><br><span class="line">              System.out.print(matrix[tR][curC]+<span class="string">" "</span>);</span><br><span class="line">                curC++;</span><br><span class="line">          }</span><br><span class="line">          <span class="keyword">while</span> (curR!=dR){</span><br><span class="line">              System.out.print(matrix[curR][dC]+<span class="string">" "</span>);</span><br><span class="line">              curR++;</span><br><span class="line">          }</span><br><span class="line"></span><br><span class="line">          <span class="keyword">while</span> (curC != tC){</span><br><span class="line">              System.out.print(matrix[dR][curC]+<span class="string">" "</span>);</span><br><span class="line">              curC--;</span><br><span class="line">          }</span><br><span class="line">          <span class="keyword">while</span> (curR!=tR){</span><br><span class="line">              System.out.print(matrix[curR][tC]+<span class="string">" "</span>);</span><br><span class="line">              curR--;</span><br><span class="line">          }</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="“之”字形打印矩阵"><a href="#“之”字形打印矩阵" class="headerlink" title="“之”字形打印矩阵"></a>“之”字形打印矩阵</h1><ol><li>上坐标（tR,tC）初始为（0,0），先向右走（tC++）,再向下走tR++</li><li>下坐标类似</li><li>打印斜线方向用boolean判断</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleDynamic</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [][] m= {{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,  <span class="number">4</span>},</span><br><span class="line">                     {<span class="number">5</span>,<span class="number">6</span>,  <span class="number">7</span>,   <span class="number">8</span>},</span><br><span class="line">                     {<span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>,  <span class="number">12</span>},</span><br><span class="line">                     {<span class="number">13</span>,  <span class="number">14</span>,    <span class="number">15</span>,   <span class="number">16</span>}};</span><br><span class="line"></span><br><span class="line">        printMatrixZigZag(m);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printMatrixZigZag</span><span class="params">(<span class="keyword">int</span> [][] matrix)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> tR = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tC = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> dR = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> dC = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> endR = matrix.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> endC = matrix[<span class="number">0</span>].length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">boolean</span> flag=<span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (tR!=matrix.length){</span><br><span class="line">            printZigZag(matrix,tR,tC,dR,dC,flag);</span><br><span class="line">            tC=tC==endC?tC:tC+<span class="number">1</span>;</span><br><span class="line">            tR= tC==endC ?tR+<span class="number">1</span>:tR;</span><br><span class="line">            dR=dR==endR?dR:dR+<span class="number">1</span>;</span><br><span class="line">            dC=dR==endR?dC+<span class="number">1</span>:dC;</span><br><span class="line">            flag=!flag;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printZigZag</span><span class="params">(<span class="keyword">int</span> [][] matrix,<span class="keyword">int</span> tR,<span class="keyword">int</span> tC,<span class="keyword">int</span> dR,<span class="keyword">int</span> dC,<span class="keyword">boolean</span> flag )</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(flag){</span><br><span class="line">            <span class="keyword">while</span> (tR!=dR+<span class="number">1</span>){</span><br><span class="line">                System.out.print(matrix[tR++][tC--]+<span class="string">" "</span>);</span><br><span class="line">            }</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">while</span> (dR!=tC-<span class="number">1</span>) {</span><br><span class="line">                System.out.print(matrix[dR--][dC++]+<span class="string">" "</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="自然数数组的排序"><a href="#自然数数组的排序" class="headerlink" title="自然数数组的排序"></a>自然数数组的排序</h1><p>给定一个长度为N的整型数组arr，其中有N个互不相等的自然数1<del>N，请实现arr的排序，但是不要把下标0</del>N-1位置上的数值通过直接赋值的方式替换成1~N。</p><p>要求：时间复杂度为O(N)，额外空间复杂度为O(1)。</p><p>思路：</p><p>1.从左向右遍历arr，假设当前遍历到i位置。</p><p>2.if arr[i]==i+1,不需要调整，继续遍历。</p><p>3.if arr[i]!=i+1,进行调整。</p><p>根据调整功能的方法不同，可以有不同的实现过程。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleDynamic</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] m= {<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,  <span class="number">4</span>};</span><br><span class="line">        m=sort(m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m.length;i++){</span><br><span class="line">            System.out.println(m[i]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> [] sort(<span class="keyword">int</span> [] matrix){</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;matrix.length;i++){</span><br><span class="line">           <span class="keyword">while</span>(matrix[i]!=i+<span class="number">1</span>){</span><br><span class="line">               <span class="keyword">int</span> temp=matrix[matrix[i]-<span class="number">1</span>];</span><br><span class="line">               matrix[matrix[i]-<span class="number">1</span>]=matrix[i];</span><br><span class="line">               matrix[i]=temp;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> matrix;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="奇数下标都是奇数或偶数下标都是偶数"><a href="#奇数下标都是奇数或偶数下标都是偶数" class="headerlink" title="奇数下标都是奇数或偶数下标都是偶数"></a>奇数下标都是奇数或偶数下标都是偶数</h1><p>给定一个长度不小于2的数组arr，实现一个函数调整arr，要么使所有的偶数下标都是偶数，要么使所有的奇数下标都是奇数。</p><p>要求：时间复杂度为O(N),额外空间复杂度为O(1)。</p><p>算法解释：</p><p>最后位置的数是偶数，就替换前面的偶数下标，最后位置的是奇数，就替换前面的奇数下标，每替换一次，最后位置的数都是变化的，这样就都替换了。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleDynamic</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] m= {<span class="number">1</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>};</span><br><span class="line">        modify(m);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span>  <span class="title">modify</span><span class="params">(<span class="keyword">int</span> [] matrix)</span></span>{</span><br><span class="line">       <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length&lt;<span class="number">2</span>){</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       }</span><br><span class="line">        <span class="keyword">int</span> even=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">int</span> odd=<span class="number">1</span>;</span><br><span class="line">       <span class="keyword">int</span> end=matrix.length-<span class="number">1</span>;</span><br><span class="line">       <span class="keyword">while</span> (even&lt;=end &amp;&amp; odd&lt;=end){</span><br><span class="line">           <span class="keyword">if</span>((matrix[end]&amp;<span class="number">1</span>)==<span class="number">0</span>){</span><br><span class="line">               swap(matrix,even,end);</span><br><span class="line">               even+=<span class="number">2</span>;</span><br><span class="line">           }<span class="keyword">else</span> {</span><br><span class="line">               swap(matrix,odd,end);</span><br><span class="line">               odd+=<span class="number">2</span>;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;matrix.length;i++){</span><br><span class="line">            System.out.println(matrix[i]);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> [] m,<span class="keyword">int</span> index1,<span class="keyword">int</span> index2)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> temp=m[index1];</span><br><span class="line">        m[index1]=m[index2];</span><br><span class="line">        m[index2]=temp;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="子数组的最大累加和问题"><a href="#子数组的最大累加和问题" class="headerlink" title="子数组的最大累加和问题"></a>子数组的最大累加和问题</h1><p>给定一个数组，返回子数组的最大累加和。</p><p>例如：arr=[1,-2,3,5,-2,6,-1]，所有子数组中，[3,5,-2,6]可以累加出最大的和12，return 12.</p><p>时间复杂度为O(N)，额外空间复杂度为O(1)。</p><p>如果arr中没有正数，产生的最大累加和一定是数组中的最大值。</p><p>如果arr中有正数，从左向右遍历arr，用变量cur记录每一步的累加和，遍历到正数cur增加，遍历到负数cur减少。当cur&lt;0时，舍弃当前部分，令cur=0，表示重新从下一个数开始累加。当cur&gt;=0时，每一次的累加都可能是最大的累加和，所以，用另外一个变量max全程跟踪cur出现的最大值。        </p><p>cur累加到负数就重新累加，max记录当前cur的最大值。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleDynamic</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] m= {<span class="number">1</span>,-<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,-<span class="number">2</span>,<span class="number">6</span>,-<span class="number">1</span>};</span><br><span class="line">        maxSum(m);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">maxSum</span><span class="params">(<span class="keyword">int</span>[] m)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(m==<span class="keyword">null</span>||m.length==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> cur=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m.length;i++){</span><br><span class="line">            cur+=m[i];</span><br><span class="line">            <span class="keyword">if</span>(max&lt;cur){</span><br><span class="line">                max=cur;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(cur&lt;<span class="number">0</span>){</span><br><span class="line">                cur=<span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(max);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="子矩阵的最大累计和问题"><a href="#子矩阵的最大累计和问题" class="headerlink" title="子矩阵的最大累计和问题"></a>子矩阵的最大累计和问题</h1><p>给定一个矩阵，其中的值有正、有负、有0。返回子矩阵的最大累计和。</p><p>如果一个矩阵一共有K行且限定必须含有K行元素的情况下，只要把矩阵中每一行的K个元素累加生成一个累加数组，然后求出这个数组的最大累加和，这个最大累加和就是必须含有K行元素的子矩阵中的最大累加和。</p><p>用i动态测试每一层往下累计的最大值，i+1实际上是把i层之上的全部不算。实现动态遍历</p><p>j和k是普通遍历</p><p>用s[k]存每次往下加的数字</p><p>cur加s[k]如果大就保存，如果不是最大就不存，如果小于0就清零。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[][] m = {{-<span class="number">90</span>, <span class="number">48</span>, <span class="number">78</span>},</span><br><span class="line">                     {<span class="number">64</span>, -<span class="number">40</span>, <span class="number">64</span>},</span><br><span class="line">                     {-<span class="number">81</span>, -<span class="number">7</span>, <span class="number">66</span>}};</span><br><span class="line">        maxSum(m);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">maxSum</span><span class="params">(<span class="keyword">int</span>[][] m)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="keyword">null</span> || m.length == <span class="number">0</span> || m[<span class="number">0</span>].length == <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> cur = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">int</span> []s=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m.length; i++) {</span><br><span class="line">             s = <span class="keyword">new</span> <span class="keyword">int</span>[m[<span class="number">0</span>].length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; m.length; j++) {</span><br><span class="line">                cur = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; m[<span class="number">0</span>].length; k++) {</span><br><span class="line">                    s[k] += m[j][k];</span><br><span class="line">                    cur += s[k];</span><br><span class="line">                    max = Math.max(max, cur);</span><br><span class="line">                    <span class="keyword">if</span> (cur &lt; <span class="number">0</span>) {</span><br><span class="line">                        cur = <span class="number">0</span>;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(max);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="在数组中找到一个局部最小的位置"><a href="#在数组中找到一个局部最小的位置" class="headerlink" title="在数组中找到一个局部最小的位置"></a>在数组中找到一个局部最小的位置</h1><p>定义局部最小的概念。arr长度为1时，arr[0]是局部最小。arr的长度为N(N&gt;1)时，如果arr[0]&lt;arr[1]，那么arr[0]为局部最小。如果arr[N-1]&lt;arr[N-2]，那么arr[N-1]是局部最小。如果0&lt;i&lt;N-1，arr[i]&lt;arr[i+1]&amp;&amp;arr[i]&lt;arr[i-1]，那么arr[i]是局部最小。</p><p>给定无序数组arr，已知arr中任何两个相邻的数不相等。写一个函数，只需返回arr中任何一个局部最小出现的位置即可。</p><p>利用二分查找可以做到时间复杂度O(logN)、额外空间复杂度为O(1)</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] m = {<span class="number">90</span>,<span class="number">78</span>, <span class="number">48</span>, <span class="number">78</span>};</span><br><span class="line">        System.out.println(getLessIndex(m));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getLessIndex</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="keyword">null</span> || arr.length==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(arr[<span class="number">0</span>]&lt;arr[<span class="number">1</span>]){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(arr[arr.length-<span class="number">1</span>]&lt;arr[arr.length-<span class="number">2</span>]){</span><br><span class="line">            <span class="keyword">return</span> arr[arr.length-<span class="number">1</span>];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> right= arr.length-<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> mid=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left&lt;right){</span><br><span class="line">            mid=(right+left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(arr[mid]&gt;arr[mid-<span class="number">1</span>]){</span><br><span class="line">                right=mid-<span class="number">1</span>;</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span>(arr[mid]&gt;arr[mid+<span class="number">1</span>]){</span><br><span class="line">                left=mid+<span class="number">1</span>;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="不包含本位置值的累乘数组"><a href="#不包含本位置值的累乘数组" class="headerlink" title="不包含本位置值的累乘数组"></a>不包含本位置值的累乘数组</h1><p>给定一个整型数组，返回不包含本位置的累乘数组。</p><p>例如：arr=[2,3,1,4],返回[12,8,24,6],即除自己外，其他位置的类乘。</p><p>1.时间复杂度为O(N).</p><p>2.除需要返回的结果数组之外，额外空间复杂度为O(1).</p><p>使用除法：</p><p>结果数组记为res，所有数的乘积记为all。如果数组中不含0，则设置res[i]=all/arr[i]。如果数组中有一个0，对唯一的arr[i]==0的位置令res[i]=all,其他位置都是0。如果数组中0的数量大于1，那么res所有位置上的值都是0。</p><p>不使用除法：</p><p>1.生成两个长度和arr一样的新数组lr[]和rl[]，lr[i]=arr[0…i],rl[i]=arr[i…N-1]。</p><p>2.res[i]=lr[i-1]*rl[i+1]</p><p>3.res[0]=rl[1],res[N-1]=lr[N-2]</p><p>这里又额外使用了两个数组，可以通过res数组复用的方式省略掉这两个数组，先把res数组作为辅助计算的数组，然后把res调整成结果数组返回。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] m = {<span class="number">2</span>,<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>};</span><br><span class="line">       m= product(m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m.length;i++){</span><br><span class="line">            System.out.println(m[i]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> [] product(<span class="keyword">int</span>[] arr) {</span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="keyword">null</span> || arr.length==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        }</span><br><span class="line">       <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span> [arr.length];</span><br><span class="line">        res[arr.length-<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=arr.length-<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--){</span><br><span class="line">            res[i]=res[i+<span class="number">1</span>]*arr[i+<span class="number">1</span>];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> temp=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">            res[i]*=temp;</span><br><span class="line">            temp*=arr[i];</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="求最短通路值"><a href="#求最短通路值" class="headerlink" title="求最短通路值"></a>求最短通路值</h1><p>用一个整形矩阵matrix表示一个网络，1代表有路，0代表没路，每一个位置只要不越界，都有上下左右4个方向，求从最左上角到最右下角的最短通路值。</p><p>例如：</p><p>1     0     1     1     1</p><p>1     0     1     0     1</p><p>1     1     1     0     1</p><p>0     0     0     0     1</p><p>通路只有1条，由12个1组成，所以返回12。</p><p>使用宽度优先遍历即可，如果矩阵大小为N<em>M，时间复杂度为O(N</em>M)，</p><p>1.开始时生成map矩阵，map[i][j]的含义是从（0,0）位置走到（i，j）位置最短的路径值。然后将左上角位置（0,0）的行坐标和列坐标放入行队列rQ、列队列   cQ。</p><p>2.不断从队列弹出一个位置（r,c）,然后看这个位置的上下左右四个位置哪些在matrix上的值是1，这些都是能走的位置。</p><p>3.将那些能走的位置设置好各自在map中的值，即map[r][c]+1。同时将这些位置加入到rQ和cQ的中，用队列完成宽度优先遍历。</p><p>4.在步骤3中，如果一个位置走过，就不要重复走，这个逻辑可以根据一个位置在map中的值来确定，比如map[i][j]!=0，就可以知道这个位置之前走过。</p><p>5.一直重复步骤2~步骤4。直到遇到右下角位置，说明已经找到终点，返回终点在map中的值即可，如果rQ和cQ已经为空都没有遇到终点位置，return 0。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span>[][] m = { {<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>},</span><br><span class="line">                     {<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>},</span><br><span class="line">                     {<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>},</span><br><span class="line">                     {<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>} };</span><br><span class="line">            System.out.println(minPathValue(m));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minPathValue</span><span class="params">(<span class="keyword">int</span> [][] m)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(m==<span class="keyword">null</span> || m.length==<span class="number">0</span>|| m[<span class="number">0</span>].length==<span class="number">0</span>||m[<span class="number">0</span>][<span class="number">0</span>]!=<span class="number">1</span>||m[m.length-<span class="number">1</span>][m[<span class="number">0</span>].length-<span class="number">1</span>]!=<span class="number">1</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> [][] map=<span class="keyword">new</span> <span class="keyword">int</span> [m.length][m[<span class="number">0</span>].length];</span><br><span class="line">        map[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        Queue&lt;Integer&gt; rQ=<span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        Queue&lt;Integer&gt; cQ=<span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        rQ.add(<span class="number">0</span>);</span><br><span class="line">        cQ.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> r=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> c=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!rQ.isEmpty()){</span><br><span class="line">            r=rQ.poll();</span><br><span class="line">            c=cQ.poll();</span><br><span class="line">            <span class="keyword">if</span>( ( r==m.length-<span class="number">1</span> ) &amp;&amp; ( c==m[<span class="number">0</span>].length-<span class="number">1</span>)){</span><br><span class="line">                <span class="comment">//查map路径</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;map.length;i++){</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;map[<span class="number">0</span>].length;j++){</span><br><span class="line">                        System.out.print(map[i][j]+<span class="string">"  "</span>);</span><br><span class="line">                    }</span><br><span class="line">                    System.out.println(<span class="string">" "</span>);</span><br><span class="line">                }</span><br><span class="line">                  <span class="comment">//输出结果</span></span><br><span class="line">                <span class="keyword">return</span> map[r][c];</span><br><span class="line">            }</span><br><span class="line">            walkTo(map[r][c],r-<span class="number">1</span>,c,m,map,rQ,cQ);</span><br><span class="line">            walkTo(map[r][c],r+<span class="number">1</span>,c,m,map,rQ,cQ);</span><br><span class="line">            walkTo(map[r][c],r,c-<span class="number">1</span>,m,map,rQ,cQ);</span><br><span class="line">            walkTo(map[r][c],r,c+<span class="number">1</span>,m,map,rQ,cQ);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">walkTo</span><span class="params">(<span class="keyword">int</span> pre,<span class="keyword">int</span> toR,<span class="keyword">int</span> toC ,<span class="keyword">int</span> [][]m , <span class="keyword">int</span> [][] map,Queue&lt;Integer&gt;  rQ , Queue&lt;Integer&gt;  cQ )</span></span>{</span><br><span class="line">        <span class="keyword">if</span> (toR &lt; <span class="number">0</span> || toR == m.length || toC &lt; <span class="number">0</span> || toC == m[<span class="number">0</span>].length || m[toR][toC] != <span class="number">1</span> || map[toR][toC] != <span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        map[toR][toC]=pre+<span class="number">1</span>;</span><br><span class="line">        rQ.add(toR);</span><br><span class="line">        cQ.add(toC);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">---res:</span><br><span class="line"><span class="number">1</span>  <span class="number">0</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span>   </span><br><span class="line"><span class="number">2</span>  <span class="number">0</span>  <span class="number">6</span>  <span class="number">0</span>  <span class="number">10</span>   </span><br><span class="line"><span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">0</span>  <span class="number">11</span>   </span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">0</span>  <span class="number">12</span>   </span><br><span class="line">  </span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></tbody></table></figure><hr><h1 id="最长的可整合数组的长度"><a href="#最长的可整合数组的长度" class="headerlink" title="最长的可整合数组的长度"></a>最长的可整合数组的长度</h1><p>如果一个数组再排序之后，每相邻两个数差的绝对值都为1，则该数组为可整合数组。例如，[5,3,4,6,2]排序之后为[2,3,4,5,6],符合每相邻两个数差的绝对值为1，所以这个数组为可整合数组。</p><p>给定一个整型数组，请返回其中最大可整合子数组的长度。例如，[5,5,3,2,6,4,3]的最大可整合子数组为[5,3,2,6,4]，所以返回5.</p><p>一个数组中如果没有重复元素，并且如果最大值减去最小值，再加上1的结果等于元素的个数（max-min+1=元素个数）,那么这个数组就是可整合数组。</p><p>这样，验证一个数组是否是可整合数组的时间复杂度可以从第一种方法的O(NlogN)减少至O(1),整个过程的时间复杂度为O(N^2)</p><p>无需排序，仅仅只需要遍历比较大小</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] m = {  <span class="number">5</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">3</span>};</span><br><span class="line"></span><br><span class="line">        System.out.println(getLIL(m));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getLIL</span><span class="params">(<span class="keyword">int</span> [] arr)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(arr.length==<span class="number">0</span>||arr==<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> min=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">        HashSet&lt;Integer&gt; set=<span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">            max=Integer.MIN_VALUE;</span><br><span class="line">            min=Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;arr.length;j++){</span><br><span class="line">                <span class="keyword">if</span>(set.contains(arr[j])){</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">                set.add(arr[j]);</span><br><span class="line">                max=Math.max(max,arr[j]);</span><br><span class="line">                min=Math.min(min,arr[j]);</span><br><span class="line">                <span class="keyword">if</span>(max-min==j-i){</span><br><span class="line">                    len=Math.max(len,j-i+<span class="number">1</span>);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            set.clear();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    }</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="边界都是1的最大正方形大小"><a href="#边界都是1的最大正方形大小" class="headerlink" title="边界都是1的最大正方形大小"></a>边界都是1的最大正方形大小</h1><p>给定一个M*N的矩阵，在这个矩阵中，只有0和1两种值，返回边框全是1的最大正方形的边长长度。</p><p>例如：</p><p>​              [0, 1, 1, 1, 1], </p><p>​            [0, 0, 1, 0, 1],</p><p>​            [0, 1, 1, 0, 1], </p><p>​            [0, 1, 1, 1, 1],  </p><p>​            [0, 1, 0, 1, 1]</p><p>其中，边框全是1的最大正方形的大小为4。</p><p>解析：</p><p>1.正方形边长为0&lt;=size&lt;=Math.min(rows,cols);</p><p>2.边长为size时，左上角的坐标范围为 0&lt;=i&lt;=rows-size，0&lt;=j&lt;=cols-size;</p><p>3.使用预处理矩阵right和down，空间换时间，right[i][j]保存matrix[i][j]包括自己往右边有多少个1，同理down[i][j]。 </p><p>3.对每一个左上角的边长为size的矩形判断边上是否全为1，发现有满足的直接返回当前size。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span>[][] arr = { {<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>},</span><br><span class="line">                       {<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>},</span><br><span class="line">                       {<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>},</span><br><span class="line">                       {<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>},</span><br><span class="line">                       {<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>}};</span><br><span class="line">       System.out.println(getMaxSize(arr));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMaxSize</span><span class="params">(<span class="keyword">int</span> [][]m)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [][] right=<span class="keyword">new</span> <span class="keyword">int</span> [m.length][m[<span class="number">0</span>].length];</span><br><span class="line">        <span class="keyword">int</span> [][] down= <span class="keyword">new</span> <span class="keyword">int</span> [m.length][m[<span class="number">0</span>].length];</span><br><span class="line">        setBorderMap(m,right,down);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> size=Math.min(m.length,m[<span class="number">0</span>].length);size!=<span class="number">0</span>;size--){</span><br><span class="line">            <span class="keyword">if</span>(hasSizeOfBorder(size,right,down)){</span><br><span class="line">                <span class="keyword">return</span> size;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setBorderMap</span><span class="params">(<span class="keyword">int</span> [][] m,<span class="keyword">int</span> [][]right ,<span class="keyword">int</span> [][]down)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> r=m.length;</span><br><span class="line">        <span class="keyword">int</span> c=m[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">if</span>(m[r-<span class="number">1</span>][c-<span class="number">1</span>]==<span class="number">1</span>){</span><br><span class="line">            right[r-<span class="number">1</span>][c-<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">            down[r-<span class="number">1</span>][c-<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=r-<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--){</span><br><span class="line">            <span class="keyword">if</span>(m[i][c-<span class="number">1</span>]==<span class="number">1</span>){</span><br><span class="line">                right[i][c-<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">                down[i][c-<span class="number">1</span>]=down[i+<span class="number">1</span>][c-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=c-<span class="number">2</span>;j&gt;=<span class="number">0</span>;j--){</span><br><span class="line">            <span class="keyword">if</span>(m[r-<span class="number">1</span>][j]==<span class="number">1</span>){</span><br><span class="line">                right[r-<span class="number">1</span>][j]=right[r-<span class="number">1</span>][j+<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">                down[r-<span class="number">1</span>][j]=<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=r-<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--){</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=c-<span class="number">2</span>;j&gt;=<span class="number">0</span>;j--){</span><br><span class="line">                right[i][j]=right[i][j+<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">                down[i][j]=down[i+<span class="number">1</span>][j]+<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">hasSizeOfBorder</span><span class="params">(<span class="keyword">int</span> size ,<span class="keyword">int</span> [][]right ,<span class="keyword">int</span> [][] down)</span></span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;right.length-size+<span class="number">1</span>;i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;right[<span class="number">0</span>].length-size+<span class="number">1</span>;j++){</span><br><span class="line">                <span class="keyword">if</span>(right[i][j]&gt;=size&amp;&amp;down[i][j]&gt;=size</span><br><span class="line">                        &amp;&amp;right[i+size-<span class="number">1</span>][j]&gt;=size</span><br><span class="line">                        &amp;&amp;down[i][j+size-<span class="number">1</span>]&gt;=size)</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="需要排序的最短子数组长度"><a href="#需要排序的最短子数组长度" class="headerlink" title="需要排序的最短子数组长度"></a>需要排序的最短子数组长度</h1><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/15.</span></span><br><span class="line"><span class="comment"> *    需要排序的最短子数组长度</span></span><br><span class="line"><span class="comment"> *    思路：</span></span><br><span class="line"><span class="comment">        用noMin  记录从右到左，可以遍历的，最左边开始需要重新排的</span></span><br><span class="line"><span class="comment">        用noMax   记录从左到右，可以遍历的，最右边需要重新排的</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 1,   5,3,4,2,  6,7</span></span><br><span class="line"><span class="comment"> 返回  4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">getMinLength1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>{</span><br><span class="line">        <span class="keyword">int</span> []arr={<span class="number">1</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span>};</span><br><span class="line">        System.out.println(getMinLength(arr));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMinLength</span><span class="params">(<span class="keyword">int</span> [] arr)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="keyword">null</span>||arr.length&lt;<span class="number">2</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> min=arr[arr.length-<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> noMin=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=arr.length-<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--){</span><br><span class="line">            <span class="keyword">if</span>(arr[i]&gt;min){</span><br><span class="line">                noMin=i;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                min=Math.min(arr[i],min);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(noMin==-<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> max=arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> noMax=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;arr.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(arr[i]&lt;max){</span><br><span class="line">                noMax=i;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                max=Math.max(max,arr[i]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> noMax-noMin+<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java基础-2</title>
      <link href="/2017/08/11/java-ji-chu-2/"/>
      <url>/2017/08/11/java-ji-chu-2/</url>
      
        <content type="html"><![CDATA[<p>实干兴邦</p><a id="more"></a><p> J2SE基础</p><h1 id="九种基本数据类型的大小，以及他们的封装类。"><a href="#九种基本数据类型的大小，以及他们的封装类。" class="headerlink" title="九种基本数据类型的大小，以及他们的封装类。"></a>九种基本数据类型的大小，以及他们的封装类。</h1><table><thead><tr><th align="center">基本类型</th><th align="center">大小(位)</th><th>字节</th><th align="center">最小值</th><th align="center">最大值</th><th align="center">封装类</th></tr></thead><tbody><tr><td align="center">boolean</td><td align="center">-</td><td>1</td><td align="center">-</td><td align="center">-</td><td align="center">Boolean</td></tr><tr><td align="center">byte</td><td align="center">8</td><td>1</td><td align="center">-128</td><td align="center">127</td><td align="center">Byte</td></tr><tr><td align="center">char</td><td align="center">16</td><td>2</td><td align="center">Unicode 0</td><td align="center">Unicode 2^16-1</td><td align="center">Character</td></tr><tr><td align="center">short</td><td align="center">16</td><td>2</td><td align="center">-2^15</td><td align="center">2^15-1</td><td align="center">Short</td></tr><tr><td align="center">int</td><td align="center">32</td><td>4</td><td align="center">-2^31</td><td align="center">2^31-1</td><td align="center">Integer</td></tr><tr><td align="center">float</td><td align="center">32</td><td>4</td><td align="center"></td><td align="center"></td><td align="center">Float</td></tr><tr><td align="center">double</td><td align="center">64</td><td>8</td><td align="center"></td><td align="center"></td><td align="center">Double</td></tr><tr><td align="center">long</td><td align="center">64</td><td>8</td><td align="center">-2^63</td><td align="center">2^63-1</td><td align="center">Long</td></tr><tr><td align="center">void</td><td align="center">-</td><td></td><td align="center">-</td><td align="center">-</td><td align="center">Void</td></tr></tbody></table><hr><h1 id="Switch能否用string做参数？"><a href="#Switch能否用string做参数？" class="headerlink" title="Switch能否用string做参数？"></a>Switch能否用string做参数？</h1><p>JDK1.7之前是只支持int 或char</p><p>JDK1.7开始支持String</p><p>JDK1.5 开始支持 Enum 类</p><hr><h1 id="equals与-的区别"><a href="#equals与-的区别" class="headerlink" title="equals与==的区别"></a>equals与==的区别</h1><p>“==” 用于基本数据类型的比较，判断引用是否指向堆内存的同一快地址。</p><p>equals 用于判断两个变量是否是对同一个对象的引用，即堆中的内容是否相同，返回值为布尔类型。</p><p>可以用equals方法检测两个字符串是否相等。</p><p>一定不能使用 == 运算符检测两个字符串是否相等！== 用来确定两个字符串是否放置在同一个位置上。</p><p>如果虚拟机始终将相同的字符串共享，就可以使用 == 运算符检测是否相等。但是实际上只有字符串常量是共享的，而+或者substring等操作产生的结果并不是共享的。</p><hr><h1 id="Object有哪些公用方法？"><a href="#Object有哪些公用方法？" class="headerlink" title="Object有哪些公用方法？"></a>Object有哪些公用方法？</h1><ol><li>equals方法</li></ol><p>Object类中的equals方法用于检测一个对象是否等于另外一个对象。</p><ol start="2"><li>hashCode方法</li></ol><p>该方法用于哈希查找，可以减少在查找中使用equals的次数，重写了equals方法一般都要重写hashCode方法。这个方法在一些具有哈希功能的Collection中用到。</p><ol start="3"><li>toString方法</li></ol><p>用于返回表示对象值的字符串。</p><hr><h1 id="Java的四种引用，强弱软虚，用到的场景"><a href="#Java的四种引用，强弱软虚，用到的场景" class="headerlink" title="Java的四种引用，强弱软虚，用到的场景"></a>Java的四种引用，强弱软虚，用到的场景</h1><ol><li>强引用</li></ol><p>强引用是使用最普遍的引用。如果一个对象具有强引用，那垃圾回收期绝不会回收它。</p><ol start="2"><li>软引用</li></ol><p>如果一个对象只具有软引用，则内存空间足够，垃圾回收器就不会回收它；如果内存空间不足了，就会回收这些 对象的内存。只要垃圾回收器没有回收它，该对象就可以被程序使用。软引用可以用来实现内存敏感的高速缓存。</p><ol start="3"><li>弱引用</li></ol><p>弱引用与软引用的区别在于：只具有弱引用的对象具有更短暂的生命周期。</p><p>在垃圾回收器线程扫描它所管辖的内存区域过程中，一旦发现了只具有弱引用的对象，不管当前内存空间足够与否，都会回收它的内存。</p><p>不过，由于垃圾回收器是一个优先级很低的线程，因此不一样很快发现那些只有弱引用的对象。</p><p>如果你想引用一个对象，但这个对象具有自己的生命周期，你不想介入这个对象的生命周期，这时候你就是用弱引用。</p><ol start="4"><li>虚引用</li></ol><p>虚引用不会决定对象的生命周期，如果一个对象仅持有虚引用，那么他就和没有任何引用一样，在任何适合都可能被垃圾回收器回收。</p><p>总结：</p><p>Java 4种引用的级别由高到低依次为：</p><p>强》软》弱》虚</p><hr><h1 id="Hashcode的作用"><a href="#Hashcode的作用" class="headerlink" title="Hashcode的作用"></a>Hashcode的作用</h1><p>hashCode的存在主要是用于查找的快捷性，如Hashtable，HashMap等，hashCode是用来在散列存储结构中确定对象的存储地址的</p><hr><h1 id="ArrayList、LinkedList、Vector的区别"><a href="#ArrayList、LinkedList、Vector的区别" class="headerlink" title="ArrayList、LinkedList、Vector的区别"></a>ArrayList、LinkedList、Vector的区别</h1><p>ArrayList本质上是一个数组，当更多的元素添加到ArrayList中时，其大小会动态的增长，内部元素通过get和set方式进行访问。不是线程安全的。</p><p>LinkedList是一个双链表，因此在删除和添加元素的时候优于数组形式的ArrayList，但是在get和set方面弱于ArrayList；</p><p>Vector几乎和ArrayList一样，但是Vector是线程安全的，在更多元素进来时，Vector每次请求双倍的空间，而ArrayList每次对size增长50%。</p><hr><h1 id="String、StringBuffer与StringBuilder的区别"><a href="#String、StringBuffer与StringBuilder的区别" class="headerlink" title="String、StringBuffer与StringBuilder的区别"></a>String、StringBuffer与StringBuilder的区别</h1><p>String是不可变类</p><p>StringBuffer是可变类</p><p>StringBuilder不是线程安全的</p><p>在执行效率方面，StringBuilder最高，StringBuffer次之，String最低</p><p>如果要操作的数据量比较小，应优先用String类</p><p>如果是在单线程下操作大量数据，应优先用StringBuilder类</p><p>如果在多线程下操作大量数据，应优先考虑StringBuffer类。</p><hr><h1 id="Map、Set、List、Queue、Stack的特点与用法"><a href="#Map、Set、List、Queue、Stack的特点与用法" class="headerlink" title="Map、Set、List、Queue、Stack的特点与用法"></a>Map、Set、List、Queue、Stack的特点与用法</h1><ul><li>Map</li></ul><p>键映射到值的对象。  一个映射不能包含重复的键，每个键最多只能映射到一个值。</p><p>某些映射实现可明确保证其顺序，如TreeMap类；另一些映射实现不保证顺序，如HashMap类。</p><p>Map中元素，可以将key序列，value序列单独抽取出来。</p><p>使用keySet()抽取key序列，将map中所有keys生成一个Set。</p><p>使用 values() 抽取value序列，将map中的所有values生成一个Collection。</p><p>为什么一个是Set，一个是Collection。因为key是独一无二的，value允许重复。</p><ul><li>Set</li></ul><p>一个不包含重复元素的Collection。</p><p>不可随机访问包含的元素</p><p>只能用lterator实现单向遍历</p><p>Set没有同步方法</p><ul><li>List</li></ul><p>可随机访问包含的元素</p><p>元素是有序的</p><p>可在任意位置增删元素</p><p>不管访问多少次，元素位置不变</p><p>允许重复元素</p><p>用Iterator实现单向遍历，也可用ListIterator实现双向遍历</p><ul><li>Queue</li></ul><p>先进先出</p><p>用offer()来加入元素</p><p>用poll()来获取并移出元素</p><p>peek()方法查看或使用前端元素</p><p>Queue实现通常不允许插入null元素</p><ul><li>Stack</li></ul><p>后进先出</p><p>Stack继承自Vector，是同步的</p><p>提供了push、pop、peek、empty方法</p><ul><li>用法</li></ul><p>如果涉及到堆栈，队列等操作，应该考虑用List</p><p>对于需要快速插入，删除元素，应该用LinkedList</p><p>如果需要快速随机访问元素，应该用ArrayList</p><p>如果单线程环境，考虑非同步的类，效率较高。</p><hr><h1 id="HashMap和HashTable的区别"><a href="#HashMap和HashTable的区别" class="headerlink" title="HashMap和HashTable的区别"></a>HashMap和HashTable的区别</h1><p>主要区别：线程安全，同步，速度</p><ol><li>HashMap几乎等价于HashTable，除了HashMap是非同步的，并可以接受null<h1 id="HashMap和ConcurrentHashMap的区别，HashMap的底层源码"><a href="#HashMap和ConcurrentHashMap的区别，HashMap的底层源码" class="headerlink" title="HashMap和ConcurrentHashMap的区别，HashMap的底层源码"></a>HashMap和ConcurrentHashMap的区别，HashMap的底层源码</h1></li></ol><p>HashMap的本质是数组加链表。根据key取得hash值，然后计算出数组下标，如果多个key对应到同一个下标，就用链表串起来，新插入的在前面。</p><p>ConcurrentHashMap在HashMap的基础上，将数据分为多个segment，默认16个，然后每次操作对一个segment加锁，避免多线程锁的几率，提高并发效率。</p><p>HashMap就是一个Entry数组，Entry数组中包含了键和值，其中next也是一个Entry对象，当hash冲突时，形成一个链表。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>{</span><br><span class="line">         <span class="keyword">final</span> K key;</span><br><span class="line">         V value;</span><br><span class="line">         Entry&lt;K,V&gt; next;</span><br><span class="line">         <span class="keyword">final</span> <span class="keyword">int</span> hash;</span><br><span class="line">  </span><br><span class="line">         <span class="comment">/**</span></span><br><span class="line"><span class="comment">           * Creates new entry.</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">         Entry(<span class="keyword">int</span> h, K k, V v, Entry&lt;K,V&gt; n) {</span><br><span class="line">             value = v;</span><br><span class="line">             next = n; <span class="comment">//hash值冲突后存放在链表的下一个</span></span><br><span class="line">             key = k;</span><br><span class="line">             hash = h;</span><br><span class="line">         } </span><br><span class="line">         .........</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure><p>HashMap存储数据的put方法</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>{</span><br><span class="line">         <span class="keyword">if</span> (key == <span class="keyword">null</span>) <span class="comment">//如果键为null的话，调用putForNullKey(value)</span></span><br><span class="line">             <span class="keyword">return</span> putForNullKey(value);</span><br><span class="line">         <span class="keyword">int</span> hash = hash(key.hashCode());<span class="comment">//根据键的hashCode计算hash码</span></span><br><span class="line">         <span class="keyword">int</span> i = indexFor(hash, table.length);</span><br><span class="line">         <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span class="keyword">null</span>; e = e.next) { </span><br><span class="line">           <span class="comment">//处理冲突的，如果hash值相同，则在该位置用链表存储</span></span><br><span class="line">             Object k;</span><br><span class="line">             <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) { </span><br><span class="line">               <span class="comment">//如果key相同则覆盖并返回旧值</span></span><br><span class="line">                 V oldValue = e.value;</span><br><span class="line">                e.value = value;</span><br><span class="line">                e.recordAccess(<span class="keyword">this</span>);</span><br><span class="line">                <span class="keyword">return</span> oldValue;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        modCount++;</span><br><span class="line">        addEntry(hash, key, value, i);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p>当我们往HashMap中put元素时，先根据key的hash值得到这个元素在数组中的位置（即下标），然后就可以把这个元素放到对应的位置中了，如果这个元素的位置上已经存在其他元素了，那么在同一个位子上的元素将会以链表的形式存放，新加入的放链表头，之前加入的放后面。</p><p>从HashMap中get元素时，首先计算key的hash值，找到数组中对应位置的某一元素，然后通过key的equals方法在对应位置的链表中找到需要的元素。</p><p>如果没有与key相同的键，则调用addEntry方法创建一个Entry对象：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span> </span>{</span><br><span class="line">        Entry&lt;K,V&gt; e = table[bucketIndex]; </span><br><span class="line">  <span class="comment">//如果要加入的位置有值，将该位置原先的值设置为新entry的next,也就是新entry链表的下一个节点</span></span><br><span class="line">        table[bucketIndex] = <span class="keyword">new</span> Entry&lt;&gt;(hash, key, value, e);</span><br><span class="line">        <span class="keyword">if</span> (size++ &gt;= threshold) <span class="comment">//如果大于临界值就扩容</span></span><br><span class="line">            resize(<span class="number">2</span> * table.length); <span class="comment">//以2的倍数扩容</span></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p>扩容数据</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> newCapacity)</span> </span>{</span><br><span class="line">        Entry[] oldTable = table;</span><br><span class="line">        <span class="keyword">int</span> oldCapacity = oldTable.length;</span><br><span class="line">        <span class="keyword">if</span> (oldCapacity == MAXIMUM_CAPACITY) {</span><br><span class="line">            threshold = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        Entry[] newTable = <span class="keyword">new</span> Entry[newCapacity];</span><br><span class="line">        transfer(newTable);<span class="comment">//用来将原先table的元素全部移到newTable里面</span></span><br><span class="line">        table = newTable;  <span class="comment">//再将newTable赋值给table</span></span><br><span class="line">        threshold = (<span class="keyword">int</span>)(newCapacity * loadFactor);<span class="comment">//重新计算临界值</span></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="TreeMap、HashMap、LindedHashMap的区别。"><a href="#TreeMap、HashMap、LindedHashMap的区别。" class="headerlink" title="TreeMap、HashMap、LindedHashMap的区别。"></a>TreeMap、HashMap、LindedHashMap的区别。</h1><h1 id="Collection包结构，与Collections的区别。"><a href="#Collection包结构，与Collections的区别。" class="headerlink" title="Collection包结构，与Collections的区别。"></a>Collection包结构，与Collections的区别。</h1><h1 id="try-catch-finally，try里有return，finally还执行么？"><a href="#try-catch-finally，try里有return，finally还执行么？" class="headerlink" title="try catch finally，try里有return，finally还执行么？"></a>try catch finally，try里有return，finally还执行么？</h1><ol><li>try中没有异常且try中有return</li></ol><p>try—finally—return</p><ol start="2"><li>try中有异常，try中有return</li></ol><p>try—catch—finally—return</p><p>总之finally永远执行</p><hr><ol><li>Excption与Error包结构。OOM你遇到过哪些情况，SOF你遇到过哪些情况。</li><li>Java面向对象的三个特征与含义。</li></ol><h1 id="Override和Overload的含义与区别"><a href="#Override和Overload的含义与区别" class="headerlink" title="Override和Overload的含义与区别"></a>Override和Overload的含义与区别</h1><ul><li>重写（Override）</li></ul><p>重写是子类对父类的允许访问的方法的实现过程进行重新编写。</p><p>返回值和形参都不能改变。即外壳不变，重写内在实现。</p><p>重写的好处在于子类可以根据需要，定义特定于自己的行为。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LiftOff</span> </span>{</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args [])</span></span>{</span><br><span class="line">           Animal a= <span class="keyword">new</span> Animal();</span><br><span class="line">           Animal b = <span class="keyword">new</span> pig();</span><br><span class="line">           a.eat();</span><br><span class="line">           b.eat();</span><br><span class="line">       }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>{</span><br><span class="line">            System.out.println(<span class="string">"Animal eat xx "</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">pig</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>{</span><br><span class="line">            System.out.println(<span class="string">"pig eat siliao"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Animal eat xx </span><br><span class="line">pig eat siliao</span><br></pre></td></tr></tbody></table></figure><p>重写规则：</p><p>参数列表必须完全与被重写方法相同（也就是说重写，不能添加写方法，不能添加参数。）</p><p>返回类型必须完全与被重写方法的返回类型相同</p><p>父类的成员方法只能被他的子类重写</p><p>声明为final的方法不能被重写</p><p>声明为static的方法不能被重写，但是能再次声明。</p><p>构造方法不能被重写</p><ul><li>重载（Overload）</li></ul><p>重载是在同一个类里，方法名字相同，参数不同，返回类型可相同也可不同的多个方法。</p><p>每个重载的方法都必须有一个独一无二的参数类型列表。</p><p>被重载的方法必须改变参数列表，被重载的方法可以改变返回类型，被重载的方法可以改变访问修饰符，方法能在同一个类中或在一个子类中被重载。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LiftOff</span> </span>{</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">          System.out.println(<span class="string">"Overload1"</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> a)</span></span>{</span><br><span class="line">      System.out.println(<span class="string">"Overload1"</span>+ a);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">(String a1 , String a2)</span></span>{</span><br><span class="line">      System.out.println(<span class="string">"Overload1"</span>+ a1+a2);</span><br><span class="line">      <span class="keyword">return</span> a1;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args [])</span></span>{</span><br><span class="line">       LiftOff t=<span class="keyword">new</span> LiftOff();</span><br><span class="line">       System.out.println(t.test());</span><br><span class="line">       t.test(<span class="number">2</span>);</span><br><span class="line">       System.out.println(t.test(<span class="string">"asd"</span>,<span class="string">"erf"</span>));</span><br><span class="line">     }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Overload1</span><br><span class="line"><span class="number">1</span></span><br><span class="line">Overload12</span><br><span class="line">Overload1asderf</span><br><span class="line">asd</span><br></pre></td></tr></tbody></table></figure><p>重载和重写区别：</p><table><thead><tr><th align="center"></th><th align="center">重载方法（Overload）</th><th align="center">重写方法（Override）</th></tr></thead><tbody><tr><td align="center">参数列表</td><td align="center">必须修改</td><td align="center">不能改</td></tr><tr><td align="center">返回类型</td><td align="center">可以修改</td><td align="center">不能改</td></tr><tr><td align="center">异常</td><td align="center">可以修改</td><td align="center">可以减少或删除，不能抛出新的</td></tr><tr><td align="center">访问修饰符</td><td align="center">可以修改</td><td align="center">只能降低限制，不能变高限制</td></tr></tbody></table><p>限制又低到高： public、protected、private</p><hr><h1 id="Interface与abstract类的区别"><a href="#Interface与abstract类的区别" class="headerlink" title="Interface与abstract类的区别"></a>Interface与abstract类的区别</h1><p>如果一个类中包含抽象方法，那么这个类就是抽象类。类或方法声明为abstract</p><p>接口就是指一个方法的集合，接口中所有方法都没有方法体，接口通过关键字interface实现。</p><p>接口和抽象类的相同点：</p><ol><li>都不能被实例化</li><li>接口的实现类或抽象类的子类都只有实现了接口或抽象类中的方法后才才能被实例化。</li></ol><p>不同点：</p><ol><li>接口只有定义，其方法不能在接口中实现，只有实现接口的类才能实现接口中定义的方法；而抽象类可以有定义和实现，即其方法可以在抽象类中被实现。</li><li>接口需要实现（用implement），但抽象类只能被继承（用extends），一个类可以实现多个接口，但是一个类只可以继承一个抽象类，因此使用接口可以间接达到多重继承的目的。</li><li>接口强调特定功能的实现，”has - a” ；抽象类强调所属关系，”is - a “</li><li>接口中定义的成员变量默认为 public static final ， 只能够有静态的不能被修改的数据成员，而且，必须给其赋值，其所以的成员方法都是public，abstract的，而且只能被这两个关键字修饰。而抽象类可以有自己的数据成员变量，也可以有非抽象的成员方法，而且，抽象类中的成员变量默认为default，当然也可以定义为private，protected，public。所以，当功能需要累积时，用抽象类，不需要累积时，用接口。</li><li>接口被运用于实现比较常用的功能，便于以后的维护；抽象类更倾向于充当公共类的角色，不适用于日后重新修改内部代码。</li></ol><hr><h1 id="Static-class-与non-static-class的区别"><a href="#Static-class-与non-static-class的区别" class="headerlink" title="Static class 与non static class的区别"></a>Static class 与non static class的区别</h1><h1 id="java多态的实现原理"><a href="#java多态的实现原理" class="headerlink" title="java多态的实现原理"></a>java多态的实现原理</h1><h1 id="实现多线程的两种方法：Thread与Runable"><a href="#实现多线程的两种方法：Thread与Runable" class="headerlink" title="实现多线程的两种方法：Thread与Runable"></a>实现多线程的两种方法：Thread与Runable</h1><h1 id="线程同步的方法：sychronized、lock、reentrantLock等"><a href="#线程同步的方法：sychronized、lock、reentrantLock等" class="headerlink" title="线程同步的方法：sychronized、lock、reentrantLock等"></a>线程同步的方法：sychronized、lock、reentrantLock等</h1><hr><h1 id="锁的等级：方法锁、对象锁、类锁"><a href="#锁的等级：方法锁、对象锁、类锁" class="headerlink" title="锁的等级：方法锁、对象锁、类锁"></a>锁的等级：方法锁、对象锁、类锁</h1><ul><li><code>Java中锁的机制</code>：</li></ul><p>synchronized  在修饰代码块的时候需要一个reference对象作为锁的对象。</p><p>在修饰方法的时候默认是当前对象作为锁的对象。</p><p>在修饰类的时候默认是当前的Class对象作为锁的对象。</p><p>线程同步的方法： sychronized、lock、reentrantLock分析</p><ul><li>方法锁（synchronized修饰方法时）</li></ul><p>通过在方法声明中加入synchronized关键字来声明synchronized方法。</p><ul><li>对象锁（synchronized修饰方法或代码块）</li></ul><p>当一个对象中有synchronized method 或 synchronized block 的时候调用此对象的同步方法或进入其同步区域时，就必须先获得对象锁，如何此对象的对象锁已被其他调用者占用，则需要等待此锁被释放。（方法锁也是对象锁）</p><hr><h1 id="写出生产者消费者模式。"><a href="#写出生产者消费者模式。" class="headerlink" title="写出生产者消费者模式。"></a>写出生产者消费者模式。</h1><h1 id="ThreadLocal的设计理念与作用。"><a href="#ThreadLocal的设计理念与作用。" class="headerlink" title="ThreadLocal的设计理念与作用。"></a>ThreadLocal的设计理念与作用。</h1><h1 id="ThreadPool用法与优势。"><a href="#ThreadPool用法与优势。" class="headerlink" title="ThreadPool用法与优势。"></a>ThreadPool用法与优势。</h1><h1 id="Concurrent包里的其他东西：ArrayBlockingQueue、CountDownLatch等等。"><a href="#Concurrent包里的其他东西：ArrayBlockingQueue、CountDownLatch等等。" class="headerlink" title="Concurrent包里的其他东西：ArrayBlockingQueue、CountDownLatch等等。"></a>Concurrent包里的其他东西：ArrayBlockingQueue、CountDownLatch等等。</h1><h1 id="wait-和sleep-的区别"><a href="#wait-和sleep-的区别" class="headerlink" title="wait()和sleep()的区别"></a>wait()和sleep()的区别</h1><p>他们都是一种使线程暂停执行的方法</p><p>区别：</p><ol><li>原理不同。sleep()是Thread类的静态方法；wait()方法是Object类的方法。</li><li>对锁的处理机制不同。sleep不放，wait释放。</li><li>使用区域不同</li><li>sleep()必须捕获异常，wait()不需要</li></ol><hr><h1 id="foreach与正常for循环效率对比"><a href="#foreach与正常for循环效率对比" class="headerlink" title="foreach与正常for循环效率对比"></a>foreach与正常for循环效率对比</h1><h1 id="Java-IO与NIO。"><a href="#Java-IO与NIO。" class="headerlink" title="Java IO与NIO。"></a>Java IO与NIO。</h1><h1 id="反射的作用与原理"><a href="#反射的作用与原理" class="headerlink" title="反射的作用与原理"></a>反射的作用与原理</h1><p>反射机制能够实现在运行时对类进行装在，因此能增加程序的灵活性。</p><p>功能：</p><ol><li>得到一个对象所属的类；</li><li>获取一个类所有的成员变量和方法；</li><li>在运行时创建对象</li><li>在运行时调用对象的方法</li></ol><hr><h1 id="Java创建对象的方式有几种"><a href="#Java创建对象的方式有几种" class="headerlink" title="Java创建对象的方式有几种"></a>Java创建对象的方式有几种</h1><ol><li>通过new实例化一个对象</li><li>通过反射机制创建对象</li><li>clone()</li><li>反序列化的方式</li></ol><hr><h1 id="泛型常用特点，List能否转为List。"><a href="#泛型常用特点，List能否转为List。" class="headerlink" title="泛型常用特点，List能否转为List。"></a>泛型常用特点，List<string>能否转为List<object>。<h1 id="解析XML的几种方式的原理与特点：DOM、SAX、PULL。"><a href="#解析XML的几种方式的原理与特点：DOM、SAX、PULL。" class="headerlink" title="解析XML的几种方式的原理与特点：DOM、SAX、PULL。"></a>解析XML的几种方式的原理与特点：DOM、SAX、PULL。</h1><h1 id="Java与C-对比。"><a href="#Java与C-对比。" class="headerlink" title="Java与C++对比。"></a>Java与C++对比。</h1><h1 id="Java8新特性"><a href="#Java8新特性" class="headerlink" title="Java8新特性"></a>Java8新特性</h1><ul><li><strong>Lambda 表达式</strong> − Lambda允许把函数作为一个方法的参数（函数作为参数传递进方法中。</li><li><strong>方法引用</strong> − 方法引用提供了非常有用的语法，可以直接引用已有Java类或对象（实例）的方法或构造器。与lambda联合使用，方法引用可以使语言的构造更紧凑简洁，减少冗余代码。</li><li><strong>默认方法</strong> − 默认方法就是一个在接口里面有了一个实现的方法。</li><li><strong>新工具</strong> − 新的编译工具，如：Nashorn引擎 jjs、 类依赖分析器jdeps。</li><li><strong>Stream API</strong> −新添加的Stream API（java.util.stream） 把真正的函数式编程风格引入到Java中。</li><li><strong>Date Time API</strong> − 加强对日期与时间的处理。</li><li><strong>Optional 类</strong> − Optional 类已经成为 Java 8 类库的一部分，用来解决空指针异常。</li><li><strong>Nashorn, JavaScript 引擎</strong> − Java 8提供了一个新的Nashorn javascript引擎，它允许我们在JVM上运行特定的javascript应用。</li></ul><hr><h1 id="设计模式：单例、工厂、适配器、责任链、观察者等等"><a href="#设计模式：单例、工厂、适配器、责任链、观察者等等" class="headerlink" title="设计模式：单例、工厂、适配器、责任链、观察者等等"></a>设计模式：单例、工厂、适配器、责任链、观察者等等</h1><h1 id="JNI的使用"><a href="#JNI的使用" class="headerlink" title="JNI的使用"></a>JNI的使用</h1><p>Java里有很多很杂的东西，有时候需要你阅读源码，大多数可能书里面讲的不是太清楚，需要你在网上寻找答案。</p><p>推荐书籍：《java核心技术卷I》《Thinking in java》《java并发编程》《effictive java》《大话设计模式》</p><h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><ol><li><p>内存模型以及分区，需要详细到每个区放什么。</p></li><li><p>堆里面的分区：Eden，survival from to，老年代，各自的特点。</p></li><li><p>对象创建方法，对象的内存分配，对象的访问定位。</p></li><li><p>GC的两种判定方法：引用计数与引用链。</p></li><li><p>GC的三种收集方法：标记清除、标记整理、复制算法的原理与特点，分别用在什么地方，如果让你优化收集方法，有什么思路？</p></li><li><p>GC收集器有哪些？CMS收集器与G1收集器的特点。</p></li><li><p>Minor GC与Full GC分别在什么时候发生？</p></li><li><p>几种常用的内存调试工具：jmap、jstack、jconsole。</p></li><li><p>类加载的五个过程：加载、验证、准备、解析、初始化。</p></li><li><p>双亲委派模型：Bootstrap ClassLoader、Extension ClassLoader、ApplicationClassLoader。</p></li><li><p>分派：静态分派与动态分派。</p></li></ol><p>JVM过去过来就问了这么些问题，没怎么变，内存模型和GC算法这块问得比较多，可以在网上多找几篇博客来看看。</p><p>推荐书籍：《深入理解java虚拟机》</p><h1 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h1><ol><li><p>OSI与TCP/IP各层的结构与功能，都有哪些协议。</p></li><li><p>TCP与UDP的区别。</p></li><li><p>TCP报文结构。</p></li><li><p>TCP的三次握手与四次挥手过程，各个状态名称与含义，TIMEWAIT的作用。</p></li><li><p>TCP拥塞控制。</p></li><li><p>TCP滑动窗口与回退N针协议。</p></li><li><p>Http的报文结构。</p></li><li><p>Http的状态码含义。</p></li><li><p>Http request的几种类型。</p></li><li><p>Http1.1和Http1.0的区别</p></li><li><p>Http怎么处理长连接。</p></li><li><p>Cookie与Session的作用于原理。</p></li><li><p>电脑上访问一个网页，整个过程是怎么样的：DNS、HTTP、TCP、OSPF、IP、ARP。</p></li><li><p>Ping的整个过程。ICMP报文是什么。</p></li><li><p>C/S模式下使用socket通信，几个关键函数。</p></li><li><p>IP地址分类。</p></li><li><p>路由器与交换机区别。</p></li></ol><p>网络其实大体分为两块，一个TCP协议，一个HTTP协议，只要把这两块以及相关协议搞清楚，一般问题不大。</p><p>推荐书籍：《<a href="http://www.amazon.cn/gp/product/B004JZY9BI/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=importnew-23&amp;linkCode=as2&amp;camp=536&amp;creative=3200&amp;creativeASIN=B004JZY9BI" target="_blank" rel="noopener">TCP/IP协议族</a>》</p><h1 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h1><p>关于项目，这部分每个人的所做的项目不同，所以不能具体的讲。项目不再与好与不好，在于你会不会包装，有时候一个很low的项目也能包装成比较高大上的项目，多用一些专业名词，突出关键字，能使面试官能比较容易抓住重点。在聊项目的过程中，其实你的整个介绍应该是有一个大体的逻辑，这个时候是在考验你的表达与叙述能力，所以好好准备很重要。</p><p>面试官喜欢问的问题无非就几个点：</p><ol><li><p>XXX（某个比较重要的点）是怎么实现的？</p></li><li><p>你在项目中遇到的最大的困难是什么，怎么解决的？</p></li><li><p>项目某个部分考虑的不够全面，如果XXXX，你怎么优化？</p></li><li><p>XXX（一个新功能）需要实现，你有什么思路？</p></li></ol><p>其实你应该能够预料到面试官要问的地方，请提前准备好，如果被问到没有准备到的地方，也不要紧张，一定要说出自己的想法，对不对都不是关键，主要是有自己的想法，另外，你应该对你的项目整体框架和你做的部分足够熟悉。</p><h1 id="SpringBoot的主要特性"><a href="#SpringBoot的主要特性" class="headerlink" title="SpringBoot的主要特性"></a>SpringBoot的主要特性</h1><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>你应该问的问题</p><p>面试里，最后面完之后一般面试官都会问你，你有没有什么要问他的。其实这个问题是有考究的，问好了其实是有加分的，一般不要问薪资，主要应该是：关于公司的、技术和自身成长的。</p><p>以下是我常问的几个问题，如果需要可以参考：</p><ol><li><p>贵公司一向以XXX著称，能不能说明一下公司这方面的特点？</p></li><li><p>贵公司XXX业务发展很好，这是公司发展的重点么？</p></li><li><p>对技术和业务怎么看？</p></li><li><p>贵公司一般的团队是多大，几个人负责一个产品或者业务？</p></li><li><p>贵公司的开发中是否会使用到一些最新技术？</p></li><li><p>对新人有没有什么培训，会不会安排导师？</p></li><li><p>对Full Stack怎么看？</p></li><li><p>你觉得我有哪些需要提高的地方？</p></li></ol><h1 id="知识面"><a href="#知识面" class="headerlink" title="知识面"></a>知识面</h1><p>除了基础外，你还应该对其他领域的知识有多少有所涉猎。对于你所熟悉的领域，你需要多了解一点新技术与科技前沿，你才能和面试官谈笑风生。</p><h1 id="软实力"><a href="#软实力" class="headerlink" title="软实力"></a>软实力</h1><p>什么是软实力，就是你的人际交往、灵活应变能力，在面试过程中，良好的礼节、流畅的表达、积极的交流其实都是非常重要的。很多公司可能不光看你的技术水平怎么样，而更看重的是你这个人怎么样的。所以在面试过程中，请保持诚信、积极、乐观、幽默，这样更容易得到公司青睐。</p><p>很多时候我们都会遇到一个情况，就是面试官的问题我不会，这时候大多数情况下不要马上说我不会，要懂得牵引，例如面试官问我C++的多态原理，我不懂，但我知道java的，哪我可以向面试官解释说我知道java的，类似的这种可以往相关的地方迁移（但是需要注意的是一定不要不懂装懂，被拆穿了是很尴尬的），意思就是你要尽可能的展示自己，表现出你的主动性，向面试官推销自己。</p><p>还有就是遇到智力题的时候，不要什么都不说，面试官其实不是在看你的答案，而是在看你的逻辑思维，你只要说出你自己的见解，有一定的思考过程就行。</p><p><img src="" alt=""></p></object></string></h1><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《程序员代码面试指南（递归和动态规划）》</title>
      <link href="/2017/08/10/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-di-gui-he-dong-tai-gui-hua/"/>
      <url>/2017/08/10/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-di-gui-he-dong-tai-gui-hua/</url>
      
        <content type="html"><![CDATA[<p>递归：将问题分解成子问题求解，从较小的问题逐渐逼近原始问题，很多时候只需要在f（n-1）中加入或移除某些东西或稍作修改就可以求得f（n）</p><p>递归 是  考虑所有的情况，一般使用搜索（DFS /BFS）来实现。</p><p>一般可以使用记忆化搜索进行优化的递归算法，我们可以使用DP来进行优化。</p><p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3506665052,220356979&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="斐波那契系列问题"><a href="#斐波那契系列问题" class="headerlink" title="斐波那契系列问题"></a>斐波那契系列问题</h1><h2 id="经典斐波那契问题"><a href="#经典斐波那契问题" class="headerlink" title="经典斐波那契问题"></a>经典斐波那契问题</h2><p>代码就不写了，这个基本都会，需要注意的是：</p><p>递归方法的时间复杂度是：$O(2^N)$</p><p>顺序计算的时间复杂度是：$O(N)$</p><p>二阶递推数列的时间复杂度是：$O(logN)$</p><h2 id="大牛小牛问题"><a href="#大牛小牛问题" class="headerlink" title="大牛小牛问题"></a>大牛小牛问题</h2><p>假设农场中成熟的母牛每年只会生1头小母牛，并且永远不会死。</p><p>第一年农场有1只成熟的母牛，从第二年开始，母牛开始生小母牛。</p><p>每只小母牛3年之后成熟又可以生小母牛。</p><p>给定整数N，求出N年后牛的数量。</p><p>【举例】N=6，第1年1头成熟母牛记为a；</p><p>第2年a生了新的小母牛，记为b，总牛数为2；</p><p>题目最优解第3年a生了新的小母牛，记为c，总牛数为3；</p><p>第4年a生了新的小母牛，记为d，总牛数为4。</p><p>第5年b成熟了，a和b分别生了新的小母牛，总牛数为6；</p><p>第6年c也成熟了，a、b和c分别生了新的小母牛，总牛数为9，返回9。</p><p>【要求】对以上所有的问题，请实现时间复杂度O(logN)的解法。</p><p>有  $F(N)=F(N-1)+F(N-3)$</p><p>用一个矩阵乘法，且状态矩阵为$3*3$</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">c3</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">  <span class="keyword">if</span>(n&lt;<span class="number">1</span>){</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span>(n==<span class="number">1</span>||n==<span class="number">2</span>||n=<span class="number">3</span>){</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">int</span> base[][]={{<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>},{<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>},{<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>}};  <span class="comment">//构造矩阵</span></span><br><span class="line">  <span class="keyword">int</span> [][] res = matrixPower(base,n-<span class="number">3</span>);  <span class="comment">//矩阵n-3次方</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">3</span>*res[<span class="number">0</span>][<span class="number">0</span>]+<span class="number">2</span>*res[<span class="number">1</span>][<span class="number">0</span>]+res[<span class="number">2</span>][<span class="number">0</span>];  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="矩阵的最小路径和"><a href="#矩阵的最小路径和" class="headerlink" title="矩阵的最小路径和"></a>矩阵的最小路径和</h1><p>题目描述</p><p>有一个矩阵map，它每个格子有一个权值。从左上角的格子开始每次只能向右或者向下走，最后到达右下角的位置，路径上所有的数字累加起来就是路径和，返回所有的路径中最小的路径和。</p><p>给定一个矩阵map及它的行数n和列数m，请返回最小路径和。</p><p>EG：</p><p>1 、3 、5 、9</p><p>8 、1 、3、4</p><p>5、0、6、1</p><p>8、8、4、0</p><h2 id="经典动态规划方法"><a href="#经典动态规划方法" class="headerlink" title="经典动态规划方法"></a>经典动态规划方法</h2><p>最终生成的dp矩阵如下：</p><p>1、4、9、18</p><p>9、5、8、12</p><p>14、5、11、12</p><p>22、13、15、12</p><p>因为第一行和第一列只有一条路走，就是一直沿着走；</p><p>第二行，第二列开始就是选择从上往下还是从左往右走；</p><p>每次都把每一步的最小路径加起来</p><p>时间复杂度$O(M<em>N)$ ，空间复杂度$O(M</em>N)$</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleDynamic</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [][] m= {{<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>},</span><br><span class="line">                    {<span class="number">8</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>},</span><br><span class="line">                    {<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">1</span>},</span><br><span class="line">                    {<span class="number">8</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">0</span>}};</span><br><span class="line">        System.out.println(minPathSum1(m));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minPathSum1</span><span class="params">(<span class="keyword">int</span> [] []m)</span></span>{</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="keyword">null</span> || m.length == <span class="number">0</span> || m[<span class="number">0</span>]==<span class="keyword">null</span> || m[<span class="number">0</span>].length==<span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> row=m.length;</span><br><span class="line">        <span class="keyword">int</span> col=m[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> [][] dp=<span class="keyword">new</span> <span class="keyword">int</span> [row][col];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]=m[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;row;i++){</span><br><span class="line">            dp[i][<span class="number">0</span>]=dp[i-<span class="number">1</span>][<span class="number">0</span>]+m[i][<span class="number">0</span>];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;col;j++){</span><br><span class="line">            dp[<span class="number">0</span>][j]=dp[<span class="number">0</span>][j-<span class="number">1</span>]+m[<span class="number">0</span>][j];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;row;i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;col;j++){</span><br><span class="line">                dp[i][j]=Math.min(dp[i][j-<span class="number">1</span>]+m[i][j],dp[i-<span class="number">1</span>][j]+m[i][j]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[row-<span class="number">1</span>][col-<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="压缩空间方法"><a href="#压缩空间方法" class="headerlink" title="压缩空间方法"></a>压缩空间方法</h2><p>时间复杂度$O(M*N)$ ，空间复杂度$O(min (  M,N ))$</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleDynamic</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [][] m= {{<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>},</span><br><span class="line">                    {<span class="number">8</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>},</span><br><span class="line">                    {<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">1</span>},</span><br><span class="line">                    {<span class="number">8</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">0</span>}};</span><br><span class="line">        System.out.println(minPathSum1(m));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minPathSum1</span><span class="params">(<span class="keyword">int</span> [] []m)</span></span>{</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="keyword">null</span> || m.length == <span class="number">0</span> || m[<span class="number">0</span>]==<span class="keyword">null</span> || m[<span class="number">0</span>].length==<span class="number">0</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> more = Math.max(m.length,m[<span class="number">0</span>].length);</span><br><span class="line">        <span class="keyword">int</span> less= Math.min(m.length,m[<span class="number">0</span>].length);</span><br><span class="line">        <span class="keyword">boolean</span> rowmore=more==m.length;</span><br><span class="line">        <span class="keyword">int</span> arr[] = <span class="keyword">new</span> <span class="keyword">int</span> [less];</span><br><span class="line">        arr[<span class="number">0</span>]=m[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;less;i++){</span><br><span class="line">            arr[i]=arr[i-<span class="number">1</span>]+(rowmore?m[<span class="number">0</span>][i]:m[i][<span class="number">0</span>]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;more;i++){</span><br><span class="line">            arr[<span class="number">0</span>]=arr[<span class="number">0</span>]+(rowmore?m[i][<span class="number">0</span>]:m[<span class="number">0</span>][i]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;less;j++){</span><br><span class="line">                arr[j]=Math.min(arr[j],arr[j-<span class="number">1</span>])+(rowmore?m[i][j]:m[j][i]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">      <span class="keyword">return</span> arr[less-<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="换钱的最少货币数"><a href="#换钱的最少货币数" class="headerlink" title="换钱的最少货币数"></a>换钱的最少货币数</h1><p><strong>题目：</strong></p><p>　　给定数组arr, arr中所有的值都为正数且不重复。每个值代表一中面值的货币，每种面值的货币可以使用任意张，再给定一个整数aim代表要找的钱数，求组成aim的最少货币数。</p><p>思路:</p><p>　　如果arr的长度为N, 则生成一个行数为N, 列数为aim+1的动态规划表dp[N][aim+1], dp[i][j]的含义为:在可以任意使用arr[0…i]货币的情况下，组成j所需的最小张数。</p><p>　　设: arr=[5,2,3,1] aim = 5</p><p>　　1.dp[0..N-1][0]的值表示找钱数为0时需要的最少张数，所以全设为0。（矩阵的第一列）</p><p>　　　　　0 0 0 0 0 0</p><p>　　dp=　0 0 0 0 0 0</p><p>　　　　　0 0 0 0 0 0</p><p>　　　　　0 0 0 0 0 0　</p><p>​     2.dp[0][0…aim]的值表示只能使用arr[0]货币也就是5的情况下，找0 ,1,2,3,4,5的钱的情况下。其中无法找开的一律设为32位的最大值，记为max.</p><p>　　　　　 0  　max  max  max  max   1  </p><p>　　dp=　  0  　 </p><p>　　　　　 0</p><p>　　　　　 0</p><p>　　3.剩下的位置依次从左到右，再从上到下计算。假设计算到(i,j)位置，dp[i][j]的值可能来自下面的情况:</p><p>　　　　完全不使用当前货币arr[i]情况系的最少张数，即dp[i-1][j]的值</p><p>　　　　只使用一张当前货币arr[i]的情况下的最少张数，即dp[i-1][j-arr[i]]+1  其中 j-arr[i]的值为使用了一张arr[i]后，还需要找多少钱。 i-1是指使用arr[i]之前的钱来兑换</p><p>　　　　只使用两张当前货币arr[i]的情况下的最少张数，即dp[i-1][j-2*arr[i]]+2</p><p>　　　　只使用三张当前货币arr[i]的情况下的最少张数，即dp[i-1][j-3*arr[i]]+3</p><p>　　　　所有情况中，取最小的纸张数。所以:</p><p>　　　　dp[i][j] = min{dp[i-1][j],  dp[i-1][j-k*arr[i]]} + k   ==&gt;</p><p>　　　　dp[i][j] = min{dp[i-1][j], min{dp[i-1][j-x*arr[i]]+x (x &gt;= 1)}}   ==&gt;</p><p>　　　　 设x-1 = y  &gt;= 0   ==&gt; x = y +1代入得</p><p>　　　　dp[i][j] = min{dp[i-1][j], min{dp[i-1][j-arr[i]-y*arr[i]+y+1 (y&gt;=0)}}</p><p>　　　　又因为min{dp[i-1][j-arr[i]-y*arr[i]+ y (y&gt;=0)] =&gt;</p><p>　　　　dp[i][j-arr[i]] 因为其中 dp[i-1][j-y*arr[i]+y] = dp[i][j] </p><p>　　　　最终有:dp[i][j] = min{dp[i-1][j], dp[i][j-arr[i]+1]} 如果 j-arr[i] &lt; 0,即发生越界。</p><p>　　　　说明arr[i]太大了，用一张都会超出钱数j，所以令dp[i][j]=dp[i-1][j]即可。</p><p>　　　　       0  　max       max   max      max     1  </p><p>　　dp   =     0  　 max       1　    max　　2　 　1</p><p>　　　　　　0　　max　　1　　  1　   　2　     1</p><p>　　　　　　0　　1　　　  1　　  1　　  2　  　1</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleDynamic</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] m= {<span class="number">5</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>};</span><br><span class="line">        <span class="keyword">int</span> aim = <span class="number">15</span>;</span><br><span class="line">        System.out.println(minCoins(m,aim));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minCoins</span><span class="params">(<span class="keyword">int</span> [] arr,<span class="keyword">int</span>  aim)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="keyword">null</span> || arr.length==<span class="number">0</span>|| aim&lt;<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> n=arr.length;</span><br><span class="line">        <span class="keyword">int</span> max=Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span> [][] dp=<span class="keyword">new</span> <span class="keyword">int</span> [n][aim+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;aim;j++){</span><br><span class="line">            dp[<span class="number">0</span>][j]=max;</span><br><span class="line">            <span class="keyword">if</span>(j-arr[<span class="number">0</span>]&gt;=<span class="number">0</span> &amp;&amp; dp[<span class="number">0</span>][j-arr[<span class="number">0</span>]]!=max){</span><br><span class="line">                dp[<span class="number">0</span>][j]=dp[<span class="number">0</span>][j-arr[<span class="number">0</span>]]+<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n ;i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;aim;j++){</span><br><span class="line">                left=max;</span><br><span class="line">                <span class="keyword">if</span>(j-arr[i]&gt;=<span class="number">0</span>&amp;&amp;dp[i][j-arr[i]]!=max){</span><br><span class="line">                    left=dp[i][j-arr[i]]+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                dp[i][j]=Math.min(left,dp[i-<span class="number">1</span>][j]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n ;i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;aim;j++){</span><br><span class="line">                System.out.print(dp[i][j]+ <span class="string">"  "</span> );</span><br><span class="line">                <span class="keyword">if</span>(j==aim-<span class="number">1</span>){</span><br><span class="line">                System.out.println(<span class="string">" "</span>);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            }</span><br><span class="line">        <span class="keyword">return</span> dp[n-<span class="number">1</span>][aim] !=max ?dp[n-<span class="number">1</span>][aim-<span class="number">1</span>]:-<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Result:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0  2147483647  2147483647  2147483647  2147483647  1  2147483647  2147483647  2147483647  2147483647  2  2147483647  2147483647  2147483647  2147483647   </span><br><span class="line">0  2147483647  1  2147483647  2  1  3  2  4  3  2  4  3  5  4   </span><br><span class="line">0  2147483647  1  2147483647  2  1  3  2  4  3  2  4  3  5  4   </span><br><span class="line">0  2147483647  1  1  2  1  2  2  2  3  2  3  3  3  4   </span><br><span class="line">4</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="数组中最长的连续数字序列"><a href="#数组中最长的连续数字序列" class="headerlink" title="数组中最长的连续数字序列"></a>数组中最长的连续数字序列</h1><p>给定一个无序的整数序列， 找最长的连续数字序列。</p><p>例如：</p><p>给定[100, 4, 200, 1, 3, 2],</p><p>最长的连续数字序列是[1, 2, 3, 4]。</p><p>输出4.</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span>[] arr = {<span class="number">100</span>,<span class="number">4</span>,<span class="number">200</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>};</span><br><span class="line">       System.out.println(longestConsecutive(arr));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span> [] arr)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(arr.length==<span class="number">0</span>||arr==<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> max=<span class="number">1</span>;</span><br><span class="line">        HashMap&lt;Integer,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;Integer,Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(!map.containsKey(arr[i])){</span><br><span class="line">                map.put(arr[i],<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(map.containsKey(arr[i]-<span class="number">1</span>)){</span><br><span class="line">                    max=Math.max(max,merge(map,arr[i]-<span class="number">1</span>,arr[i]));</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span>(map.containsKey(arr[i]+<span class="number">1</span>)){</span><br><span class="line">                    max=Math.max(max,merge(map,arr[i],arr[i]+<span class="number">1</span>));</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">merge</span><span class="params">(HashMap&lt;Integer,Integer&gt; map,<span class="keyword">int</span> less,<span class="keyword">int</span> more)</span></span>{</span><br><span class="line">        <span class="comment">//计算左边有几个数</span></span><br><span class="line">        <span class="keyword">int</span> left=less-map.get(less)+<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//计算右边有几个数</span></span><br><span class="line">        <span class="keyword">int</span> right=more+map.get(more)-<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//合计</span></span><br><span class="line">        <span class="keyword">int</span> len=right-left+<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//标记</span></span><br><span class="line">        map.put(left,len);</span><br><span class="line">        map.put(right,len);</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    }</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="龙于地下城游戏问题"><a href="#龙于地下城游戏问题" class="headerlink" title="龙于地下城游戏问题"></a>龙于地下城游戏问题</h1><p>给定一个二维数组map，含义是一张地图，例如：</p><figure class="highlight mathematica"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">{{<span class="number">-2</span>,<span class="number">-3</span>,<span class="number">3</span>},</span><br><span class="line"> {<span class="number">-5</span>,<span class="number">-10</span>,<span class="number">1</span>},</span><br><span class="line"> {<span class="number">0</span>,<span class="number">30</span>,<span class="number">-5</span>}}</span><br></pre></td></tr></tbody></table></figure><p>游戏规则如下：</p><p>骑士从左上角出发，每次只能向下或者向右，直到右下才能见到公主；</p><p>每个格子代表骑士遭遇的事件，如果是负数，代表消耗血量，如果是正数，代表血瓶；</p><p>骑士走到任何一个位置，血量都不能低于1。</p><p>为了让骑士见到公主，骑士初始血量最少为多少？</p><p>只能往下或往右，需要一个辅助数组dp[][] 来计算。那么可以逆着来计算。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="keyword">int</span>[][] arr = { {-<span class="number">2</span>,-<span class="number">3</span>,<span class="number">3</span>},</span><br><span class="line">                     {-<span class="number">5</span>,-<span class="number">10</span>,<span class="number">1</span>},</span><br><span class="line">                     {<span class="number">0</span>,<span class="number">30</span>,-<span class="number">5</span>} };</span><br><span class="line">       System.out.println(minHP(arr));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minHP</span><span class="params">(<span class="keyword">int</span> [] [] arr)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(arr.length==<span class="number">0</span>||arr==<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> row=arr.length;</span><br><span class="line">        <span class="keyword">int</span> col=arr[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp=<span class="keyword">new</span> <span class="keyword">int</span> [row--][col--];</span><br><span class="line">        dp[row][col]=arr[row][col]&gt;<span class="number">0</span>?<span class="number">1</span>:<span class="number">1</span>-arr[row][col];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=col-<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--){</span><br><span class="line">            dp[row][j]=Math.max(dp[row][j+<span class="number">1</span>]-arr[row][j],<span class="number">1</span>);  <span class="comment">//计算初步差异值</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> right=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> down=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=row-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--){</span><br><span class="line">            dp[i][col]=Math.max(dp[i+<span class="number">1</span>][col]-arr[i][col],<span class="number">1</span>);  <span class="comment">//计算初步上下差异值</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=col-<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--){</span><br><span class="line">                right=Math.max(dp[i][j+<span class="number">1</span>]-arr[i][j],<span class="number">1</span>);  <span class="comment">//向右走</span></span><br><span class="line">                down=Math.max(dp[i+<span class="number">1</span>][j]-arr[i][j],<span class="number">1</span>);  <span class="comment">//向下走</span></span><br><span class="line">                dp[i][j]=Math.min(right,down);  <span class="comment">//取最小的差异值</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="最长公共子串问题"><a href="#最长公共子串问题" class="headerlink" title="最长公共子串问题"></a>最长公共子串问题</h1><p>所谓最长公共子串，比如</p><p>串 str1=”1AB2345CD”</p><p> 串 str2=”12345EF”;</p><p> 则它们的最长公共子串为串 “2345”,输出4</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        String str1=<span class="string">"1AB2345CD"</span>;</span><br><span class="line">        String str2=<span class="string">"12345EF"</span>;</span><br><span class="line">       System.out.println(getdp(str1,str2));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getdp</span><span class="params">(String str1,String str2)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> dp[][]=<span class="keyword">new</span> <span class="keyword">int</span> [str1.length()][str2.length()];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str1.length();i++){</span><br><span class="line">            <span class="keyword">if</span>(str1.charAt(i)==str2.charAt(<span class="number">0</span>)){</span><br><span class="line">                dp[i][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;str2.length();j++){</span><br><span class="line">            <span class="keyword">if</span>(str1.charAt(<span class="number">0</span>)==str2.charAt(j)){</span><br><span class="line">                dp[<span class="number">0</span>][j]=<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;str1.length();i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;str2.length();j++){</span><br><span class="line">                <span class="keyword">if</span>(str1.charAt(i)==str2.charAt(j)){</span><br><span class="line">                    dp[i][j]=dp[i-<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">                }</span><br><span class="line">                System.out.print(dp[i][j]+<span class="string">" "</span>);</span><br><span class="line">                max=Math.max(max,dp[i][j]);</span><br><span class="line">            }</span><br><span class="line">            System.out.println(<span class="string">""</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    }</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">3</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">4</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></tbody></table></figure><hr><h1 id="跳跃游戏"><a href="#跳跃游戏" class="headerlink" title="跳跃游戏"></a>跳跃游戏</h1><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> RecursiveAndDynamic;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/14.</span></span><br><span class="line"><span class="comment"> * 跳跃游戏</span></span><br><span class="line"><span class="comment"> 给出一个非负整数数组，你最初定位在数组的第一个位置。</span></span><br><span class="line"><span class="comment"> 数组中的每个元素代表你在那个位置可以跳跃的最大长度。　　　</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 你的目标是使用最少的跳跃次数到达数组的最后一个位置。</span></span><br><span class="line"><span class="comment"> 给出数组A = [2,3,1,1,4]，最少到达数组最后一个位置的跳跃次数是2</span></span><br><span class="line"><span class="comment"> (从数组下标0跳一步到数组下标1，然后跳3步到数组的最后一个位置，一共跳跃2次)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 思路：贪心算法;</span></span><br><span class="line"><span class="comment"> * 从第一个数开始, 寻找可以一个可以跳最远的点;</span></span><br><span class="line"><span class="comment"> * 例1：3 1 2 4 1 0 0</span></span><br><span class="line"><span class="comment"> * 1.从第一个位置0,可以跳到位置1和位置2和位置3;</span></span><br><span class="line"><span class="comment"> * 2.如果跳到位置1,那么最远就可以跳到位置(1+1);</span></span><br><span class="line"><span class="comment"> * 3.如果跳到位置2,那么最远就可以跳到位置(2+2);</span></span><br><span class="line"><span class="comment"> * 4.如果跳到位置3,那么最远就可以跳到位置(3+4);</span></span><br><span class="line"><span class="comment"> * 5.故选择跳到位置3 ,重复1.2.3步;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 算法分析：</span></span><br><span class="line"><span class="comment"> * 1.如果选择跳到位置3 ,就无法跳到位置2和位置3, 那么会不会因此错过最优解？ 答：不会！</span></span><br><span class="line"><span class="comment"> * 2.因为任意位置1和位置2能到达的位置, 位置3都可以到达;</span></span><br><span class="line"><span class="comment"> * 3.故不会错过最优解;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">jump1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] arr={<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>};</span><br><span class="line">        System.out.println(jump(arr));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">jump</span><span class="params">(<span class="keyword">int</span> [] arr)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="keyword">null</span>||arr.length==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> jump=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> cur=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> next=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(cur&lt;i){</span><br><span class="line">                jump++;</span><br><span class="line">                cur=next;</span><br><span class="line">            }</span><br><span class="line">            next=Math.max(next,i+arr[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> jump;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><p>​           </p><p><img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1442224917,2125725593&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《操作系统概念》</title>
      <link href="/2017/08/09/du-shu-bi-ji-zhi-cao-zuo-xi-tong-gai-nian/"/>
      <url>/2017/08/09/du-shu-bi-ji-zhi-cao-zuo-xi-tong-gai-nian/</url>
      
        <content type="html"><![CDATA[<p>非常小型的操作系统，如篇首的小恐龙所使用的驱动手持设备的操作系统，是Silberschatz、Galvin和Gagne第七版《操作系统概念》中的一种前沿应用。通过保留最新的，保持有意义的，并改编为课程最需要的内容，这本引导市场潮流的教材继续指导着操作系统课程。</p><p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1530025605,1672040936&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="第二部分-进程管理"><a href="#第二部分-进程管理" class="headerlink" title="第二部分  进程管理"></a>第二部分  进程管理</h1><h2 id="第四章-进程"><a href="#第四章-进程" class="headerlink" title="第四章  进程"></a>第四章  进程</h2><p>进程状态</p><p>创建、运行、等待、就绪、终止</p><p>进程：一个具有单个控制线程的执行程序。</p><h2 id="第五章-线程"><a href="#第五章-线程" class="headerlink" title="第五章  线程"></a>第五章  线程</h2><p>线程：是CPU使用的基本单元</p><p>多线程编程优点：</p><ul><li>响应度高</li><li>资源共享</li><li>经济</li><li>多处理器体系结构的利用</li></ul><hr><p>多线程模型</p><ol><li>多对一  Many-to-one</li></ol><p>优点：</p><p>线程之间切换快</p><p>可以用用户自己的方式管理线程库</p><p>缺点：</p><p>如果一个线程执行了阻塞系统调用，那么整个系统就会阻塞。</p><ol start="2"><li>一对一  One - to - one</li></ol><p>优点：更好的并发能力</p><p>缺点：创建一个用户线程就需要创建一个相应的内核线程</p><ol start="3"><li>多对多 Many-to - many</li></ol><p>优点：没有many-to-One和 one-to -one的缺点</p><hr><ul><li>线程池</li></ul><p>在进程开始时创建一定数量的线程，并放入到池中坐以等待工作。</p><p>如果池中没有可用的线程，那么服务器会一直等待直到有空线程为止。</p><p>优点：</p><ol><li>用现有线程处理请求要比等待创建新的线程要快</li><li>线程池限制了在任何时候可存在线程的数量</li></ol><hr><h2 id="第七章-进程同步"><a href="#第七章-进程同步" class="headerlink" title="第七章  进程同步"></a>第七章  进程同步</h2><p>多个进程并发访问和操作同一数据且执行结果与访问发生的特定顺序有关，称为竞争条件。</p><p>两个或多个进程<code>无限地</code>等待一个事件，而该事件只能由这些等待进程之一来产生。当出现这样的状态时，这些进程称为死锁（deadlocked）。</p><hr><h2 id="第八章-死锁"><a href="#第八章-死锁" class="headerlink" title="第八章  死锁"></a>第八章  死锁</h2><ul><li>必要条件</li></ul><ol><li>互斥：至少有一个资源必须处于非共享模式，即一次只有一个进程使用。</li><li>占有并等待：一个进程必须占有至少一个资源，并等待另一资源，而该资源为其他进程所占有。</li><li>非抢占：资源不能被抢占；即，只有进程完成其任务之后，才会释放其资源。</li><li>循环等待：一组进程，循环等待下一个的资源。</li></ol><p>所有四个条件必须同时满足才会出现死锁。</p><p>为了预防死锁，要确保这四个必要条件中的一个不成立。</p><hr><ul><li>死锁恢复</li></ul><ol><li>进程终止</li></ol><p>终止所有死锁进程</p><p>一次只终止一个进程直到取消死锁循环为止</p><ol start="2"><li>资源抢占</li></ol><p>选择一个牺牲品</p><p>回滚</p><p>饥饿</p><hr><p>从理论上来说，有三种方法可以处理死锁：</p><ol><li>使用一些协议来预防或避免死锁，确保系统永远都不会进到死锁状态。</li><li>允许系统进入死锁状态，检测死锁，并恢复。</li><li>忽视所有问题，并假设系统中永远都不会出现死锁。</li></ol><hr><p><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=519421920,1103822880&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 读书 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《程序员代码面试指南（栈和队列）》</title>
      <link href="/2017/08/09/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-zhan-he-dui-lie/"/>
      <url>/2017/08/09/du-shu-bi-ji-zhi-cheng-xu-yuan-dai-ma-mian-shi-zhi-nan-zhan-he-dui-lie/</url>
      
        <content type="html"><![CDATA[<p>第一章、栈和队列</p><p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3506665052,220356979&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="有getMin功能的栈"><a href="#有getMin功能的栈" class="headerlink" title="有getMin功能的栈"></a>有getMin功能的栈</h1><p>使用两个栈，一个用来保存当前栈中的元素，记为stackData，一个用来保存每一步的最小值，即为stackMin.</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] Arr = {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>};</span><br><span class="line">        push(Arr[<span class="number">0</span>]);</span><br><span class="line">        push(Arr[<span class="number">1</span>]);</span><br><span class="line">        System.out.println(pop()+<span class="string">"  "</span> + getMin());</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Stack&lt;Integer &gt; stackData=<span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Stack &lt;Integer&gt; stackMin =<span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> newNum)</span></span>{</span><br><span class="line">        stackData.push(newNum);</span><br><span class="line">        <span class="keyword">if</span>(stackMin.isEmpty()){</span><br><span class="line">            stackMin.push(newNum);</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(newNum&lt;stackMin.peek()){</span><br><span class="line">            stackMin.push(newNum);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">pop</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(stackData.peek()==stackMin.peek()){</span><br><span class="line">            stackMin.pop();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> stackData.pop();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(stackMin.isEmpty()){</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"you stack is empty."</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> stackMin.peek();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="由两个栈组成的队列"><a href="#由两个栈组成的队列" class="headerlink" title="由两个栈组成的队列"></a>由两个栈组成的队列</h1><ul><li>一个栈stackPush专门用来存数据</li><li>一个栈stackPop专门用来取数据</li><li>每次取数据前stackPop必须清空</li><li>每次stackPush压入数据到stackPop中时，必须一次性全部压入</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Stack&lt;Integer &gt; stackPush =<span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Stack &lt;Integer&gt; stackPop  =<span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">add</span><span class="params">(<span class="keyword">int</span> pushInt)</span></span>{</span><br><span class="line">        stackPush.push(pushInt);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">poll</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(stackPush.isEmpty()&amp;&amp;stackPop.isEmpty()){</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Queue is Empty ！"</span>);</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(stackPop.isEmpty()){</span><br><span class="line">            <span class="keyword">while</span> (!stackPush.isEmpty()){</span><br><span class="line">                stackPop.push(stackPush.pop());</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> stackPop.pop();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(stackPush.isEmpty()&amp;&amp;stackPop.isEmpty()){</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Queue is Empty ！"</span>);</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(stackPop.isEmpty()){</span><br><span class="line">            <span class="keyword">while</span> (!stackPush.isEmpty()){</span><br><span class="line">                stackPop.push(stackPush.pop());</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> stackPop.peek();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="用栈解决汉诺塔问题"><a href="#用栈解决汉诺塔问题" class="headerlink" title="用栈解决汉诺塔问题"></a>用栈解决汉诺塔问题</h1><p>修改后的汉诺塔问题不能从左直接到右，也不能从右直接到左，必须通过中间；</p><p>左、中、右三个地点依次记为LS，LM，RS；</p><p>则仅有四个动作：LS–&gt;LM 、LM–&gt;LS 、LM–&gt;RS 、RS–&gt;LM </p><p>动作：某一个栈（from）把栈顶元素弹出 ，然后压入到另一个栈里（to），作为这一个栈（to）的栈顶。 </p><p>两个原则：</p><ul><li>一个动作能发生的先决条件是不违反小压大的原则。</li><li>还一个是相邻不可逆原则。</li></ul><p>意思是，L-&gt;M ，那么M-&gt;L，就重复了，如果要最小步法完成，必须不走重复步。</p><p>核心</p><ul><li>游戏的第一个动作一定是L-&gt;M</li><li>在走出任何最小步数过程中，四个动作，只有一个动作不违反原则，其余三个一定会违反。</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> Action {</span><br><span class="line">        No , LToM , MToL , MToR , RToM</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">int</span> <span class="title">hannoProblem</span><span class="params">(<span class="keyword">int</span> num , String left , String mid ,String right)</span></span>{</span><br><span class="line">        Stack&lt;Integer &gt; ls =<span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        Stack &lt;Integer&gt; ms  =<span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        Stack &lt;Integer&gt; rs  =<span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        ls.push(Integer.MAX_VALUE);</span><br><span class="line">        ms.push(Integer.MAX_VALUE);</span><br><span class="line">        rs.push(Integer.MAX_VALUE);</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i=num ;i&gt;<span class="number">0</span>;i--){</span><br><span class="line">            ls.push(i);</span><br><span class="line">        }</span><br><span class="line">        Action [] record = {Action.No};</span><br><span class="line">        <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (rs.size()!=num+<span class="number">1</span>){</span><br><span class="line">            step+= fStackTotStack(record,Action.MToL,Action.LToM,ls,ms , left , mid);</span><br><span class="line">            step+= fStackTotStack(record,Action.LToM,Action.MToL,ms,ls , mid , left);</span><br><span class="line">            step+= fStackTotStack(record,Action.RToM,Action.MToR,ms,rs  , mid , right);</span><br><span class="line">            step+= fStackTotStack(record,Action.MToR,Action.RToM,rs,ms , right, mid);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> step;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">fStackTotStack</span><span class="params">(Action [] record , Action preNoAct ,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     Action nowAct , Stack&lt;Integer&gt; fStack , Stack&lt;Integer&gt; tStack,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     String from , String to)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(record[<span class="number">0</span>] != preNoAct &amp;&amp; fStack.peek()&lt;tStack.peek()){</span><br><span class="line">            tStack.push(fStack.pop());</span><br><span class="line">            System.out.println(<span class="string">"Move"</span>+<span class="string">"  "</span>+tStack.peek()+<span class="string">"  "</span>+<span class="string">"from"</span> +<span class="string">"  "</span>+ from +<span class="string">"  "</span>+ <span class="string">"to"</span> +<span class="string">"  "</span>+ to);</span><br><span class="line">            record[<span class="number">0</span>]=nowAct;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> num=<span class="number">2</span>;</span><br><span class="line">        String left=<span class="string">"left"</span>;</span><br><span class="line">        String mid =<span class="string">"mid"</span>;</span><br><span class="line">        String right= <span class="string">"right"</span>;</span><br><span class="line">        System.out.println(hannoProblem(num,left,mid,right));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><hr><p><img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2633150032,2187542830&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《深入理解Java虚拟机》</title>
      <link href="/2017/08/08/du-shu-bi-ji-zhi-shen-ru-li-jie-java-xu-ni-ji/"/>
      <url>/2017/08/08/du-shu-bi-ji-zhi-shen-ru-li-jie-java-xu-ni-ji/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2692886884,1328684177&amp;fm=15&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="第13章-线程安全与锁优化"><a href="#第13章-线程安全与锁优化" class="headerlink" title="第13章 线程安全与锁优化"></a>第13章 线程安全与锁优化</h1><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><h3 id="1-不可变"><a href="#1-不可变" class="headerlink" title="1.  不可变"></a>1.  不可变</h3><p>不可变的对象一定是线程安全的</p><p>不可变带来的安全性是最简单和最纯粹的</p><ol><li>基本数据类型：final</li><li>对象：java.lang.String</li></ol><h3 id="2-绝对线程安全"><a href="#2-绝对线程安全" class="headerlink" title="2. 绝对线程安全"></a>2. 绝对线程安全</h3><p>在Java API 中标注自己是线程安全的类，大多数都不是绝对的线程安全。</p><p>Java.util.Vector是一个线程安全的容器，因为它的add()、get()、size()这类方法都是被synchronized修饰的。 在多线程中，还需在调用端做额外的同步措施。</p><h3 id="3-相对线程安全"><a href="#3-相对线程安全" class="headerlink" title="3. 相对线程安全"></a>3. 相对线程安全</h3><p>通常意义上讲的线程安全</p><p>在Java中，大部分的线程安全类都属于这种类型，如Vector、HashTable、Collection、的synchronizedCollection()方法包装的集合等。</p><h3 id="4-线程兼容"><a href="#4-线程兼容" class="headerlink" title="4. 线程兼容"></a>4. 线程兼容</h3><p>指对象本身并不是线程安全的，但是可以在同步端正确使用同步手段保证对象在并发环境中可以安全地使用。</p><p>Java API 中大部分的类都是属于线程兼容的，如Vector 和 HashTable相对应的集合类ArrayList 和 HashMap 等。</p><h3 id="5-线程对立"><a href="#5-线程对立" class="headerlink" title="5. 线程对立"></a>5. 线程对立</h3><p>指无论调用端是否采取了同步措施，都无法在多线程环境中并发使用的代码。</p><p>一个线程对立的例子是Thread类的 suspend() 和 resume() 方法。</p><h2 id="线程安全实现方法"><a href="#线程安全实现方法" class="headerlink" title="线程安全实现方法"></a>线程安全实现方法</h2><h3 id="互斥同步"><a href="#互斥同步" class="headerlink" title="互斥同步"></a>互斥同步</h3><p>Mutual Exclusion &amp; Synchronization</p><p>同步是指在多个线程并发访问共享数据时，保证共享数据在同一个时刻只被一个（或者是一些，使用信息量的时候）线程使用。</p><p>互斥是实现同步的一种手段，临界区（Critical Section）、互斥量（Mutex）和信息量（Semaphore）都是主要的互斥实现方式。</p><p>互斥是因，同步是果。互斥是方法，同步是目的。</p><p>互斥同步最主要的问题是进行线程阻塞和唤醒所带来的性能问题，因此这种同步也称为阻塞同步（Blocking Synchronization）。</p><h4 id="Synchronized"><a href="#Synchronized" class="headerlink" title="Synchronized"></a>Synchronized</h4><p>在Java中，最基本的互斥同步手段就是synchronized关键字</p><p>API 层面的互斥锁（lock() 和 unlock() 方法配合 try/finally 语句块来完成）</p><h4 id="ReentrantLock"><a href="#ReentrantLock" class="headerlink" title="ReentrantLock"></a>ReentrantLock</h4><p>重人锁</p><p>原生语法层面的互斥锁。</p><ol><li>等待可中断：是指当持有锁的线程长期不释放锁的时候，正在等待的线程可以选择放弃等待，改为处理其他事情。</li><li>公平锁：是指多个线程在等待同一个锁时，必须按照申请锁的时间顺序来依次获得锁。</li><li>锁绑定多个条件：是指一个ReentrantLock对象可以同时绑定多个Condition对象。只需要多次调用newCondition()方法即可。</li></ol><h3 id="非阻塞同步"><a href="#非阻塞同步" class="headerlink" title="非阻塞同步"></a>非阻塞同步</h3><p>乐观的并发策略</p><p>先进行操作，如果没有其他线程争用共享数据，那操作就成功了；如果共享数据有争用，产生了冲突，那就再采取其他的补偿措施。</p><ul><li>测试并设置</li><li>获取并增加</li><li>交换</li><li>比较并交换</li><li>加载链接/条件存储</li></ul><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1597620862,3199942303&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 开发者手册 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 开发者手册 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书笔记之《Java编程思想》</title>
      <link href="/2017/08/08/du-shu-bi-ji-zhi-java-bian-cheng-si-xiang/"/>
      <url>/2017/08/08/du-shu-bi-ji-zhi-java-bian-cheng-si-xiang/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=801804653,3756867112&amp;fm=15&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="17-容器"><a href="#17-容器" class="headerlink" title="17. 容器"></a>17. 容器</h1><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>存入Set的每个元素都必须是唯一的，因为Set不保存重复元素。</p><p>Set接口不保证维护元素的次序</p><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>映射表（关联数组）的基本思想是维护的是键-值（对）关联，因此可以用键来查找值。</p><p>基本方法</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Map.put()</span><br><span class="line">Map.get()</span><br></pre></td></tr></tbody></table></figure><h1 id="21-并发"><a href="#21-并发" class="headerlink" title="21. 并发"></a>21. 并发</h1><ul><li>阻塞：</li></ul><p>如果程序中的某个任务因为该程序控制范围之外的某些条件（通常是I/O）而导致不能继续执行，那么我们就说这个任务或线程阻塞了。</p><p>Java的线程机制是抢占式的。</p><p>一个线程就是在进程中的一个单一的顺序控制流，因此，单个进程可以拥有多个并发执行的任务。</p><hr><p>LiftOff任务将显示发射之前的倒计时：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LiftOff</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>{</span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">int</span> countDown = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span>   <span class="keyword">int</span> taskCount =<span class="number">0</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> id=taskCount++;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">LiftOff</span><span class="params">()</span></span>{</span><br><span class="line"><span class="keyword">this</span>.countDown=countDown;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">status</span><span class="params">()</span></span>{</span><br><span class="line"><span class="keyword">return</span> <span class="string">"#"</span>+id +<span class="string">"("</span>+(countDown&gt;<span class="number">0</span> ? countDown:<span class="string">"LiftOff ！"</span>)+<span class="string">")."</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>{</span><br><span class="line"><span class="keyword">while</span>(countDown--&gt;<span class="number">0</span>){</span><br><span class="line">System.out.println(status());</span><br><span class="line">Thread.yield();</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadPro</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> LiftOff()).start();</span><br><span class="line">        System.out.println(<span class="string">"Waiting for LiftOff !"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><ul><li>执行器（Executor）</li></ul><p>Executor允许你管理异步任务的执行，而无需显式地管理线程的生命周期。</p><hr><ul><li>优先级</li></ul><p>线程的优先级将该线程的重要性传递给了调度器。</p><p>尽管CPU处理现有线程集的顺序使不确定的，但是调度器将倾向于让优先权最高的线程先执行。</p><p>另外会让优先级较低的线程执行的频率较低，故而优先权不会导致死锁。</p><p><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1444271841,2904428413&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 读书 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java基础-1</title>
      <link href="/2017/08/07/java-ji-chu-1/"/>
      <url>/2017/08/07/java-ji-chu-1/</url>
      
        <content type="html"><![CDATA[<p>Java基本功</p><p><img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=855083503,1162680843&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="Java是否存在内存泄露"><a href="#Java是否存在内存泄露" class="headerlink" title="Java是否存在内存泄露"></a>Java是否存在内存泄露</h1><p>内存泄露是指一个不再被程序使用的对象或变量还在内存中占有存储空间。</p><p>如果开发人员忘记释放已分配的内存就会造成内存泄露。</p><p>在Java中，判断一个内存空间是否符合垃圾回收机制标准有两个：</p><ol><li>给对象赋予了null，以后再没使用过</li><li>给对象赋予了新值，重新分配了内存空间</li></ol><p>内存泄露主要有两种情况：</p><ol><li>在堆中申请的空间没有被释放</li><li>对象已经不再使用，但还是在内存中保留着</li></ol><p>Java中的垃圾回收机制可以解决情况1，所以内存泄露主要是情况2</p><p>在Java中，引起内存泄露的主要原因有：</p><ol><li>静态集合类</li><li>各种连接，如数据库连接、网络联结以及IO连接等</li><li>监听器</li><li>变量不合理的作用域</li><li>单例模式可能会造成内存泄露</li></ol><hr><h1 id="Java中的堆和栈有什么区别"><a href="#Java中的堆和栈有什么区别" class="headerlink" title="Java中的堆和栈有什么区别"></a>Java中的堆和栈有什么区别</h1><p>堆和栈都是内存中存放数据的地方</p><p>堆主要用来存放对象，栈用来执行程序</p><p>栈的存取速度比堆快</p><p>堆可以在运行中动态的分配内存</p><p>当main()方法退出后，栈中的变量会被回收</p><hr><h1 id="Java-Collections-框架是什么"><a href="#Java-Collections-框架是什么" class="headerlink" title="Java Collections 框架是什么"></a>Java Collections 框架是什么</h1><p>Java Collections框架中包含了大量集合接口、这些接口的实现类、操作他们的算法。</p><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>表示数学意义上的集合概念。特点是集合中的元素不能重复</p><p>HashSet</p><p>TreeSet ：容器中的元素是有序的</p><h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>又称为有序的Collection。</p><p>按对象进入的顺序保存对象，多以它能对列表中的每个元素的插入和删除位置进行精准的控制。</p><p>同时，它可以保存重复的对象。</p><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>提供了一个从键映射到值的数据结构。它用于保存键值对，其中值可以重复，键是唯一的。</p><p>HashMap 是基于散列表实现的，采用对象 HashCode 可以进行快速查询。</p><p>LinkedHashMap 采用列表来维护内部的顺序。</p><p>TreeMap 基于红黑树的数据结构来实现的，内部元素是按需排列的。</p><hr><h1 id="cookie和session区别"><a href="#cookie和session区别" class="headerlink" title="cookie和session区别"></a>cookie和session区别</h1><ol><li>cookie保存在客户端，数据存放在客户的浏览器上；session机制采取保存在服务器端的方案，数据存放在服务器上。</li><li>cookie安全性不够，session信息存放在服务器，因此较为安全。</li><li>cookie性能更高</li><li>单个cookie保存的数据大小不能超过4 KB，而session不存在这个问题。</li></ol><hr><h1 id="Hibernate优点"><a href="#Hibernate优点" class="headerlink" title="Hibernate优点"></a>Hibernate优点</h1><ol><li>提高开发效率</li><li>可以完全采用面向对象的思想，不需要关心数据库的关系模型</li><li>有很好的移植性</li><li>支持透明持久化</li></ol><hr><h1 id="使用Hibernate提高性能"><a href="#使用Hibernate提高性能" class="headerlink" title="使用Hibernate提高性能"></a>使用Hibernate提高性能</h1><ol><li>延迟加载</li><li>缓存技术</li><li>优化查询语句</li></ol><hr><h1 id="分页机制"><a href="#分页机制" class="headerlink" title="分页机制"></a>分页机制</h1><p>当数据量很大时，如果一次性的把数据取出来，不仅浪费时间，还消耗大量的内存</p><p>采用分页机制使得查询的结果集中数据量减少了，同时也降低了内存的消耗，因此可以显著降低响应时间，有助于提高系统的可用性，增强用户体验。</p><p>方法：</p><ol><li>框架自带分页机制</li><li>SQL语句实现分页</li></ol><hr><h1 id="GC"><a href="#GC" class="headerlink" title="GC"></a>GC</h1><p>自动检测对象的作用域，自动的把不再被使用的存储空间释放掉。</p><p><strong>作用</strong></p><ul><li>分配内存</li><li>确保被引用的对象不被错误的回收</li><li>回收不再被引用的对象的内存空间</li></ul><hr><h1 id="垃圾回收算法"><a href="#垃圾回收算法" class="headerlink" title="垃圾回收算法"></a>垃圾回收算法</h1><ol><li>引用计数法：缺点是无法处理循环引用问题</li><li>标记-清除法：标记所有从根节点开始的可达对象，缺点是会造成内存空间不连续，不连续的内存空间的工作效率低于连续的内存空间</li><li>复制算法：将内存空间分成两块，每次将正在使用的内存中存活对象复制到未使用的内存块中，之后清除正在使用的内存块。适用于新生代（存活对象少，垃圾对象多）</li><li>标记-压缩算法：清除未标记的对象时还将所有的存活对象压缩到内存的一端，之后，清除边界所有空间。适用于老年代。</li><li>分代</li></ol><hr><h1 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h1><p>当线程需要持有多个锁时，就有可能产生死锁。</p><p>线程A当前持有互斥锁lock1，线程B当前持有互斥锁lock2。</p><p>A想要lock2，B也想要lock1，互相试图获取对方的，又不肯先释放自己的，就陷入了无尽的等待/阻塞。</p><p>这种情况成为死锁。</p><hr><h1 id="ArrayList、Vector、LinkedList区别"><a href="#ArrayList、Vector、LinkedList区别" class="headerlink" title="ArrayList、Vector、LinkedList区别"></a>ArrayList、Vector、LinkedList区别</h1><table><thead><tr><th>容器</th><th>动态</th><th>扩充大小</th><th>同步？</th><th>安全？</th><th>效率</th></tr></thead><tbody><tr><td>ArrayList</td><td>可伸缩数组</td><td>1.5倍</td><td>非同步</td><td>不是线程安全</td><td>索引or在末端增删元素效率高</td></tr><tr><td>Vector</td><td>可伸缩数组</td><td>2倍</td><td>绝大多数方法同步</td><td>线程安全</td><td>索引or在末端增删元素效率高、多线程</td></tr><tr><td>LinkedList</td><td>可伸缩数组</td><td></td><td></td><td>非线程安全</td><td>双向列表实现，插入数据高，指定位置插入or删除元素效率高</td></tr></tbody></table><hr><h1 id="排序算法对比"><a href="#排序算法对比" class="headerlink" title="排序算法对比"></a>排序算法对比</h1><table><thead><tr><th>排序算法</th><th>最好时间</th><th>平均时间</th><th>最坏时间</th><th>辅助存储</th><th>稳定性</th><th>备注</th></tr></thead><tbody><tr><td>简单选择排序</td><td>$O（n^2）$</td><td>$O（n^2）$</td><td>$O（n^2）$</td><td>$O（1）$</td><td>不稳定</td><td>n小时较好</td></tr><tr><td>直接插入排序</td><td>$O（n）$</td><td>$O（n^2）$</td><td>$O（n^2）$</td><td>$O（1）$</td><td>稳定</td><td>大部分已有序时较好</td></tr><tr><td>冒泡排序</td><td>$O（n）$</td><td>$O（n^2）$</td><td>$O（n^2）$</td><td>$O（1）$</td><td>稳定</td><td>n小时较好</td></tr><tr><td>希尔排序</td><td>$O（n）$</td><td>$O（nlogn）$</td><td>$O（n^s）(1&lt;s&lt;2)$</td><td>$O（1）$</td><td>不稳定</td><td>s是所选分组</td></tr><tr><td>快速排序</td><td>$O（nlogn）$</td><td>$O（nlogn）$</td><td>$O（n^2）$</td><td>$O（logn）$</td><td>不稳定</td><td>n大时较好</td></tr><tr><td>堆排序</td><td>$O（nlogn）$</td><td>$O（nlogn）$</td><td>$O（nlogn）$</td><td>$O（1）$</td><td>不稳定</td><td>n大时较好</td></tr><tr><td>归并排序</td><td>$O（nlogn）$</td><td>$O（nlogn）$</td><td>$O（nlogn）$</td><td>$O（n）$</td><td>稳定</td><td>n大时较好</td></tr></tbody></table><hr><h1 id="什么是值传递和引用传递"><a href="#什么是值传递和引用传递" class="headerlink" title="什么是值传递和引用传递"></a>什么是值传递和引用传递</h1><ul><li>值传递：方法调用时，实参会把它的值传递给形参，形参用实参的值初始化一个临时的存储单元，因此值一样，存储单元不一样，形参的改变不会影响实参。</li><li>引用传递：在方法调用时，传递的是对象，形参与实参指向同一块存储单元，对形参的改变就会改变实参。</li></ul><hr><h1 id="面向对象的三个基本元素"><a href="#面向对象的三个基本元素" class="headerlink" title="面向对象的三个基本元素"></a>面向对象的三个基本元素</h1><ol><li>封装： 封装是把过程和数据包围起来，对数据的访问只能通过已定义的界面。面向对象计算始于这个基本概念，即现实世界可以被描绘成一系列完全自治、封装的对象，这些对象通过一个受保护的接口访问其他对象。 </li><li>继承： 继承是一种联结类的层次模型，并且允许和鼓励类的重用，它提供了一种明确表述共性的方法。对象的一个新类可以从现有的类中派生，这个过程称为类继承。新类继承了原始类的特性，新类称为原始类的派生类（子类），而原始类称为新类的基类（父类）。派生类可以从它的基类那里继承方法和实例变量，并且类可以修改或增加新的方法使之更适合特殊的需要。  </li><li>多态： 多态性是指允许不同类的对象对同一消息作出响应。多态性包括参数化多态性和包含多态性。多态性语言具有灵活、抽象、行为共享、代码共享的优势，很好的解决了应用程序函数同名问题。</li></ol><hr><h1 id="是否可以主动通知JVM进行垃圾回收？"><a href="#是否可以主动通知JVM进行垃圾回收？" class="headerlink" title="是否可以主动通知JVM进行垃圾回收？"></a>是否可以主动通知JVM进行垃圾回收？</h1><p>由于垃圾回收器的存在，Java语言没有提供给开发人员释放已分配内存的方法，开发人员不能实时的调用垃圾回收器对某个对象或所有对象进行垃圾回收。</p><p>但是开发可以调用System.gc()方法来“通知”垃圾回收器运行，当然，JVM也不会马上运行。</p><hr><h1 id="Java中堆和栈的区别"><a href="#Java中堆和栈的区别" class="headerlink" title="Java中堆和栈的区别"></a>Java中堆和栈的区别</h1><ol><li>栈内存主要用来存放基本数据类型和引用变量；堆内存用来存放运行时创建的对象</li><li>堆主要用来存放对象，栈主要用来执行程序</li></ol><hr><hr><h1 id="线程状态有哪些，它们之间是如何转换的"><a href="#线程状态有哪些，它们之间是如何转换的" class="headerlink" title="线程状态有哪些，它们之间是如何转换的"></a>线程状态有哪些，它们之间是如何转换的</h1><ol><li>New（新建）：刚创建，还没调用start方法</li><li>Runnable（可运行）：可以在Java虚拟机中运行的状态</li><li>Blocked（被阻塞）：当一个线程获取其他线程的内部对象锁而不得</li><li>Waiting（等待）：当线程等待另一个线程通知调度器一个条件时，它自己进入等待状态</li><li>Timed waiting（计时等待）：有超时参数的方法会让线程进入计时等待，如果超时或者出现通知，会切换到可运行状态</li><li>Terminated（被终止）：因为run方法正常退出或因为没有捕获的异常终止了run方法而死亡</li></ol><p><img src="http://upload-images.jianshu.io/upload_images/44770-698ba70a7a713f44.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p><hr><h1 id="线程与进程的区别，各有什么优缺点"><a href="#线程与进程的区别，各有什么优缺点" class="headerlink" title="线程与进程的区别，各有什么优缺点"></a>线程与进程的区别，各有什么优缺点</h1><p>线程：是指程序在执行过程中，能够执行程序代码的一个执行单元。4个状态：运行，就绪，挂起，结束。</p><p>进程：是指一段正在执行的程序。</p><p>创建一个线程比创建一个进程所要的资源少。</p><hr><h1 id="当你在浏览器输入一个网址，如http-www-taobao-com，按回车之后发生了什么？"><a href="#当你在浏览器输入一个网址，如http-www-taobao-com，按回车之后发生了什么？" class="headerlink" title="当你在浏览器输入一个网址，如http://www.taobao.com，按回车之后发生了什么？"></a>当你在浏览器输入一个网址，如<a href="http://www.taobao.com，按回车之后发生了什么？">http://www.taobao.com，按回车之后发生了什么？</a></h1><p>请从技术的角度描述，如浏览器、网络（UDP、TCP、HTTP等），以及服务器等各种参与对象上由此引发的一系列活动，请尽可能的涉及到所有的关键技术点。</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">1.DNS域名解析：浏览器缓存、系统缓存、路由器、ISP的DNS服务器、根域名服务器。把域名转化成IP地址。 </span><br><span class="line"></span><br><span class="line">2.与IP地址对应的服务器建立TCP连接，经历三次握手：SYN，ACK、SYN，ACK </span><br><span class="line"></span><br><span class="line">3.以get，post方式发送HTTP请求，get方式发送主机，用户代理，connection属性，cookie等 </span><br><span class="line"></span><br><span class="line">4.获得服务器的响应，显示页面</span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------</span><br><span class="line"></span><br><span class="line">1 查缓存</span><br><span class="line"></span><br><span class="line">2 DNS解析</span><br><span class="line"></span><br><span class="line">3 获取ip</span><br><span class="line"></span><br><span class="line">4 建立tcp连接</span><br><span class="line"></span><br><span class="line">5 发http数据</span><br><span class="line"></span><br><span class="line">6 接受http数据并解析</span><br><span class="line"></span><br><span class="line">7 close</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">1、根据域名查询域名的IP。浏览器缓存-&gt;操作系统缓存-&gt;本地域名服务器缓存-&gt;域名服务器。</span><br><span class="line"></span><br><span class="line">2、得到IP后发起基于TCP的HTTP请求。如果浏览器存储了该域名下的cookie，那么会把cookie放入HTTP请求头里。</span><br><span class="line"></span><br><span class="line">3、TCP被包装为IP包，通过网络（可能经过很多路由器、交换机）发送到IP地址对应的服务器。这个服务器可能只是一个反向代理服务器，如果是，则HTTP请求被转交给内网中真实的某一个服务器（可能有多个服务器）。</span><br><span class="line"></span><br><span class="line">4、服务器分析HTTP请求，生成HTTP响应（可能是HTML、图片等）后，将响应发送给客户端浏览器。</span><br><span class="line"></span><br><span class="line">5、浏览器得到响应后，根据响应内容显示结果。如果响应的是图片，则将图片”画“在浏览器页面上；如果是HTML，则渲染HTML并”画“在浏览器页面上，在分析HTML时，若发现引用了其他资源，例如css、图片等，则发起HTTP请求，得到响应资源。</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="linux中cat、more、less命令区别"><a href="#linux中cat、more、less命令区别" class="headerlink" title="linux中cat、more、less命令区别"></a>linux中cat、more、less命令区别</h1><p>均可用来查看文件内容</p><table><thead><tr><th align="center">命令</th><th align="left">区别</th><th>功能对比</th></tr></thead><tbody><tr><td align="center">cat</td><td align="left">一次性显示整个文件的内容，还可以将多个文件连接起来显示，常与重定向符号配合使用，适用于文件内容少的情况</td><td>一般</td></tr><tr><td align="center">more</td><td align="left">一般用于显示文件内容超过一屏的内容，提供翻页的功能。提供分页显示。</td><td>强</td></tr><tr><td align="center">less</td><td align="left">一般用于显示文件内容超过一屏的内容，提供翻页的功能。翻页、跳转、查找。</td><td>更强</td></tr></tbody></table><hr><ul><li>索引的作用及代价？如何建好索引？索引的原理</li><li>Hash算法</li><li>算法：二分查找算法，冒泡排序、选择排序算法、插入排序、归并、希尔、快排算法</li><li>锁：乐观锁和悲观锁</li><li>什么情况下会产生死锁？如何避免死锁？</li><li>JVM GC：介绍垃圾回收机制，垃圾回收算法。</li><li>JAVA的反射机制</li><li>Java集合类有哪些，分别在哪些场景使用</li><li>Linux下如何快速查找某个文件</li><li>Linux下如何设置环境变量</li></ul><hr><h1 id="Linux下如何查看TCP连接状态"><a href="#Linux下如何查看TCP连接状态" class="headerlink" title="Linux下如何查看TCP连接状态"></a>Linux下如何查看TCP连接状态</h1><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">LISTEN：          侦听来自远方的TCP端口的连接请求  listen</span><br><span class="line"> </span><br><span class="line">SYN-SENT：    再发送连接请求后等待匹配的连接请求     syn-sent</span><br><span class="line"></span><br><span class="line">SYN-RECEIVED：再收到和发送一个连接请求后等待对方对连接请求的确认  syn-received</span><br><span class="line"></span><br><span class="line">ESTABLISHED： 代表一个打开的连接</span><br><span class="line"></span><br><span class="line">FIN-WAIT-1：  等待远程TCP连接中断请求，或先前的连接中断请求的确认</span><br><span class="line"></span><br><span class="line">FIN-WAIT-2：  从远程TCP等待连接中断请求</span><br><span class="line"></span><br><span class="line">CLOSE-WAIT：  等待从本地用户发来的连接中断请求</span><br><span class="line"></span><br><span class="line">CLOSING：     等待远程TCP对连接中断的确认</span><br><span class="line"></span><br><span class="line">LAST-ACK：    等待原来的发向远程TCP的连接中断请求的确认</span><br><span class="line"></span><br><span class="line">TIME-WAIT：   等待足够的时间以确保远程TCP接收到连接中断请求的确认</span><br><span class="line"></span><br><span class="line">CLOSED：      没有任何连接状态</span><br></pre></td></tr></tbody></table></figure><ul><li>简述一次HTTP请求的基本流程</li><li>什么是JDBC，为什么需要什么是JDBC？实现原理是什么？</li><li>Get和Post的区别</li><li>Cookie和Session的区别，分别用于什么场景</li><li>为什么需要编码？UTF-8和GBK是如何进行编码的</li><li>分别介绍下JDK，JRE和JVM</li></ul><ol><li>HashMap的数据结构是什么？如何实现的。和HashTable，ConcurrentHashMap的区别</li></ol><ol><li>索引有什么用？如何建索引？</li><li>ArrayList是如何实现的，ArrayList和LinkedList的区别？ArrayList如何实现扩容。</li><li>equals方法实现</li><li>面向对象</li><li>线程状态，BLOCKED和WAITING有什么区别</li><li>JVM如何加载字节码文件</li><li>JVM GC，GC算法。</li><li>什么情况会出现Full GC，什么情况会出现yong GC。</li></ol><h1 id="JVM内存模型"><a href="#JVM内存模型" class="headerlink" title="JVM内存模型"></a>JVM内存模型</h1><p>Java内存模型，指Java程序在运行时内存的模型，而Java代码运行在Java虚拟机上，所以也就指Java虚拟机的运行时内存模型。</p><ol><li>Java运行时数据区</li><li>事务的实现原理</li></ol><h2 id="技术深度"><a href="#技术深度" class="headerlink" title="技术深度"></a>技术深度</h2><ol><li>有没有看过JDK源码，看过的类实现原理是什么。</li><li>HTTP协议</li><li>TCP协议</li><li>一致性Hash算法</li><li>JVM如何加载字节码文件</li><li>类加载器如何卸载字节码</li><li>IO和NIO的区别，NIO优点</li><li>Java线程池的实现原理，keepAliveTime等参数的作用。</li><li>HTTP连接池实现原理</li><li>数据库连接池实现原理</li><li>数据库的实现原理</li></ol><h2 id="技术框架"><a href="#技术框架" class="headerlink" title="技术框架"></a>技术框架</h2><ol><li>看过哪些开源框架的源码</li><li>为什么要用Redis，Redis有哪些优缺点？Redis如何实现扩容？</li><li>Netty是如何使用线程池的，为什么这么使用</li><li>为什么要使用Spring，Spring的优缺点有哪些</li><li>Spring的IOC容器初始化流程</li><li>Spring的IOC容器实现原理，为什么可以通过byName和ByType找到Bean</li><li>Spring AOP实现原理</li><li>消息中间件是如何实现的，技术难点有哪些</li></ol><h2 id="系统架构"><a href="#系统架构" class="headerlink" title="系统架构"></a>系统架构</h2><ol><li>如何搭建一个高可用系统</li><li>哪些设计模式可以增加系统的可扩展性</li><li>介绍设计模式，如模板模式，命令模式，策略模式，适配器模式、桥接模式、装饰模式，观察者模式，状态模式，访问者模式。</li><li>抽象能力，怎么提高研发效率。</li><li>什么是高内聚低耦合，请举例子如何实现</li><li>什么情况用接口，什么情况用消息</li><li>如果AB两个系统互相依赖，如何解除依赖</li><li>如何写一篇设计文档，目录是什么</li><li>什么场景应该拆分系统，什么场景应该合并系统</li><li>系统和模块的区别，分别在什么场景下使用</li></ol><h2 id="分布式系统"><a href="#分布式系统" class="headerlink" title="分布式系统"></a>分布式系统</h2><ol><li>分布式事务，两阶段提交。</li><li>如何实现分布式锁</li><li>如何实现分布式Session</li><li>如何保证消息的一致性</li><li>负载均衡</li><li>正向代理（客户端代理）和反向代理（服务器端代理）</li><li>CDN实现原理</li><li>怎么提升系统的QPS和吞吐量</li></ol><h2 id="实战能力"><a href="#实战能力" class="headerlink" title="实战能力"></a>实战能力</h2><ol><li>有没有处理过线上问题？出现内存泄露，CPU利用率标高，应用无响应时如何处理的。</li><li>开发中有没有遇到什么技术问题？如何解决的</li><li>如果有几十亿的白名单，每天白天需要高并发查询，晚上需要更新一次，如何设计这个功能。</li><li>新浪微博是如何实现把微博推给订阅者</li><li>Google是如何在一秒内把搜索结果返回给用户的。</li><li>12306网站的订票系统如何实现，如何保证不会票不被超卖。</li><li>如何实现一个秒杀系统，保证只有几位用户能买到某件商品。</li></ol><h2 id="软能力"><a href="#软能力" class="headerlink" title="软能力"></a>软能力</h2><ol><li>如何学习一项新技术，比如如何学习Java的，重点学习什么</li><li>有关注哪些新的技术</li><li>工作任务非常多非常杂时如何处理</li><li>项目出现延迟如何处理</li><li>和同事的设计思路不一样怎么处理</li><li>如何保证开发质量</li><li>职业规划是什么？短期，长期目标是什么</li><li>团队的规划是什么</li><li>能介绍下从工作到现在自己的成长在那里</li></ol><hr><h1 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h1><ol><li>多个线程可同时操作一个数据，为了保证该数据的准确性，可将操作该数据的部分改为同步。</li><li>并发：在 <a href="http://baike.baidu.com/view/880.htm" target="_blank" rel="noopener">操作系统 </a>中，是指一个时间段中有几个程序都处于已启动运行到运行完毕之间，且这几个程序都是在同一个 <a href="http://baike.baidu.com/view/2107226.htm" target="_blank" rel="noopener">处理机 </a>上运行。其中两种并发关系分别是同步和互斥</li><li>互斥：进程间相互排斥的使用临界资源的现象，就叫互斥。</li><li>同步： 进程之间的关系不是相互排斥临界资源的关系，而是相互依赖的关系。进一步的说明：就是前一个进程的输出作为后一个进程的输入，当第一个进程没有输出时第二个进程必须等待。具有同步关系的一组并发进程相互发送的信息称为消息或事件。</li><li>其中并发又有伪并发和真并发，伪并发是指单核处理器的并发，真并发是指多核处理器的并发。 </li><li>并行：在单处理器中多道程序设计系统中，进程被交替执行，表现出一种并发的外部特种；在多处理器系统中，进程不仅可以交替执行，而且可以重叠执行。在多处理器上的程序才可实现并行处理。从而可知，并行是针对多处理器而言的。并行是同时发生的多个并发事件，具有并发的含义，但并发不一定并行，也亦是说并发事件之间不一定要同一时刻发生。</li><li>多线程：多线程是程序设计的逻辑层概念，它是进程中并发运行的一段代码。多线程可以实现线程间的切换执行。</li><li>异步：异步和同步是相对的，同步就是顺序执行，执行完一个再执行下一个，需要等待、协调运行。异步就是彼此独立,在等待某事件的过程中继续做自己的事，不需要等待这一事件完成后再工作。线程就是实现异步的一个方式。异步是让调用方法的主线程不需要同步等待另一线程的完成，从而可以让主线程干其它的事情。</li><li>异步和多线程并不是一个同等关系,异步是最终目的,多线程只是我们实现异步的一种手段。异步是当一个调用请求发送给被调用者,而调用者不用等待其结果的返回而可以做其它的事情。实现异步可以采用多线程技术或则交给另外的进程来处理。</li><li>constructor在一个对象被new时执行</li><li>@java中关于继承的描述：一个子类只能继承一个父类;  继承具有传递性;父类一般具有通用性，子类更具体。</li><li>当一个对象不再被引用后就成为垃圾可以被回收，但是线程就算没有被引用也可以独立运行的。</li></ol><p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2077281022,811568533&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring-Boot-之-排序算法</title>
      <link href="/2017/08/06/spring-boot-zhi-pai-xu-suan-fa/"/>
      <url>/2017/08/06/spring-boot-zhi-pai-xu-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>一些网站内容排序算法</p><p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1501996227800&amp;di=9b1181fa8d889a6da506cf1273ad6efd&amp;imgtype=0&amp;src=http%3A%2F%2Fstatic.open-open.com%2Flib%2FuploadImg%2F20140708%2F20140708090444_305.gif" alt=""></p><a id="more"></a><h1 id="前言-网页排序核心思想"><a href="#前言-网页排序核心思想" class="headerlink" title="前言-网页排序核心思想"></a>前言-网页排序核心思想</h1><ol><li>交互越好，排名越好</li><li>时间越新，排名越好</li></ol><hr><h1 id="Hacker-News"><a href="#Hacker-News" class="headerlink" title="Hacker News"></a>Hacker News</h1><p><a href="https://news.ycombinator.com/" target="_blank" rel="noopener">https://news.ycombinator.com/</a></p><p>$$<br>Score=(P-1)/(T+2)^G<br>$$<br>P：投票数，-1是把自己投的过滤掉<br>T：发布到现在的时间间隔，单位小时，+2防止除数太小<br>G：重力加速度，分值根据时间降低速率</p><p>![微信图片_20170806095556](E:\Program Files\DarminBlog\public\Picture\微信图片_20170806095556.png)</p><hr><h1 id="Reddit"><a href="#Reddit" class="headerlink" title="Reddit"></a>Reddit</h1><p><a href="https://www.reddit.com/" target="_blank" rel="noopener">https://www.reddit.com/</a></p><p>t = (time of entry post) - (Dec 8, 2005)<br>x = upvotes - downvotes</p><p>y = {1 if x &gt; 0,</p><p>​        0 if x = 0, </p><p>​       -1 if x &lt; 0)<br>z = {1 if x &lt; 0, otherwise x}</p><p>$$<br>f(t,y,z)=log(z) + (y * t)/45000<br>$$<br>时间是最重要的权重，由于流量比较大，所以对于高赞文章有所优势，适合新闻类排序</p><hr><h1 id="StackOverflow"><a href="#StackOverflow" class="headerlink" title="StackOverflow"></a>StackOverflow</h1><p><a href="http://stackoverflow.com" target="_blank" rel="noopener">http://stackoverflow.com</a></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(log(Qviews)*<span class="number">4</span>) + ((Qanswers * Qscore)/<span class="number">5</span>) + sum(Ascores)</span><br><span class="line">--------------------------------------------------------</span><br><span class="line">((QageInHours+<span class="number">1</span>) - ((QageInHours - Qupdated)/<span class="number">2</span>)) ^ <span class="number">1.5</span></span><br></pre></td></tr></tbody></table></figure><p>Qviews：问题浏览数，通过log来平滑<br>Qanswer：问题回答数，有回答的题目才是好问题<br>Qscore：问题赞踩差，赞的越多，问题越好<br>sum（Ascores）：回答赞踩差，回答的越多问题越好<br>QageInHours：题目发布时间差，时间越久排名越后<br>Qupdated：最新的回答时间，越新关注度越高</p><hr><h1 id="IMDB"><a href="#IMDB" class="headerlink" title="IMDB"></a>IMDB</h1><p><a href="http://www.imdb.com/chart/top" target="_blank" rel="noopener">http://www.imdb.com/chart/top</a></p><p>加权排名(WR) = (v ÷(v+m)) ×R + (m ÷(v+m)) ×C</p><p>R = 某电影投票平均分</p><p>v = 有效投票人数</p><p>m = 最低投票人数，1250</p><p>C = 所有电影平均值</p><p>投票人数越多，越偏向于用户打分值，防止冷门电影小数人高分导致的高分</p><p><a href="http://www.imdb.com/help/show_leaf?votestopfaq" target="_blank" rel="noopener">http://www.imdb.com/help/show_leaf?votestopfaq</a></p><hr><h1 id="Marathon-Match-Rating-System"><a href="#Marathon-Match-Rating-System" class="headerlink" title="Marathon Match Rating System"></a>Marathon Match Rating System</h1><p>适合用于比赛中，互相排名。</p><p><a href="https://community.topcoder.com/longcontest/?module=Static&amp;d1=support&amp;d2=ratings" target="_blank" rel="noopener">https://community.topcoder.com/longcontest/?module=Static&amp;d1=support&amp;d2=ratings</a></p><p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1501996276177&amp;di=05d24cbed6e6d7d46bfe8e80b84f2283&amp;imgtype=0&amp;src=http%3A%2F%2Fstatic.open-open.com%2Flib%2FuploadImg%2F20140708%2F20140708090444_59.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot 之 Redis详解</title>
      <link href="/2017/08/01/spring-boot-zhi-redis-xiang-jie/"/>
      <url>/2017/08/01/spring-boot-zhi-redis-xiang-jie/</url>
      
        <content type="html"><![CDATA[<p>Redis是目前业界使用最广泛的内存数据存储。</p><p>Redis支持丰富的数据结构，同时支持数据持久化。</p><p>Redis还提供一些类数据库的特性，比如事务，HA，主从库。</p><p>REmote DIctionary Server(Redis) 是一个由Salvatore Sanfilippo写的key-value存储系统。</p><p><img src="http://img3.imgtn.bdimg.com/it/u=247756168,1064472101&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="Redis特点"><a href="#Redis特点" class="headerlink" title="Redis特点"></a>Redis特点</h1><p>Redis支持数据的持久化，可以将内存中的数据保存到磁盘中，重启的时候可以再次加载使用</p><p>Redis不仅仅支持简单的key-value类型的数据，同时还支持list，set，zset，hash等数据结构的存储</p><p>Redis支持数据的备份</p><p>支持主从同步，数据存在内存中，性能卓越。</p><hr><h1 id="Redis数据结构"><a href="#Redis数据结构" class="headerlink" title="Redis数据结构"></a>Redis数据结构</h1><h2 id="String（字符串）"><a href="#String（字符串）" class="headerlink" title="String（字符串）"></a>String（字符串）</h2><p>String是redis最基本的类型，一个key对应一个value</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; set name "runoob"</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line">"runoob"</span><br></pre></td></tr></tbody></table></figure><p>set 和 get 命令，key为name，value为runoob。</p><h2 id="List（列表）"><a href="#List（列表）" class="headerlink" title="List（列表）"></a>List（列表）</h2><p>双向列表，适用于最新列表，关注列表</p><p>列表是最简单的字符串列表，按照插入顺序排序。可以添加一个元素到列表的头部或者尾部</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; lpush runoob redis</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; lpush runoob mongodb</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; lpush runoob damin</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange runoob 0 10</span><br><span class="line">1) "damin"</span><br><span class="line">2) "mongodb"</span><br><span class="line">3) "redis"</span><br></pre></td></tr></tbody></table></figure><p>lpush存入链表，lrange列出链表</p><h2 id="Set（集合）"><a href="#Set（集合）" class="headerlink" title="Set（集合）"></a>Set（集合）</h2><p>适用于无顺序的集合，点赞点踩，抽奖，已读，共同好友</p><p>Redis的Set是String类型的无序集合。</p><p>集合是通过哈希表实现的，所以添加，删除，查找，都是$O(1)$</p><p>$asdd$命令：添加一个string元素命令到key对应的set集合中，成功返回1，如果元素已经存在，返回0，key对应的set不存在返回错误。</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SADD damin redis</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; SADD damin mysql</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; SADD damin mongodb</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; SADD damin mysql</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS damin</span><br><span class="line">1) "mongodb"</span><br><span class="line">2) "mysql"</span><br><span class="line">3) "redis"</span><br></pre></td></tr></tbody></table></figure><h2 id="SortedSet（有序集合）"><a href="#SortedSet（有序集合）" class="headerlink" title="SortedSet（有序集合）"></a>SortedSet（有序集合）</h2><p>排行榜，优先队列</p><p>和set一样，zadd也是不允许重复的成员</p><h2 id="Hash（哈希）"><a href="#Hash（哈希）" class="headerlink" title="Hash（哈希）"></a>Hash（哈希）</h2><p>对象属性，不定长属性数</p><p>是一个键名对集合</p><p>hash特别适合用于存储对象</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HMSET user:1 username runoob password runoob points 200</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; HGETALL user:1</span><br><span class="line">1) "username"</span><br><span class="line">2) "runoob"</span><br><span class="line">3) "password"</span><br><span class="line">4) "runoob"</span><br><span class="line">5) "points"</span><br><span class="line">6) "200"</span><br></pre></td></tr></tbody></table></figure><p>Redis HMSET , HGETALL 命令，user:1为键值</p><p>KV：单一数值，验证码，PV，缓存</p><hr><h1 id="启动Redis"><a href="#启动Redis" class="headerlink" title="启动Redis"></a>启动Redis</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、用cmd命令转到redis根目录下</span><br><span class="line">2、执行cmd命令：redis-server redis.windows.conf</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="Redis基础"><a href="#Redis基础" class="headerlink" title="Redis基础"></a>Redis基础</h1><p>基本指令功能</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by nowcoder on 2016/7/30.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JedisAdapter</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(JedisAdapter<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    <span class="keyword">private</span> JedisPool pool;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> index, Object obj)</span> </span>{</span><br><span class="line">        System.out.println(String.format(<span class="string">"%d, %s"</span>, index, obj.toString()));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] argv)</span> </span>{</span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">"redis://localhost:6379/9"</span>);</span><br><span class="line">        jedis.flushDB();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// get set</span></span><br><span class="line">        jedis.set(<span class="string">"hello"</span>, <span class="string">"world"</span>);</span><br><span class="line">        print(<span class="number">1</span>, jedis.get(<span class="string">"hello"</span>)); <span class="comment">//输出hello对应的world</span></span><br><span class="line">        jedis.rename(<span class="string">"hello"</span>, <span class="string">"newhello"</span>); <span class="comment">//newhello替代hello</span></span><br><span class="line">        print(<span class="number">1</span>, jedis.get(<span class="string">"newhello"</span>));  <span class="comment">//指向输出world</span></span><br><span class="line">        jedis.setex(<span class="string">"hello2"</span>, <span class="number">1800</span>, <span class="string">"world"</span>);</span><br><span class="line">        print(<span class="number">1</span>,jedis.get(<span class="string">"hello2"</span>));</span><br><span class="line"></span><br><span class="line">        jedis.set(<span class="string">"pv"</span>,<span class="string">"100"</span>);    <span class="comment">//点踩功能</span></span><br><span class="line">        jedis.incr(<span class="string">"pv"</span>);    <span class="comment">//加1</span></span><br><span class="line">        jedis.incrBy(<span class="string">"pv"</span>,<span class="number">5</span>); <span class="comment">//加5</span></span><br><span class="line">        print(<span class="number">2</span>,jedis.get(<span class="string">"pv"</span>));</span><br><span class="line">        jedis.decrBy(<span class="string">"pv"</span>,<span class="number">2</span>);  <span class="comment">//减2</span></span><br><span class="line">        print(<span class="number">2</span>,jedis.get(<span class="string">"pv"</span>));</span><br><span class="line"></span><br><span class="line">        print(<span class="number">3</span>,jedis.keys(<span class="string">"*"</span>));   <span class="comment">//输出所有表</span></span><br><span class="line"></span><br><span class="line">        String listName =<span class="string">"list"</span>;</span><br><span class="line">        jedis.del(listName);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++){</span><br><span class="line">            jedis.lpush(listName,<span class="string">"a"</span>+String.valueOf(i));   <span class="comment">//添加进表</span></span><br><span class="line">        }</span><br><span class="line">      </span><br><span class="line">        print(<span class="number">4</span>,jedis.lrange(listName,<span class="number">0</span>,<span class="number">12</span>)); <span class="comment">//输出范围0-12的内容</span></span><br><span class="line">        print(<span class="number">4</span>,jedis.lrange(listName,<span class="number">0</span>,<span class="number">2</span>));  <span class="comment">//输出范围0-2的内容</span></span><br><span class="line">        print(<span class="number">5</span>,jedis.llen(listName));  <span class="comment">//输出长度</span></span><br><span class="line">        print(<span class="number">6</span>,jedis.lpop(listName)); <span class="comment">//弹出最前一个的内容</span></span><br><span class="line">        print(<span class="number">10</span>,jedis.linsert(listName,BinaryClient.LIST_POSITION.AFTER,<span class="string">"a4"</span>,<span class="string">"dd"</span>));</span><br><span class="line">        print(<span class="number">11</span>,jedis.lrange(listName,<span class="number">0</span>,<span class="number">11</span>));</span><br><span class="line"></span><br><span class="line">        String userKey = <span class="string">"userxx"</span>;</span><br><span class="line">        jedis.hset(userKey,<span class="string">"name"</span>,<span class="string">"jim"</span>);</span><br><span class="line">        jedis.hset(userKey,<span class="string">"age"</span>,<span class="string">"12"</span>);</span><br><span class="line">        jedis.hset(userKey,<span class="string">"phone"</span>,<span class="string">"1562225555"</span>);</span><br><span class="line">        print(<span class="number">12</span>,jedis.hget(userKey,<span class="string">"name"</span>)); <span class="comment">//取出对应信息</span></span><br><span class="line">        print(<span class="number">13</span>,jedis.hgetAll(userKey));  <span class="comment">//全部取出</span></span><br><span class="line">        jedis.hdel(userKey,<span class="string">"phone"</span>);</span><br><span class="line">        print(<span class="number">14</span>,jedis.hgetAll(userKey));  <span class="comment">//取出全部信息</span></span><br><span class="line">        print(<span class="number">15</span>,jedis.hexists(userKey,<span class="string">"email"</span>)); <span class="comment">//有没有email</span></span><br><span class="line">        print(<span class="number">16</span>,jedis.hexists(userKey,<span class="string">"age"</span>)); <span class="comment">//有没有age</span></span><br><span class="line">        print(<span class="number">17</span>,jedis.hkeys(userKey)); <span class="comment">//输出key</span></span><br><span class="line">        print(<span class="number">18</span>,jedis.hvals(userKey));<span class="comment">// 输出值</span></span><br><span class="line">        jedis.hsetnx(userKey,<span class="string">"school"</span>,<span class="string">"zju"</span>); <span class="comment">//添加学校属性</span></span><br><span class="line">        jedis.hsetnx(userKey,<span class="string">"name"</span>,<span class="string">"yxy"</span>);   <span class="comment">//如果存在则不改写</span></span><br><span class="line">        print(<span class="number">19</span>,jedis.hgetAll(userKey));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//set</span></span><br><span class="line">        String likeKey1=<span class="string">"commentLike1"</span>;</span><br><span class="line">        String likeKey2=<span class="string">"commentLike2"</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span> ; ++i){</span><br><span class="line">            jedis.sadd(likeKey1,String.valueOf(i));</span><br><span class="line">            jedis.sadd(likeKey2,String.valueOf(i*i));</span><br><span class="line">        }</span><br><span class="line">        print(<span class="number">20</span>,jedis.smembers(likeKey1));</span><br><span class="line">        print(<span class="number">21</span>,jedis.smembers(likeKey2));</span><br><span class="line">        print(<span class="number">22</span>,jedis.sunion(likeKey1,likeKey2));<span class="comment">//求并</span></span><br><span class="line">        print(<span class="number">23</span>,jedis.sdiff(likeKey1,likeKey2));<span class="comment">//我有你无</span></span><br><span class="line">        print(<span class="number">24</span>,jedis.sinter(likeKey1,likeKey2)); <span class="comment">//求公共的</span></span><br><span class="line">        print(<span class="number">25</span>,jedis.sismember(likeKey1,<span class="string">"12"</span>));</span><br><span class="line">        print(<span class="number">25</span>,jedis.sismember(likeKey2,<span class="string">"16"</span>)); <span class="comment">//查询对象在不在里面</span></span><br><span class="line">        jedis.srem(likeKey1,<span class="string">"5"</span>);</span><br><span class="line">        print(<span class="number">27</span>,jedis.smembers(likeKey1));</span><br><span class="line"></span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setName(<span class="string">"xx"</span>);</span><br><span class="line">        user.setPassword(<span class="string">"ppp"</span>);</span><br><span class="line">        user.setHeadUrl(<span class="string">"a.png"</span>);</span><br><span class="line">        user.setSalt(<span class="string">"salt"</span>);</span><br><span class="line">        user.setId(<span class="number">1</span>);</span><br><span class="line">        print(<span class="number">46</span>,JSONObject.toJSONString(user));</span><br><span class="line">        jedis.set(<span class="string">"user1"</span>,JSONObject.toJSONString(user));</span><br><span class="line"></span><br><span class="line">        String value = jedis.get(<span class="string">"user1"</span>);</span><br><span class="line">        User user2=JSON.parseObject(value,User<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        print(<span class="number">47</span>,user2);</span><br><span class="line">        <span class="keyword">int</span> k=<span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="Redis事务"><a href="#Redis事务" class="headerlink" title="Redis事务"></a>Redis事务</h1><p>redis事务可以一次执行多个命令，并且有以下2个属性：</p><p>事务是一个单独的隔离操作，事务中所有命令都会序列化，按顺序地执行，事务在执行的过程中，不会被其他客户端发送过来的命令请求所中断</p><p>事务是一个原子操作，事务中的命令要不全部被执行，要不都不执行</p><p>一个事务从开始到执行有三个阶段 ：</p><p>开始事务</p><p>命令入队</p><p>执行事务</p><p>实例：</p><p>先以MULTI开始一个事务，然后将多个命令入队到事务中，最后由EXEC命令触发事务，一并执行事务中的所有命令</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; MULTI</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; set book-name "Java Thinking in"</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; GET book-name</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; SADD tag "JAVA" "Coding"</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS tag</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; EXEC</span><br><span class="line">1) OK</span><br><span class="line">2) "Java Thinking in"</span><br><span class="line">3) (integer) 2</span><br><span class="line">4) 1) "JAVA"</span><br><span class="line">   2) "Coding"</span><br></pre></td></tr></tbody></table></figure><p>事务相关命令：</p><p>DISCARD：取消事务discard，放弃执行事务中所有命令</p><p>EXEC：执行所有事务块内的命令 exec</p><p>MULTI：标记一个事务块的开始multi</p><p>UNWATCH：取消watch命令对所有key的监视</p><hr><h1 id="Redis脚本"><a href="#Redis脚本" class="headerlink" title="Redis脚本"></a>Redis脚本</h1><p>Redis脚本用Lua解释器来执行脚本，脚本执行的命令为EVAL</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; EVAL "return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}" 2 key1 key2 first second</span><br><span class="line">1) "key1"</span><br><span class="line">2) "key2"</span><br><span class="line">3) "first"</span><br><span class="line">4) "second"</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="Redis-连接"><a href="#Redis-连接" class="headerlink" title="Redis 连接"></a>Redis 连接</h1><p>Redis连接服务器</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; AUTH "password"</span><br><span class="line">(error) ERR Client sent AUTH, but no password is <span class="keyword">set</span> //没有密码，所以...</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; ping</span><br><span class="line">PONG</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br></pre></td></tr></tbody></table></figure><p>连接命令：</p><p>AUTH password：验证密码是否正确</p><p>PONG：查看服务器是否运行</p><p>ECHO message ： 打印字符串</p><p>QUIT：关闭当前连接</p><p>SELECT index ：切换到指定的数据库</p><hr><h1 id="Java使用Redis"><a href="#Java使用Redis" class="headerlink" title="Java使用Redis"></a>Java使用Redis</h1><p>添加jedis.jar 包</p><p>然后就可以嗨起来了</p><h2 id="连接服务器"><a href="#连接服务器" class="headerlink" title="连接服务器"></a>连接服务器</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisJava</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="comment">//连接本地的Redis服务</span></span><br><span class="line">        Jedis jedis =<span class="keyword">new</span> Jedis(<span class="string">"localhost"</span>);</span><br><span class="line">        System.out.println(<span class="string">"连接成功"</span>);</span><br><span class="line">        <span class="comment">//查看服务器是否运行</span></span><br><span class="line">        System.out.println(<span class="string">"服务正在运行："</span>+jedis.ping());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">  连接成功</span><br><span class="line">服务正在运行：PONG</span><br></pre></td></tr></tbody></table></figure><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisJava</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="comment">//连接本地的Redis服务</span></span><br><span class="line">        Jedis jedis =<span class="keyword">new</span> Jedis(<span class="string">"localhost"</span>);</span><br><span class="line">        System.out.println(<span class="string">"连接成功"</span>);</span><br><span class="line">        jedis.set(<span class="string">"damin"</span>,<span class="string">"zhoudm.com"</span>);</span><br><span class="line">        System.out.println(<span class="string">"redis 存储的字符串为："</span>+jedis.get(<span class="string">"damin"</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">连接成功</span><br><span class="line">redis 存储的字符串为：zhoudm.com</span><br></pre></td></tr></tbody></table></figure><h2 id="Redis-Java-List"><a href="#Redis-Java-List" class="headerlink" title="Redis Java List"></a>Redis Java List</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisJava</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="comment">//连接本地的Redis服务</span></span><br><span class="line">        Jedis jedis =<span class="keyword">new</span> Jedis(<span class="string">"localhost"</span>);</span><br><span class="line">        System.out.println(<span class="string">"连接成功"</span>);</span><br><span class="line">        jedis.lpush(<span class="string">"zhoudm"</span>,<span class="string">"zhoudm.com"</span>);</span><br><span class="line">        jedis.lpush(<span class="string">"zhoudm"</span>,<span class="string">"baidu.com"</span>);</span><br><span class="line">        jedis.lpush(<span class="string">"zhoudm"</span>,<span class="string">"360.com"</span>);</span><br><span class="line">        jedis.lpush(<span class="string">"zhoudm"</span>,<span class="string">"google.com"</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list=jedis.lrange(<span class="string">"zhoudm"</span>,<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;list.size();i++) {</span><br><span class="line">            System.out.println(<span class="string">"列表为："</span> + list.get(i));</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">连接成功</span><br><span class="line">列表为：google.com</span><br><span class="line">列表为：<span class="number">360</span>.com</span><br><span class="line">列表为：baidu.com</span><br><span class="line">列表为：zhoudm.com</span><br></pre></td></tr></tbody></table></figure><h2 id="Redis-Java-Keys"><a href="#Redis-Java-Keys" class="headerlink" title="Redis Java Keys"></a>Redis Java Keys</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisJava</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="comment">//连接本地的Redis服务</span></span><br><span class="line">        Jedis jedis =<span class="keyword">new</span> Jedis(<span class="string">"localhost"</span>);</span><br><span class="line">        System.out.println(<span class="string">"连接成功"</span>);</span><br><span class="line"></span><br><span class="line">        Set&lt;String&gt; keys=jedis.keys(<span class="string">"*"</span>);</span><br><span class="line">        Iterator&lt;String&gt; it=keys.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext()){</span><br><span class="line">            String key = it.next();</span><br><span class="line">            System.out.println(key);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"> 连接成功</span><br><span class="line">zhoudm</span><br><span class="line">spring:session:sessions:<span class="number">7f</span>f2fe7e-<span class="number">9454</span>-<span class="number">48</span>a1-b44c-<span class="number">9</span>b5f6b7b1507</span><br><span class="line">book-name</span><br><span class="line">spring:session:sessions:<span class="number">9</span>a02f60c-fd16-<span class="number">49</span>b5-<span class="number">9977</span>-<span class="number">08446f</span>4ffff5</span><br><span class="line">spring:session:sessions:f1312270-<span class="number">95</span>cf-<span class="number">4</span>d19-a88d-<span class="number">5</span>af26b03a61c</span><br><span class="line">spring:session:sessions:expires:<span class="number">9</span>a02f60c-fd16-<span class="number">49</span>b5-<span class="number">9977</span>-<span class="number">08446f</span>4ffff5</span><br><span class="line">spring:session:expirations:<span class="number">1504881480000</span></span><br><span class="line">user:<span class="number">1</span></span><br><span class="line">spring:session:sessions:f31624a8-b014-<span class="number">4768</span>-<span class="number">826</span>d-<span class="number">8</span>b5b484b63a7</span><br><span class="line">collector</span><br><span class="line">spring:session:sessions:expires:f1312270-<span class="number">95</span>cf-<span class="number">4</span>d19-a88d-<span class="number">5</span>af26b03a61c</span><br><span class="line">spring:session:sessions:expires:f31624a8-b014-<span class="number">4768</span>-<span class="number">826</span>d-<span class="number">8</span>b5b484b63a7</span><br><span class="line">name</span><br><span class="line">spring:session:expirations:<span class="number">1504409460000</span></span><br><span class="line">damin</span><br><span class="line">runoob</span><br><span class="line">tag</span><br><span class="line">spring:session:expirations:<span class="number">1505295120000</span></span><br><span class="line">spring:session:expirations:<span class="number">1504252440000</span></span><br><span class="line">spring:session:sessions:expires:<span class="number">7f</span>f2fe7e-<span class="number">9454</span>-<span class="number">48</span>a1-b44c-<span class="number">9</span>b5f6b7b1507</span><br></pre></td></tr></tbody></table></figure><hr><p><img src="http://img5.imgtn.bdimg.com/it/u=2420256015,867012716&amp;fm=26&amp;gp=0.jpg" alt=""></p><p><img src="http://img4.imgtn.bdimg.com/it/u=964798549,1007679285&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot 之 项目业务逻辑</title>
      <link href="/2017/08/01/spring-boot-zhi-xiang-mu-ye-wu-luo-ji/"/>
      <url>/2017/08/01/spring-boot-zhi-xiang-mu-ye-wu-luo-ji/</url>
      
        <content type="html"><![CDATA[<p>业务逻辑<br><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3655339541,1765017154&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h1><ol><li>Database Column</li><li>Model：模型定义，和数据库相匹配</li><li>DAO：数据读取</li><li>Service：服务包装</li><li>Controller：业务入口</li><li>Test</li></ol><hr><h1 id="评论Comment"><a href="#评论Comment" class="headerlink" title="评论Comment"></a>评论Comment</h1><h2 id="DAO"><a href="#DAO" class="headerlink" title="DAO"></a>DAO</h2><ol><li>添加评论 addComment</li><li>根据一个实体选出全部评论 selectCommentByEntity</li><li>选一个实体下有多少评论</li></ol><h2 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h2><ol><li>添加评论</li><li>得到评论数</li><li>删除评论-controller调用Service，Service更新状态就可以了</li></ol><h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><ol><li>增加评论 POST<br>questionId 是多少<br>content 是多少<br>评论内容也需要过滤一次( Html &amp; 自己写的算法)<br>hostHolder！=null   说明你是登陆的<br>没登陆？：要不登陆、要不匿名</li></ol><p><img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2189742753,2078713309&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot 之 Web Notes</title>
      <link href="/2017/07/31/spring-boot-zhi-web-notes/"/>
      <url>/2017/07/31/spring-boot-zhi-web-notes/</url>
      
        <content type="html"><![CDATA[<p>一些Web的笔记！<br><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=259245079,1830956198&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h1><ol><li>Database Column</li><li>Model：模型定义，和数据库匹配</li><li>Dao：数据读取</li><li>Service：服务包装</li><li>Controller：业务入口</li><li>Test</li></ol><h1 id="solr"><a href="#solr" class="headerlink" title="solr"></a>solr</h1><p>官方网站： <a href="http://lucene.apache.org/solr/" target="_blank" rel="noopener">http://lucene.apache.org/solr/</a></p><p>…\bin&gt; solr -e cloud -noprompt</p><p>搜索语法：</p><ol><li>+包含关键词</li><li>-不需要某关键词</li></ol><p>云模式solr start -e cloud –noprompt</p><p>单机solr start</p><p>solr create_collection wenda</p><p>关闭</p><p> solr stop -all</p><p>核心概念：</p><p>Document：每个被索引的文档</p><p>Field：文档里的各个属性值</p><p>IKAnanlyzer分词配置（managed-schema）</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldTypename="text_ik"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--索引时候的分词器--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tokenizerclass="org.wltea.analyzer.util.IKTokenizerFactory"</span> <span class="attr">useSmart</span>=<span class="string">“false</span>"/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--查询时候的分词器--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"query"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tokenizerclass="org.wltea.analyzer.util.IKTokenizerFactory"</span> <span class="attr">useSmart</span>=<span class="string">“true</span>"/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"question_title"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"question_content"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>数据库数据导入</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">solrconfig.xml</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">requestHandlername="</span>/<span class="attr">dataimport</span>" <span class="attr">class</span>=<span class="string">"org.apache.solr.handler.dataimport.DataImportHandler"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">lstname="defaults"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">strname="config"</span>&gt;</span>data-config.xml<span class="tag">&lt;/<span class="name">str</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">lst</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">requestHandler</span>&gt;</span></span><br><span class="line"></span><br><span class="line">data-config.xml</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dataConfig</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"JdbcDataSource"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">driver</span>=<span class="string">"com.mysql.jdbc.Driver"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">url</span>=<span class="string">"jdbc:mysql://localhost/wenda"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">user</span>=<span class="string">"root"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">password</span>=<span class="string">"nowcoder"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">document</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">entity</span> <span class="attr">name</span>=<span class="string">"question"</span> <span class="attr">query</span>=<span class="string">"select id,title,content from question"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">column</span>=<span class="string">"content"</span> <span class="attr">name</span>=<span class="string">"question_content"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">column</span>=<span class="string">"title"</span> <span class="attr">name</span>=<span class="string">"question_title"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">entity</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">document</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataConfig</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><hr><h1 id="敏感词"><a href="#敏感词" class="headerlink" title="敏感词"></a>敏感词</h1><p>前缀树<br>• 根节点不包含字符，除根节点外每一个节点都只包含一个字符<br>• 从根节点到某一节点，路径上经过的字符连接起来，为该节点对应的字符串<br>• 每个节点的所有子节点包含的字符都不相同</p><p>过滤掉符号<br>避免敏感词中间空格就识别不出了</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class SensitiveService implements InitializingBean {</span><br><span class="line"></span><br><span class="line">    private static final Logger logger = LoggerFactory.getLogger(SensitiveService.class);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 默认敏感词替换符</span><br><span class="line">     */</span><br><span class="line">    private static final String DEFAULT_REPLACEMENT = "***";</span><br><span class="line"></span><br><span class="line">    private class TrieNode {</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * true 关键词的终结 ； false 继续</span><br><span class="line">         */</span><br><span class="line">        private boolean end = false;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * key下一个字符，value是对应的节点</span><br><span class="line">         */</span><br><span class="line">        private Map&lt;Character, TrieNode&gt; subNodes = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * 向指定位置添加节点树</span><br><span class="line">         */</span><br><span class="line">        void addSubNode(Character key, TrieNode node) {</span><br><span class="line">            subNodes.put(key, node);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * 获取下个节点</span><br><span class="line">         */</span><br><span class="line">        TrieNode getSubNode(Character key) {</span><br><span class="line">            return subNodes.get(key);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        boolean isKeywordEnd() {</span><br><span class="line">            return end;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        void setKeywordEnd(boolean end) {</span><br><span class="line">            this.end = end;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        public int getSubNodeCount() {</span><br><span class="line">            return subNodes.size();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 根节点</span><br><span class="line">     */</span><br><span class="line">    private TrieNode rootNode = new TrieNode();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 判断是否是一个符号</span><br><span class="line">     */</span><br><span class="line">    private boolean isSymbol(char c) {</span><br><span class="line">        int ic = (int) c;</span><br><span class="line">        // 0x2E80-0x9FFF 东亚文字范围</span><br><span class="line">        return !CharUtils.isAsciiAlphanumeric(c) &amp;&amp; (ic &lt; 0x2E80 || ic &gt; 0x9FFF);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 过滤敏感词</span><br><span class="line">     */</span><br><span class="line">    public String filter(String text) {</span><br><span class="line">        if (StringUtils.isBlank(text)) {</span><br><span class="line">            return text;</span><br><span class="line">        }</span><br><span class="line">        String replacement = DEFAULT_REPLACEMENT;</span><br><span class="line">        StringBuilder result = new StringBuilder();</span><br><span class="line"></span><br><span class="line">        TrieNode tempNode = rootNode;</span><br><span class="line">        int begin = 0; // 回滚数</span><br><span class="line">        int position = 0; // 当前比较的位置</span><br><span class="line"></span><br><span class="line">        while (position &lt; text.length()) {</span><br><span class="line">            char c = text.charAt(position);</span><br><span class="line">            // 空格直接跳过</span><br><span class="line">            if (isSymbol(c)) {</span><br><span class="line">                if (tempNode == rootNode) {</span><br><span class="line">                    result.append(c);</span><br><span class="line">                    ++begin;</span><br><span class="line">                }</span><br><span class="line">                ++position;</span><br><span class="line">                continue;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            tempNode = tempNode.getSubNode(c);</span><br><span class="line"></span><br><span class="line">            // 当前位置的匹配结束</span><br><span class="line">            if (tempNode == null) {</span><br><span class="line">                // 以begin开始的字符串不存在敏感词</span><br><span class="line">                result.append(text.charAt(begin));</span><br><span class="line">                // 跳到下一个字符开始测试</span><br><span class="line">                position = begin + 1;</span><br><span class="line">                begin = position;</span><br><span class="line">                // 回到树初始节点</span><br><span class="line">                tempNode = rootNode;</span><br><span class="line">            } else if (tempNode.isKeywordEnd()) {</span><br><span class="line">                // 发现敏感词， 从begin到position的位置用replacement替换掉</span><br><span class="line">                result.append(replacement);</span><br><span class="line">                position = position + 1;</span><br><span class="line">                begin = position;</span><br><span class="line">                tempNode = rootNode;</span><br><span class="line">            } else {</span><br><span class="line">                ++position;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        result.append(text.substring(begin));</span><br><span class="line"></span><br><span class="line">        return result.toString();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private void addWord(String lineTxt) {</span><br><span class="line">        TrieNode tempNode = rootNode;</span><br><span class="line">        // 循环每个字节</span><br><span class="line">        for (int i = 0; i &lt; lineTxt.length(); ++i) {</span><br><span class="line">            Character c = lineTxt.charAt(i);</span><br><span class="line">            // 过滤空格</span><br><span class="line">            if (isSymbol(c)) {</span><br><span class="line">                continue;</span><br><span class="line">            }</span><br><span class="line">            TrieNode node = tempNode.getSubNode(c);</span><br><span class="line"></span><br><span class="line">            if (node == null) { // 没初始化</span><br><span class="line">                node = new TrieNode();</span><br><span class="line">                tempNode.addSubNode(c, node);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            tempNode = node;</span><br><span class="line"></span><br><span class="line">            if (i == lineTxt.length() - 1) {</span><br><span class="line">                // 关键词结束， 设置结束标志</span><br><span class="line">                tempNode.setKeywordEnd(true);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void afterPropertiesSet() throws Exception {</span><br><span class="line">        rootNode = new TrieNode();</span><br><span class="line">//读取文本</span><br><span class="line">        try {</span><br><span class="line">            InputStream is = Thread.currentThread().getContextClassLoader()</span><br><span class="line">                    .getResourceAsStream("SensitiveWords.txt");</span><br><span class="line">            InputStreamReader read = new InputStreamReader(is);</span><br><span class="line">            BufferedReader bufferedReader = new BufferedReader(read);</span><br><span class="line">            String lineTxt;</span><br><span class="line">            while ((lineTxt = bufferedReader.readLine()) != null) {</span><br><span class="line">                lineTxt = lineTxt.trim();</span><br><span class="line">                addWord(lineTxt);</span><br><span class="line">            }</span><br><span class="line">            read.close();</span><br><span class="line">        } catch (Exception e) {</span><br><span class="line">            logger.error("读取敏感词文件失败" + e.getMessage());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void main(String[] argv) {</span><br><span class="line">        SensitiveService s = new SensitiveService();</span><br><span class="line">        s.addWord("色情");</span><br><span class="line">        s.addWord("好色");</span><br><span class="line">        System.out.print(s.filter("你好X色情XX"));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="Web敏感词过滤"><a href="#Web敏感词过滤" class="headerlink" title="Web敏感词过滤"></a>Web敏感词过滤</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public int addQuestion(Question question) {</span><br><span class="line">   //Html过滤</span><br><span class="line">question.setTitle(HtmlUtils.htmlEscape(question.getTitle()));</span><br><span class="line">question.setContent(HtmlUtils.htmlEscape(question.getContent()));</span><br><span class="line">// 敏感词过滤</span><br><span class="line">question.setTitle(sensitiveService.filter(question.getTitle()));</span><br><span class="line">question.setContent(sensitiveService.filter(question.getContent()));</span><br><span class="line">return questionDAO.addQuestion(question) &gt; 0 ? question.getId() : 0;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><h1 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h1><p>优势<br>•充分利用多处理器<br>•可以异步处理任务</p><p>挑战<br>•数据会被多个线程访问，有安全性问题<br>•不活跃的线程也会占用内存资源<br>•死锁</p><h2 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h2><p>1.extends Thread，重载run()方法<br>2.implements Runnable()，实现run()方法</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">new Thread(new Runnable() {</span><br><span class="line">@Override</span><br><span class="line">public void run() {</span><br><span class="line">Random random = new Random();</span><br><span class="line">for (int i = 0; i &lt; 10; ++i) {</span><br><span class="line">sleep(random.nextInt(1000));</span><br><span class="line">System.out.println(String.format("T%d : %d", tid, i));</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">}, String.valueOf(i)).start();</span><br></pre></td></tr></tbody></table></figure><h2 id="Synchronized－内置锁"><a href="#Synchronized－内置锁" class="headerlink" title="Synchronized－内置锁"></a>Synchronized－内置锁</h2><p>1.放在方法上会锁住所有synchronized方法<br>2.synchronized(obj) 锁住相关的代码段</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public static void testSynchronized1() {</span><br><span class="line">synchronized (obj) {</span><br><span class="line">Random random = new Random();</span><br><span class="line">for (int i = 0; i &lt; 10; ++i) {</span><br><span class="line">sleep(random.nextInt(1000));</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="BlockingQueue-同步队列"><a href="#BlockingQueue-同步队列" class="headerlink" title="BlockingQueue 同步队列"></a>BlockingQueue 同步队列</h2><h2 id="ThreadLocal"><a href="#ThreadLocal" class="headerlink" title="ThreadLocal"></a>ThreadLocal</h2><p>1.线程局部变量。即使是一个static成员，每个线程访问的变量是不同的。<br>2.常见于web中存储当前用户到一个静态工具类中，在线程的任何地方都可以访问到当前线程的用户。<br>3.参考HostHolder.java里的users</p><h2 id="Executor"><a href="#Executor" class="headerlink" title="Executor"></a>Executor</h2><p>1.提供一个运行任务的框架。<br>2.将任务和如何运行任务解耦。<br>3.常用于提供线程池或定时任务服务<br>ExecutorService service = Executors.newFixedThreadPool(2);service.submit(new Runnable() {@Overridepublic void run() {for (int i = 0; i &lt; 10; ++i) {sleep(1000);System.out.println(“Execute %d” + i);}}});</p><h2 id="Future"><a href="#Future" class="headerlink" title="Future"></a>Future</h2><p>线程间通信<br>1.返回异步结果<br>2.阻塞等待返回结果<br>3.timeout<br>4.获取线程中的Exception</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public static void testFuture() {</span><br><span class="line">ExecutorService service = Executors.newSingleThreadExecutor();</span><br><span class="line">Future&lt;Integer&gt; future = service.submit(new Callable&lt;Integer&gt;() {</span><br><span class="line">@Overridepublic Integer call() throws Exception {sleep(1000);</span><br><span class="line">//throw new IllegalArgumentException("一个异常");</span><br><span class="line">return 1;</span><br><span class="line">}</span><br><span class="line">});</span><br><span class="line">service.shutdown();</span><br><span class="line">try {</span><br><span class="line">System.out.println(future.get());</span><br><span class="line">//System.out.println(future.get(100, TimeUnit.MILLISECONDS));</span><br><span class="line">} catch (Exception e) {</span><br><span class="line">e.printStackTrace();</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3511180315,839779881&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 开发者手册 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot 之 MyBatis集成</title>
      <link href="/2017/07/29/spring-boot-zhi-mybatis-ji-cheng/"/>
      <url>/2017/07/29/spring-boot-zhi-mybatis-ji-cheng/</url>
      
        <content type="html"><![CDATA[<p>MyBatis是现在业界互联网流行的数据操作层框架</p><p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1154627446,327324937&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h1><ol><li>用注解的方法</li><li>先定义一个Dao，和数据库做交互</li><li>注解上写@Mapper： Dao和数据库做一个Mapper</li><li>把@Insert通过一个注解的方式写进去</li><li>写SQL语句，语法有点不同，导进去</li><li>增删改查</li></ol><h1 id="Mysql创建数据库"><a href="#Mysql创建数据库" class="headerlink" title="Mysql创建数据库"></a>Mysql创建数据库</h1><h2 id="创建表user"><a href="#创建表user" class="headerlink" title="创建表user"></a>创建表user</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE IF EXISTS `user`;</span><br><span class="line">CREATE TABLE `user` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `name` varchar(64) NOT NULL,</span><br><span class="line">  `password` varchar(128) NOT NULL COMMENT '密码',</span><br><span class="line">  `salt` varchar(32) not null default '',</span><br><span class="line">  `head_url` varchar(256) not null default '',</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `name_UNIQUE` (`name`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='这是用户表'</span><br></pre></td></tr></tbody></table></figure><h2 id="创建表question"><a href="#创建表question" class="headerlink" title="创建表question"></a>创建表question</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `question` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `title` varchar(255) NOT NULL,</span><br><span class="line">  `content` text,</span><br><span class="line">  `user_id` int(11) NOT NULL,</span><br><span class="line">  `created_date` datetime NOT NULL,</span><br><span class="line">  `comment_count` int(11) NOT NULL,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  KEY `date_index` (`created_date`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8</span><br></pre></td></tr></tbody></table></figure><h1 id="添加pom-xml依赖"><a href="#添加pom-xml依赖" class="headerlink" title="添加pom.xml依赖"></a>添加pom.xml依赖</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;1.1.1&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">&lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></tbody></table></figure><h1 id="添加application-properties配置"><a href="#添加application-properties配置" class="headerlink" title="添加application.properties配置"></a>添加application.properties配置</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spring.datasource.url=jdbc:mysql://localhost:3306/wenda?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false</span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=1621</span><br><span class="line">mybatis.config-location=classpath:mybatis-config.xml</span><br></pre></td></tr></tbody></table></figure><h1 id="Dao层"><a href="#Dao层" class="headerlink" title="Dao层"></a>Dao层</h1><p>先定义一个@Mapper<br>下面就可以写SQL语句了<br>未来扩展：独立数据语句</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Mapper</span><br><span class="line">public interface UserDao {</span><br><span class="line">    //以后数据库有变更，就只要改这里就可以了</span><br><span class="line">    String TABLE_NAME=" user ";</span><br><span class="line">    String INSERT_FIELDS=" name , password ,salt ,head_url ";</span><br><span class="line">    String SELECT_FIELDS=" id,"+ INSERT_FIELDS ;</span><br><span class="line"></span><br><span class="line">    @Insert({"insert into ", TABLE_NAME, "(", INSERT_FIELDS,</span><br><span class="line">            ") values (#{name},#{password},#{salt},#{headUrl})"})</span><br><span class="line">    int addUser(User user);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="User层"><a href="#User层" class="headerlink" title="User层"></a>User层</h1><p>添加与读取<br>set与get</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public class User {</span><br><span class="line">private int id;</span><br><span class="line">private String name;</span><br><span class="line">private String password;</span><br><span class="line">private String salt;</span><br><span class="line">private String headUrl;</span><br><span class="line"></span><br><span class="line">public User(){</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line">public User(String name){</span><br><span class="line">this.name =name;</span><br><span class="line">this.password="";</span><br><span class="line">this.salt="";</span><br><span class="line">this.headUrl="";</span><br><span class="line">}</span><br><span class="line">public String getName(){return name;}</span><br><span class="line">public void setName(String name) {this.name=name;}</span><br><span class="line">public String getPassword() {return password;}</span><br><span class="line">public void setPassword(String password) {this.password=password;}</span><br><span class="line">public String getSalt() {return salt ;}</span><br><span class="line">public void setSalt(String salt ) {this.salt=salt;}</span><br><span class="line">public String getHeadUrl() {return headUrl;}</span><br><span class="line">public void setHeadUrl(String headUrl) {this.headUrl=headUrl;}</span><br><span class="line">public int  getId() {return id;}</span><br><span class="line">public void setId(int id) {this.id=id;}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@RunWith( SpringJUnit4ClassRunner.class)</span><br><span class="line">@SpringApplicationConfiguration(classes = WendaApplication.class)</span><br><span class="line">@Sql("/init-schema.sql")</span><br><span class="line">public class InitDatabaseTests {</span><br><span class="line"></span><br><span class="line">@Autowired</span><br><span class="line">UserDao userDao;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void contextLoads() {</span><br><span class="line">Random random=new Random();</span><br><span class="line"></span><br><span class="line">for(int i=0;i&lt;11;++i){</span><br><span class="line">User user= new User();</span><br><span class="line">user.setHeadUrl(String.format("http://images.nowcoder.com/head/%dt.png",random.nextInt(1000)));</span><br><span class="line">user.setName(String.format("USER%d",i));</span><br><span class="line">user.setPassword("");</span><br><span class="line">user.setSalt("");</span><br><span class="line">userDao.addUser(user);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="数据库写入结果"><a href="#数据库写入结果" class="headerlink" title="数据库写入结果"></a>数据库写入结果</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">id   name   password   salt      head_url     </span><br><span class="line">1USER0http://images.nowcoder.com/head/165t.png</span><br><span class="line">2USER1http://images.nowcoder.com/head/269t.png</span><br><span class="line">3USER2http://images.nowcoder.com/head/961t.png</span><br><span class="line">4USER3http://images.nowcoder.com/head/395t.png</span><br><span class="line">5USER4http://images.nowcoder.com/head/13t.png</span><br><span class="line">6USER5http://images.nowcoder.com/head/84t.png</span><br><span class="line">7USER6http://images.nowcoder.com/head/179t.png</span><br><span class="line">8USER7http://images.nowcoder.com/head/593t.png</span><br><span class="line">9USER8http://images.nowcoder.com/head/77t.png</span><br><span class="line">10USER9http://images.nowcoder.com/head/600t.png</span><br><span class="line">11USER10http://images.nowcoder.com/head/497t.png</span><br></pre></td></tr></tbody></table></figure><h1 id="传入多个参数"><a href="#传入多个参数" class="headerlink" title="传入多个参数"></a>传入多个参数</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@Mapper</span><br><span class="line">public interface QuestionDao {</span><br><span class="line">    String TABLE_NAME = " question ";</span><br><span class="line">    String INSERT_FIELDS = " title, content, created_date, user_id, comment_count ";</span><br><span class="line">    String SELECT_FIELDS = " id, " + INSERT_FIELDS;</span><br><span class="line"></span><br><span class="line">    @Insert({"insert into ", TABLE_NAME, "(", INSERT_FIELDS,</span><br><span class="line">            ") values (#{title},#{content},#{createdDate},#{userId},#{commentCount})"})</span><br><span class="line">    int addQuestion(Question question);</span><br><span class="line"></span><br><span class="line">    List&lt;Question&gt; selectLatestQuestions(@Param("userId") int userId, @Param("offset") int offset,</span><br><span class="line">                                         @Param("limit") int limit);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>QuestionDao.xml</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"</span><br><span class="line">        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" &gt;</span><br><span class="line">&lt;mapper namespace="com.nowcoder.dao.QuestionDao"&gt;</span><br><span class="line">    &lt;sql id="table"&gt;question&lt;/sql&gt;</span><br><span class="line">    &lt;sql id="selectFields"&gt;id, title, content, comment_count,created_date,user_id</span><br><span class="line">    &lt;/sql&gt;</span><br><span class="line">    &lt;select id="selectLatestQuestions" resultType="com.nowcoder.model.Question"&gt;</span><br><span class="line">        SELECT</span><br><span class="line">        &lt;include refid="selectFields"/&gt;</span><br><span class="line">        FROM</span><br><span class="line">        &lt;include refid="table"/&gt;</span><br><span class="line"></span><br><span class="line">        &lt;if test="userId != 0"&gt;</span><br><span class="line">            WHERE user_id = #{userId}</span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        ORDER BY id DESC</span><br><span class="line">        LIMIT #{offset},#{limit}</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></tbody></table></figure><p>测试</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Question question=new Question();</span><br><span class="line">question.setCommentCount(i);</span><br><span class="line">Date date=new Date();</span><br><span class="line">date.setTime(date.getTime()+1000*3600*i);</span><br><span class="line">question.setCreatedDate(date);</span><br><span class="line">question.setUserId(i+1);</span><br><span class="line">question.setTitle(String.format("TITLE{%d}",i));</span><br><span class="line">question.setContent(String.format("Balalalalalalalala Content %d" , i) );</span><br><span class="line">questionDao.addQuestion(question);</span><br></pre></td></tr></tbody></table></figure><p>结果</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1TITLE{0}Balalalalalalalala Content 012017-07-29 20:30:330</span><br><span class="line">2TITLE{1}Balalalalalalalala Content 122017-07-29 21:30:331</span><br><span class="line">3TITLE{2}Balalalalalalalala Content 232017-07-29 22:30:332</span><br><span class="line">4TITLE{3}Balalalalalalalala Content 342017-07-29 23:30:333</span><br><span class="line">5TITLE{4}Balalalalalalalala Content 452017-07-30 00:30:334</span><br><span class="line">6TITLE{5}Balalalalalalalala Content 562017-07-30 01:30:335</span><br><span class="line">7TITLE{6}Balalalalalalalala Content 672017-07-30 02:30:336</span><br><span class="line">8TITLE{7}Balalalalalalalala Content 782017-07-30 03:30:337</span><br><span class="line">9TITLE{8}Balalalalalalalala Content 892017-07-30 04:30:338</span><br><span class="line">10TITLE{9}Balalalalalalalala Content 9102017-07-30 05:30:339</span><br><span class="line">11TITLE{10}Balalalalalalalala Content 10112017-07-30 06:30:3310</span><br></pre></td></tr></tbody></table></figure><p><img src="http://img3.imgtn.bdimg.com/it/u=1530922496,1402123453&amp;fm=11&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot 之 Ioc-Aop</title>
      <link href="/2017/07/29/spring-boot-zhi-ioc-aop/"/>
      <url>/2017/07/29/spring-boot-zhi-ioc-aop/</url>
      
        <content type="html"><![CDATA[<p>非常重要的特性！</p><p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3659295201,1870844406&amp;fm=11&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="Ioc"><a href="#Ioc" class="headerlink" title="Ioc"></a>Ioc</h1><p>依赖注入：<br>无需关注这些变量的初始化，只需要通过注解表示</p><h2 id="Service层服务层"><a href="#Service层服务层" class="headerlink" title="Service层服务层"></a>Service层服务层</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class WendaService {</span><br><span class="line">    public String getMessage(int userId){</span><br><span class="line">        return "Hello Message: " +String.valueOf(userId);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="Controller层"><a href="#Controller层" class="headerlink" title="Controller层"></a>Controller层</h2><p>原本是：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WendaService wendaService=new WendaService();</span><br></pre></td></tr></tbody></table></figure><p>在用的地方依赖注入</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">WendaService wendaService;</span><br></pre></td></tr></tbody></table></figure><p>完整code:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class IndexController {</span><br><span class="line">    @Autowired</span><br><span class="line">    WendaService wendaService;</span><br><span class="line"></span><br><span class="line">    @RequestMapping(path = {"/setting" },method = {RequestMethod.GET})</span><br><span class="line">    @ResponseBody</span><br><span class="line">    public String setting(HttpSession httpSession){</span><br><span class="line">        return "Setting OK. " + wendaService.getMessage(1);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>http://127.0.0.1:8080/setting/</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Setting OK. Hello Message: 1</span><br></pre></td></tr></tbody></table></figure><h1 id="Aop-Log"><a href="#Aop-Log" class="headerlink" title="Aop/Log"></a>Aop/Log</h1><p>面向切面，所有业务都要处理的业务<br>好处：关注系统性能时，可以查看每个方法调用多少次，每个方法调用时间，额外注释，数据记录统计等都非常方便！</p><h2 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="aspect"><a href="#aspect" class="headerlink" title="aspect"></a>aspect</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">@Aspect</span><br><span class="line">public class LogAspect {</span><br><span class="line">    private static final Logger logger= LoggerFactory.getLogger(LogAspect.class);</span><br><span class="line">    @Before("execution(* com.nowcoder.controller.IndexController.*(..))")</span><br><span class="line">    public void beforeMethod(){</span><br><span class="line">        logger.info("before method");</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @After("execution(* com.nowcoder.controller.IndexController.*(..))")</span><br><span class="line">    public void afterMethod(){</span><br><span class="line">        logger.info("after method");</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>调用IndexController.class前后会执行切面代码</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \</span><br><span class="line"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  '  |____| .__|_| |_|_| |_\__, | / / / /</span><br><span class="line"> =========|_|==============|___/=/_/_/_/</span><br><span class="line"> :: Spring Boot ::        (v1.3.6.RELEASE)</span><br><span class="line"></span><br><span class="line">2017-07-29 09:00:17.625  INFO 5652 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'</span><br><span class="line">2017-07-29 09:00:17.625  INFO 5652 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started</span><br><span class="line">2017-07-29 09:00:17.635  INFO 5652 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 10 ms</span><br><span class="line">2017-07-29 09:00:17.655  INFO 5652 --- [nio-8080-exec-1] com.nowcoder.aspect.LogAspect            : before method</span><br><span class="line">2017-07-29 09:00:17.657  INFO 5652 --- [nio-8080-exec-1] com.nowcoder.aspect.LogAspect            : after method</span><br></pre></td></tr></tbody></table></figure><p><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=728688327,4195684297&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot 之 HelloWorld详解</title>
      <link href="/2017/07/28/spring-boot-zhi-helloworld-xiang-jie/"/>
      <url>/2017/07/28/spring-boot-zhi-helloworld-xiang-jie/</url>
      
        <content type="html"><![CDATA[<p>SpringBoot介绍~&lt;暂时假装有&gt;</p><p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2911227163,188786552&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span><br><span class="line">xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;</span><br><span class="line">&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">&lt;groupId&gt;com.nowcoder&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;wenda&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;</span><br><span class="line">&lt;packaging&gt;jar&lt;/packaging&gt;</span><br><span class="line"></span><br><span class="line">&lt;name&gt;wenda&lt;/name&gt;</span><br><span class="line">&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;</span><br><span class="line"></span><br><span class="line">&lt;parent&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;1.3.6.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;</span><br><span class="line">&lt;/parent&gt;</span><br><span class="line"></span><br><span class="line">&lt;properties&gt;</span><br><span class="line">&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</span><br><span class="line">&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;</span><br><span class="line">&lt;java.version&gt;1.8&lt;/java.version&gt;</span><br><span class="line">&lt;/properties&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependencies&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">&lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line">&lt;build&gt;</span><br><span class="line">&lt;plugins&gt;</span><br><span class="line">&lt;plugin&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br><span class="line">&lt;/plugins&gt;</span><br><span class="line">&lt;/build&gt;</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></tbody></table></figure><h1 id="Controller层"><a href="#Controller层" class="headerlink" title="Controller层"></a>Controller层</h1><h2 id="简单Hello输出"><a href="#简单Hello输出" class="headerlink" title="简单Hello输出"></a>简单Hello输出</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class IndexController {</span><br><span class="line">@RequestMapping(path = {"/","/index"})</span><br><span class="line">@ResponseBody</span><br><span class="line">    public String index(){</span><br><span class="line">        return "Hello";</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>访问：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8080/index</span><br><span class="line">http://127.0.0.1:8080/</span><br></pre></td></tr></tbody></table></figure><p>输出：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br></pre></td></tr></tbody></table></figure><h2 id="参数解析输出"><a href="#参数解析输出" class="headerlink" title="参数解析输出"></a>参数解析输出</h2><p>路径传递</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class IndexController {</span><br><span class="line">@RequestMapping(path = {"/","/index"})</span><br><span class="line">@ResponseBody</span><br><span class="line">    public String index(){</span><br><span class="line">        return "Hello";</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @RequestMapping(path = {"/profile/{userId}"})</span><br><span class="line">    @ResponseBody</span><br><span class="line">    public String profile(@PathVariable("userId")  int  userId ){</span><br><span class="line">        return String.format("Profile Page of %d",userId);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>访问<code>http://127.0.0.1:8080/profile/2</code> ：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Profile Page of 2</span><br></pre></td></tr></tbody></table></figure><h2 id="参数解析输出例2"><a href="#参数解析输出例2" class="headerlink" title="参数解析输出例2"></a>参数解析输出例2</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(path = {"/profile/{groupId}/{userId}"})</span><br><span class="line">@ResponseBody</span><br><span class="line">public String profile(@PathVariable("userId")  int  userId ,</span><br><span class="line">                      @PathVariable("groupId")  String  groupId ){</span><br><span class="line">    return String.format("Profile Page of %s / %d",groupId,userId);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p>访问<code>http://127.0.0.1:8080/profile/admin/10086</code> </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Profile Page of admin / 10086</span><br></pre></td></tr></tbody></table></figure><h2 id="eg3请求参数传递"><a href="#eg3请求参数传递" class="headerlink" title="eg3请求参数传递"></a>eg3请求参数传递</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(path = {"/profile/{groupId}/{userId}"})</span><br><span class="line">@ResponseBody</span><br><span class="line">public String profile(@PathVariable("userId")  int  userId ,</span><br><span class="line">                      @PathVariable("groupId")  String  groupId ,</span><br><span class="line">                      @RequestParam("type")  int  type ,</span><br><span class="line">                      @RequestParam("key")  String  key ){</span><br><span class="line">    return String.format("Profile Page of %s / %d , t:%d k:%s",groupId,userId,type,key);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>访问<code>http://127.0.0.1:8080/profile/admin/10086?type=2&amp;key=w</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Profile Page of admin / 10086 , t:2 k:w</span><br></pre></td></tr></tbody></table></figure><h1 id="模板Velocity使用"><a href="#模板Velocity使用" class="headerlink" title="模板Velocity使用"></a>模板Velocity使用</h1><p>controller </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(path = {"/vm"},method = {RequestMethod.GET})</span><br><span class="line">public String template(Model model){</span><br><span class="line">    model.addAttribute("value1","vvvv1");</span><br><span class="line">    return "home";</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>指向home.html 渲染</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;pre&gt;</span><br><span class="line">    #*</span><br><span class="line">    你看不到我~~~~</span><br><span class="line">    *#</span><br><span class="line">    $!{value1}</span><br><span class="line">    $!{value2} ## 如果不存在，强制为空</span><br><span class="line">    ${value3}</span><br><span class="line">&lt;/pre&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></tbody></table></figure><p>依赖</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter-velocity&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></tbody></table></figure><p>application.properties 配置</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.velocity.suffix=.html</span><br></pre></td></tr></tbody></table></figure><p>访问<code>http://127.0.0.1:8080/vm</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vvvv1</span><br><span class="line">     ${value3}</span><br></pre></td></tr></tbody></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ol><li>@Controller 注释来定义说这是一个网页入口</li><li>@RequestMapping 指定访问地址or传入参数</li><li>用@PathVariable和@RequestParam对传入参数做解析</li><li>用@ResponseBody or 模板文件 返回结果</li></ol><p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2796235416,419635037&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构与算法</title>
      <link href="/2017/07/27/shu-ju-jie-gou-yu-suan-fa/"/>
      <url>/2017/07/27/shu-ju-jie-gou-yu-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>一些基本的数据结构与算法<br><img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2397328751,2564344221&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">(1)数组 (Array)</span><br><span class="line"></span><br><span class="line">    在程序设计中，为了处理方便， 把具有相同类型的若干变量按有序的形式组织起来。</span><br><span class="line">    这些按序排列的同类数据元素的集合称为数组。</span><br><span class="line">    在Ｃ语言中， 数组属于构造数据类型。</span><br><span class="line">    一个数组可以分解为多个数组元素，这些数组元素可以是基本数据类型或是构造类型。</span><br><span class="line">    因此按数组元素的类型不同，数组又可分为数值数组、字符数组、指针数组、结构数组等各种类别。</span><br><span class="line"></span><br><span class="line">(2)栈 (Stack)</span><br><span class="line"></span><br><span class="line">    是只能在某一端插入和删除的特殊线性表。</span><br><span class="line">    它按照后进先出的原则存储数据，先进入的数据被压入栈底，最后的数据在栈顶，</span><br><span class="line">    需要读数据的时候从栈顶开始弹出数据（最后一个数据被第一个读出来）。</span><br><span class="line"></span><br><span class="line">(3)队列 (Queue)</span><br><span class="line"></span><br><span class="line">    一种特殊的线性表，它只允许在表的前端（front）进行删除操作，而在表的后端（rear）进行插入操作。</span><br><span class="line">    进行插入操作的端称为队尾，进行删除操作的端称为队头。队列中没有元素时，称为空队列。</span><br><span class="line"></span><br><span class="line">(4)链表 (Linked List)</span><br><span class="line"></span><br><span class="line">    是一种物理存储单元上非连续、非顺序的存储结构，数据元素的逻辑顺序是通过链表中的指针链接次序实现的。</span><br><span class="line">    链表由一系列结点（链表中每一个元素称为结点）组成，结点可以在运行时动态生成。</span><br><span class="line">    每个结点包括两个部分：一个是存储数据元素的数据域，另一个是存储下一个结点地址的指针域。</span><br><span class="line"></span><br><span class="line">(5)树 (Tree)</span><br><span class="line"></span><br><span class="line">    是包含n（n&gt;0）个结点的有穷集合K，且在K中定义了一个关系N，N满足 以下条件： </span><br><span class="line"></span><br><span class="line">    （1）有且仅有一个结点 k0，他对于关系N来说没有前驱，称K0为树的根结点。简称为根（root）。</span><br><span class="line"></span><br><span class="line">    （2）除K0外，k中的每个结点，对于关系N来说有且仅有一个前驱。</span><br><span class="line"></span><br><span class="line">    （3）K中各结点，对关系N来说可以有m个后继（m&gt;=0）。</span><br><span class="line"></span><br><span class="line">(6)图 (Graph)</span><br><span class="line"></span><br><span class="line">    图是由结点的有穷集合V和边的集合E组成。</span><br><span class="line">    其中，为了与树形结构加以区别，在图结构中常常将结点称为顶点，边是顶点的有序偶对，</span><br><span class="line">    若两个顶点之间存在一条边，就表示这两个顶点具有相邻关系。</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h1><h2 id="定义结点"><a href="#定义结点" class="headerlink" title="定义结点"></a>定义结点</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Node {</span><br><span class="line">    Node next=null;</span><br><span class="line">    int data;</span><br><span class="line">    public Node (int data){</span><br><span class="line">        this.data=data;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="找单链表中倒数第K个元素"><a href="#找单链表中倒数第K个元素" class="headerlink" title="找单链表中倒数第K个元素"></a>找单链表中倒数第K个元素</h2><p>一次遍历的方法：<br>用2个指针，第一个指针先走K步；<br>然后2个指针一起走；<br>直到第一个指针到达尾部。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public Node findElem(Node head,int k){</span><br><span class="line">  if(k&lt;1||k&gt;this.length()){</span><br><span class="line">      return null;</span><br><span class="line">  }</span><br><span class="line">  Node p1=head;</span><br><span class="line">  Node p2=head;</span><br><span class="line">  for(int i=0;i&lt;k-1;i++){</span><br><span class="line">      p1=p1.next;</span><br><span class="line">  }</span><br><span class="line">  while (p1!=null){</span><br><span class="line">      p1=p1.next;</span><br><span class="line">      p2=p2.next;</span><br><span class="line">  }</span><br><span class="line">  return p2;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><h2 id="从链表中删除重复数据"><a href="#从链表中删除重复数据" class="headerlink" title="从链表中删除重复数据"></a>从链表中删除重复数据</h2><p>方法1：HashTable<br>需要额外存储空间<br>时间复杂度较低</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public void deleteDuplecate(Node head){</span><br><span class="line">    Hashtable&lt;Integer,Integer&gt; table = new Hashtable&lt;Integer,Integer&gt;();</span><br><span class="line">    Node tmp=head;</span><br><span class="line">    Node pre=null;</span><br><span class="line">    while (tmp!=null){</span><br><span class="line">        if(table.containsKey(tmp.data)){</span><br><span class="line">            pre.next=temp.next;</span><br><span class="line">        }else {</span><br><span class="line">            table.put(tmp.data,1);</span><br><span class="line">            pre=tmp;</span><br><span class="line">        }</span><br><span class="line">    tmp=tmp.next;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>方法2：双指针法<br>对链表进行双重循环<br>外循环正常遍历链表，当前设为cur<br>内循环从cur开始遍历<br>若遇到与cur所指向结点值相同<br>则删除这个结点</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public void deleteDuplecate(Node head){</span><br><span class="line">   Node cur=head;</span><br><span class="line">   while(cur!=null){</span><br><span class="line">       Node q=cur;</span><br><span class="line">       while(q.next!=null){</span><br><span class="line">           if(cur.data==q.next.data){</span><br><span class="line">               q.next=q.next.next;</span><br><span class="line">           }else {</span><br><span class="line">               q=q.next;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       cur=cur.next;</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="在不知道头指针的情况下删除指定结点"><a href="#在不知道头指针的情况下删除指定结点" class="headerlink" title="在不知道头指针的情况下删除指定结点"></a>在不知道头指针的情况下删除指定结点</h2><ol><li>若待删除结点为链表尾结点，则无法删除，因为前驱next指针为空</li><li>若删除不是尾结点，则先交换该节点和后继结点，再删除！<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public boolean deleteNode(Node n){</span><br><span class="line">    if(n==null || n.next==null){</span><br><span class="line">        return false;</span><br><span class="line">    }</span><br><span class="line">    int temp=n.data;</span><br><span class="line">    n.data=n.next.data;</span><br><span class="line">    n.next.data=temp;     //先交换当前与后继data</span><br><span class="line">    n.next=n.next.next;    //再指向下下结点</span><br><span class="line">    return true;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol><h2 id="判断两个链表是否相交"><a href="#判断两个链表是否相交" class="headerlink" title="判断两个链表是否相交"></a>判断两个链表是否相交</h2><p>如果两个链表相交，那么他们一定有着相同的尾结点。<br>分别遍历两个链表，记录他们的尾结点，如果他们的尾结点相同，那么这两个链表相交，否则不相交。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public boolean isIntersect (Node h1, Node h2){</span><br><span class="line">    if(h1==null || h2==null){</span><br><span class="line">        return false;</span><br><span class="line">    }</span><br><span class="line">    //遍历链表 1</span><br><span class="line">    Node tail1=h1;</span><br><span class="line">    while (tail1.next!=null){</span><br><span class="line">        tail1=tail1.next;</span><br><span class="line">    }</span><br><span class="line">    //遍历链表 2</span><br><span class="line">    Node tail2=h2;</span><br><span class="line">    while (tail2.next!=null){</span><br><span class="line">        tail2=tail2.next;</span><br><span class="line">    }</span><br><span class="line">    return tail1==tail2;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="检测一个链表是否有环"><a href="#检测一个链表是否有环" class="headerlink" title="检测一个链表是否有环"></a>检测一个链表是否有环</h2><p>fast每次进2<br>slow每次进1<br><img src="http://images.cnitblog.com/i/466768/201404/162209501501814.png" alt=""></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isLoop</span><span class="params">(Node head)</span></span>{</span><br><span class="line">    Node fast=head;</span><br><span class="line">    Node slow=head;</span><br><span class="line">    <span class="keyword">if</span>(fast==<span class="keyword">null</span>){</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果无环，就总会到尾巴然后退出</span></span><br><span class="line">    <span class="comment">//如果有环，就总会追上</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (fast!=<span class="keyword">null</span> &amp;&amp; fast.next!=<span class="keyword">null</span>){</span><br><span class="line">        fast=fast.next.next;</span><br><span class="line">        slow=slow.next;</span><br><span class="line">        <span class="keyword">if</span>(fast==slow){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> !(fast==<span class="keyword">null</span> &amp;&amp; fast.next==<span class="keyword">null</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="栈和队列"><a href="#栈和队列" class="headerlink" title="栈和队列"></a>栈和队列</h1><h2 id="实现栈"><a href="#实现栈" class="headerlink" title="实现栈"></a>实现栈</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack</span>&lt;<span class="title">E</span>&gt;</span>{</span><br><span class="line">    <span class="keyword">private</span> Object[] stack;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyStack</span><span class="params">()</span></span>{</span><br><span class="line">        stack=<span class="keyword">new</span> Object[<span class="number">10</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断堆栈是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> size==<span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">peek</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(isEmpty()){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> (E) stack[size-<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">pop</span><span class="params">()</span></span>{</span><br><span class="line">        E e=peek();</span><br><span class="line">        stack[size-<span class="number">1</span>]=<span class="keyword">null</span>;</span><br><span class="line">        size--;</span><br><span class="line">        <span class="keyword">return</span> e;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">push</span><span class="params">(E item)</span></span>{</span><br><span class="line">        ensureCapacity(size+<span class="number">1</span>);<span class="comment">//检查容器</span></span><br><span class="line">        stack[size++]=item;</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判断数组是否已满，若满，则扩容</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacity</span><span class="params">(<span class="keyword">int</span> size)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> len=stack.length;</span><br><span class="line">        <span class="keyword">if</span>(size&gt;len){</span><br><span class="line">            <span class="keyword">int</span> newlen=<span class="number">10</span>;<span class="comment">//每次扩容10</span></span><br><span class="line">            stack= Arrays.copyOf(stack,newlen);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="用O-1-的时间复杂度求栈中最小元素"><a href="#用O-1-的时间复杂度求栈中最小元素" class="headerlink" title="用O(1)的时间复杂度求栈中最小元素"></a>用O(1)的时间复杂度求栈中最小元素</h2><p>栈–后进先出<br>因此pop和push只对栈顶元素进行操作<br>使用两个栈结构，一个栈用来存储数据<br>另一个栈用来存储栈的最小元素</p><ol><li>入栈<br>当前入栈元素比之前栈中最小值还小，则压入最小栈中</li><li>出栈<br>如果当前出栈的元素是最小值，则把最小值栈的最小值也出栈，留下的就是栈的第二小值成了最小值<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack1</span></span>{</span><br><span class="line">    MyStack&lt;Integer&gt; elem;</span><br><span class="line">    MyStack&lt;Integer&gt; min;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyStack1</span><span class="params">()</span></span>{</span><br><span class="line">        elem=<span class="keyword">new</span> MyStack&lt;Integer&gt;();</span><br><span class="line">        min = <span class="keyword">new</span> MyStack&lt;Integer&gt;();</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> data)</span></span>{</span><br><span class="line">        elem.push(data);</span><br><span class="line">        <span class="keyword">if</span>(min.isEmpty()){</span><br><span class="line">            min.push(data);</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(data&lt;min.peek()){</span><br><span class="line">            min.push(data);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> topData = elem.peek();</span><br><span class="line">        elem.pop();</span><br><span class="line">        <span class="keyword">if</span> (topData == <span class="keyword">this</span>.min()) {</span><br><span class="line">            min.pop();</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> topData;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">()</span></span>{</span><br><span class="line">            <span class="keyword">if</span>(min.isEmpty()){</span><br><span class="line">                <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">return</span> min.peek();</span><br><span class="line">            }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol><h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><h1 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h1><h2 id="用移位操作实现乘法运算"><a href="#用移位操作实现乘法运算" class="headerlink" title="用移位操作实现乘法运算"></a>用移位操作实现乘法运算</h2><p>把一个数向左移动n位相当于把该数乘以2的n次方</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"m :  "</span>);</span><br><span class="line">        <span class="keyword">int</span> m = scanner.nextInt();</span><br><span class="line">        System.out.println(<span class="string">"n :  "</span>);</span><br><span class="line">        <span class="keyword">int</span> n= scanner.nextInt();</span><br><span class="line">        System.out.println(powerN(m,n));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">powerN</span><span class="params">(<span class="keyword">int</span> m,<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n ; i++ ){</span><br><span class="line">            m=m&lt;&lt;<span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="判断一个数是否为2的n次方"><a href="#判断一个数是否为2的n次方" class="headerlink" title="判断一个数是否为2的n次方"></a>判断一个数是否为2的n次方</h2><p>最直观的方法—直接递增对比</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"m :  "</span>);</span><br><span class="line">        <span class="keyword">int</span> m = scanner.nextInt();</span><br><span class="line"></span><br><span class="line">        System.out.println(power2(m));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">power2</span><span class="params">(<span class="keyword">int</span> m)</span></span>{</span><br><span class="line">      <span class="keyword">if</span>(m&lt;<span class="number">1</span>)</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i&lt;=m){</span><br><span class="line">            <span class="keyword">if</span>(i==m)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            i=i&lt;&lt;<span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>效率更高的方法<br>2的n次方，二进制中只有一个1，所以用 m&amp;(m-1) 就可以判断了</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num=m&amp;(m-<span class="number">1</span>)；</span><br><span class="line"><span class="keyword">return</span> num==<span class="number">0</span>;</span><br></pre></td></tr></tbody></table></figure><h2 id="二进制中1的个数"><a href="#二进制中1的个数" class="headerlink" title="二进制中1的个数"></a>二进制中1的个数</h2><p>首先判断最后一位是否为1，是，则计数加1；<br>然后右移丢弃最后一位</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"m :  "</span>);</span><br><span class="line">        <span class="keyword">int</span> m = scanner.nextInt();</span><br><span class="line"></span><br><span class="line">        System.out.println(countOne(m));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">countOne</span><span class="params">(<span class="keyword">int</span> m)</span></span>{</span><br><span class="line">     <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">     <span class="keyword">while</span> (m&gt;<span class="number">0</span>){</span><br><span class="line">         <span class="keyword">if</span>((m&amp;<span class="number">1</span>)==<span class="number">1</span>){</span><br><span class="line">             count++;</span><br><span class="line">         }</span><br><span class="line">         m&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">return</span> count;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>更好的方法<br>每与一次都消除1个1<br>eg:  1100<br>1100 &amp; 1011 = 1000 ,  conut = 1<br>1000 &amp; 0111 = 0000 , count = 2</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"m :  "</span>);</span><br><span class="line">        <span class="keyword">int</span> m = scanner.nextInt();</span><br><span class="line"></span><br><span class="line">        System.out.println(countOne(m));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">countOne</span><span class="params">(<span class="keyword">int</span> m)</span></span>{</span><br><span class="line">     <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">     <span class="keyword">while</span> (m&gt;<span class="number">0</span>){</span><br><span class="line">         <span class="keyword">if</span>(m!=<span class="number">0</span>){</span><br><span class="line">             m=m&amp;(m-<span class="number">1</span>);</span><br><span class="line">             count++;</span><br><span class="line">         }</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">return</span> count;</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="判断一个数组中数值是否连续相邻"><a href="#判断一个数组中数值是否连续相邻" class="headerlink" title="判断一个数组中数值是否连续相邻"></a>判断一个数组中数值是否连续相邻</h2><p>一个数组序列</p><p>元素取值范围为0-65535</p><p>相同数值不会重复出现</p><p>0可以反复出现</p><p>设计一种算法，从数组中随机选取5个数值，判断这5个数值是否连续相邻</p><p>注意：</p><ol><li>5个数值允许是乱序的，如{8,7,5,0,6}</li><li>0可以通配任意数值</li><li>0可以多次出现</li><li>全0算连续，只有一个非0算连续</li></ol><p>思路：</p><ol><li>如果没有0的存在，最大值与最小值相差必须等于4</li><li>如果0存在，则最大和最小相差小于4</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">IsContinuous</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> min=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> max=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(array[i]!=<span class="number">0</span>) {</span><br><span class="line">                <span class="keyword">if</span> (max &lt; array[i] || max == -<span class="number">1</span>) {</span><br><span class="line">                    max = array[i];</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span> (min &gt; array[i] || min == -<span class="number">1</span>) {</span><br><span class="line">                    min = array[i];</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> (max-min)&lt;=<span class="number">4</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] array = {<span class="number">8</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>};</span><br><span class="line">        <span class="keyword">int</span> k=<span class="number">2</span>;</span><br><span class="line">        System.out.print(IsContinuous(array));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="寻找数组中的最小值与最大值"><a href="#寻找数组中的最小值与最大值" class="headerlink" title="寻找数组中的最小值与最大值"></a>寻找数组中的最小值与最大值</h2><p>取双元素法<br>维持两个全局变量Max，Min<br>每次比较相连两个数<br>将最大与Max比<br>将最小与Min比<br>遍历<br>比较次数为1.5N</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> Max=Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> Min=Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GetMaxandMin</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i += <span class="number">2</span>) {</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span> &gt; array.length - <span class="number">1</span>) {</span><br><span class="line">                <span class="keyword">if</span> (array[i] &gt; Max)</span><br><span class="line">                    Max = array[i];</span><br><span class="line">                <span class="keyword">if</span> (array[i] &lt; Min)</span><br><span class="line">                    Min = array[i];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (array[i] &gt; array[i + <span class="number">1</span>]) {</span><br><span class="line">                    <span class="keyword">if</span> (array[i] &gt; Max)</span><br><span class="line">                        Max = array[i];</span><br><span class="line">                    <span class="keyword">if</span> (array[i + <span class="number">1</span>] &lt; Min)</span><br><span class="line">                        Min = array[i + <span class="number">1</span>];</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (array[i] &lt; array[i + <span class="number">1</span>]) {</span><br><span class="line">                    <span class="keyword">if</span> (array[i + <span class="number">1</span>] &gt; Max)</span><br><span class="line">                        Max = array[i + <span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (array[i] &lt; Min)</span><br><span class="line">                        Min = array[i];</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">    <span class="comment">//int [] array= {3,5,6,8,1,4,2};</span></span><br><span class="line">        <span class="keyword">int</span> [] array= {<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>};</span><br><span class="line">    GetMaxandMin(array);</span><br><span class="line">    System.out.println(<span class="string">"Max = "</span>+ Max);</span><br><span class="line">    System.out.println(<span class="string">"Min = "</span>+ Min);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="求最大子数组之和"><a href="#求最大子数组之和" class="headerlink" title="求最大子数组之和"></a>求最大子数组之和</h2><p>连续子数组，输出最大连续子数组之和</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] maxSubArray(<span class="keyword">int</span>[] array) {</span><br><span class="line">        <span class="keyword">int</span> begin = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> end = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> nStart = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">int</span> nSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) {</span><br><span class="line">            <span class="keyword">if</span> (nSum &lt; <span class="number">0</span>) {</span><br><span class="line">                nSum = array[i];</span><br><span class="line">                nStart = i;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                nSum += array[i];</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (nSum &gt; max) {</span><br><span class="line">                max = nSum;</span><br><span class="line">                begin = nStart;</span><br><span class="line">                end = i;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span>[] num = {begin, end};</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> [] array= {<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,-<span class="number">24</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>};</span><br><span class="line">       <span class="comment">// int [] array= {3,5,6};</span></span><br><span class="line">   <span class="keyword">int</span> [] num=maxSubArray(array);</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i=num[<span class="number">0</span>];i&lt;=num[<span class="number">1</span>];i++)</span><br><span class="line">    System.out.println(array[i]);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="找出数组中重复元素最多的数"><a href="#找出数组中重复元素最多的数" class="headerlink" title="找出数组中重复元素最多的数"></a>找出数组中重复元素最多的数</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findMostFreInArray</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>{</span><br><span class="line">     Map&lt;Integer ,Integer &gt; map=<span class="keyword">new</span> HashMap&lt;Integer,Integer&gt;();</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++){</span><br><span class="line">         <span class="keyword">if</span> (map.containsKey(array[i])) {</span><br><span class="line">             map.put(array[i],map.get(array[i])+<span class="number">1</span>);</span><br><span class="line">         }<span class="keyword">else</span> {</span><br><span class="line">             map.put(array[i],<span class="number">1</span>);</span><br><span class="line">         }</span><br><span class="line">         }</span><br></pre></td></tr></tbody></table></figure><h2 id="找出数组中只出现一次的数字"><a href="#找出数组中只出现一次的数字" class="headerlink" title="找出数组中只出现一次的数字"></a>找出数组中只出现一次的数字</h2><p>一个数组中除了一个数字外，其他数字都出现了2次。</p><p>异或运算：任何数字异或它自己都等于0</p><p>如果从头到尾异或，那么最后得到的结果就是那个单一数字，其余都被抵消！</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">findNotDouble</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> num = array[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; array.length; i++) {</span><br><span class="line">            num ^= array[i];</span><br><span class="line">        }</span><br><span class="line">       <span class="keyword">return</span> num;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] array = {<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">76</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">76</span>};</span><br><span class="line">        <span class="keyword">int</span> num = findNotDouble(array);</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="求数组中两两相加等于20的组合种数"><a href="#求数组中两两相加等于20的组合种数" class="headerlink" title="求数组中两两相加等于20的组合种数"></a>求数组中两两相加等于20的组合种数</h2><p>先排序</p><p>begin</p><p>end</p><p>同时遍历</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">findNotDouble</span><span class="params">(<span class="keyword">int</span>[] array,<span class="keyword">int</span> p)</span> </span>{</span><br><span class="line">        Arrays.sort(array);</span><br><span class="line">        <span class="keyword">int</span> begin=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> end=array.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (begin&lt;end){</span><br><span class="line">            <span class="keyword">if</span> (array[begin]+array[end]==p) {</span><br><span class="line">                System.out.println(array[begin]+<span class="string">","</span>+array[end]);</span><br><span class="line">                begin++;</span><br><span class="line">                end--;</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span>(array[begin]+array[end]&gt;p){</span><br><span class="line">                end--;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                begin++;</span><br><span class="line">            }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] array = {<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">76</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">17</span>,<span class="number">16</span>,<span class="number">76</span>};</span><br><span class="line">        <span class="keyword">int</span> point=<span class="number">20</span>;</span><br><span class="line">        findNotDouble(array,point);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="把一个数组循环右移k位"><a href="#把一个数组循环右移k位" class="headerlink" title="把一个数组循环右移k位"></a>把一个数组循环右移k位</h2><p>把<code>12345678</code>右移2位</p><p>得到<code>78123456</code></p><p>把<code>78</code> 和<code>123456</code> 看成2个整体,右移k位就是把两部分交换。</p><p>只进行三次逆序操作，时间复杂度为O（n）。</p><ol><li>逆序数组子序列123456，变成65432178</li><li>逆序78，变成65432187</li><li>全部逆序，变成78123456</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] array,<span class="keyword">int</span> p)</span> </span>{</span><br><span class="line">      reverpart(array,<span class="number">0</span>,array.length-p-<span class="number">1</span>);</span><br><span class="line">      reverpart(array,array.length-p,array.length-<span class="number">1</span>);</span><br><span class="line">      reverpart(array,<span class="number">0</span>,array.length-<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reverpart</span><span class="params">(<span class="keyword">int</span> [] arr,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> temp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (a&lt;b){</span><br><span class="line">            temp=arr[a];</span><br><span class="line">            arr[a]=arr[b];</span><br><span class="line">            arr[b]=temp;</span><br><span class="line">            a++;</span><br><span class="line">            b--;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] array = {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>};</span><br><span class="line">        <span class="keyword">int</span> point=<span class="number">2</span>;</span><br><span class="line">        reverse(array,point);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length;i++){</span><br><span class="line">            System.out.print(array[i]+<span class="string">" "</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><h2 id="实现字符串的反转"><a href="#实现字符串的反转" class="headerlink" title="实现字符串的反转"></a>实现字符串的反转</h2><p><code>how are you</code></p><p><code>you are how</code></p><p>两次反转过程</p><p><code>how are you</code></p><p><code>uoy era woh</code></p><p><code>you are how</code></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">List</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">        String str=<span class="string">"how are you"</span>;</span><br><span class="line">        System.out.println(swapword(str));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> String <span class="title">swapword</span><span class="params">(String str)</span></span>{</span><br><span class="line">        <span class="keyword">char</span> [] cStr=str.toCharArray();</span><br><span class="line">        swap(cStr,<span class="number">0</span>,cStr.length-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span>  begin=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> end=<span class="number">1</span>;end&lt;cStr.length;end++){</span><br><span class="line">            <span class="keyword">if</span>(cStr[end]==<span class="string">' '</span>){</span><br><span class="line">                swap(cStr,begin,end-<span class="number">1</span>);</span><br><span class="line">                begin=end+<span class="number">1</span>;</span><br><span class="line">                end++;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(end==cStr.length-<span class="number">1</span>){</span><br><span class="line">                swap(cStr,begin,end);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(cStr);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">char</span> [] str,<span class="keyword">int</span> n ,<span class="keyword">int</span> m)</span></span>{</span><br><span class="line">        <span class="keyword">while</span> (n&lt;m){</span><br><span class="line">            <span class="keyword">char</span> temp=str[n];</span><br><span class="line">            str[n]=str[m];</span><br><span class="line">            str[m]=temp;</span><br><span class="line">            n++;</span><br><span class="line">            m--;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="判断两个字符串是否由相同字符组成"><a href="#判断两个字符串是否由相同字符组成" class="headerlink" title="判断两个字符串是否由相同字符组成"></a>判断两个字符串是否由相同字符组成</h2><p><code>aaaabbc</code>和<code>abcbaaa</code>是不是相同的字符组成</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">List</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">        String str1=<span class="string">"aaaabbce"</span>;</span><br><span class="line">        String str2=<span class="string">"abcbaaad"</span>;</span><br><span class="line">        System.out.println(compare(str1,str2));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">compare</span><span class="params">(String str1,String str2)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] num=<span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">256</span>];</span><br><span class="line">        <span class="keyword">int</span> str1len=str1.length()-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> str2len=str2.length()-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (str1len&gt;=<span class="number">0</span>){</span><br><span class="line">           <span class="comment">// char temp=str1.charAt(0);</span></span><br><span class="line">            num[str1.charAt(str1len)]++;</span><br><span class="line">            str1len--;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (str2len&gt;=<span class="number">0</span>){</span><br><span class="line">            <span class="comment">// char temp=str1.charAt(0);</span></span><br><span class="line">            num[str2.charAt(str2len)]--;</span><br><span class="line">            str2len--;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(num[i]!=<span class="number">0</span>){</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="删除字符串中重复的字符"><a href="#删除字符串中重复的字符" class="headerlink" title="删除字符串中重复的字符"></a>删除字符串中重复的字符</h2><p>简单的用数组[256]去判断</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">List</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">        String str1=<span class="string">"aaaabbce"</span>;</span><br><span class="line">        System.out.println(removeDuplicate(str1));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> String <span class="title">removeDuplicate</span><span class="params">(String str)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] num=<span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">256</span>];</span><br><span class="line">        <span class="keyword">char</span> [] cStr=<span class="keyword">new</span> <span class="keyword">char</span>[str.length()];</span><br><span class="line">        <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++){</span><br><span class="line">            <span class="keyword">if</span>(num[str.charAt(i)]==<span class="number">0</span>){</span><br><span class="line">                num[str.charAt(i)]++;</span><br><span class="line">                cStr[j++]=str.charAt(i);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(cStr,<span class="number">0</span>,j);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="统计一行字符中有多少个单词"><a href="#统计一行字符中有多少个单词" class="headerlink" title="统计一行字符中有多少个单词"></a>统计一行字符中有多少个单词</h2><p>用一个count</p><p>字母前有空格，则表示单词开始 count++</p><p>字母前还是字母，则还没结束该单词</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">List</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">        String str1=<span class="string">"how are you"</span>;</span><br><span class="line">        System.out.println(wordCount(str1));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">wordCount</span><span class="params">(String str)</span></span>{</span><br><span class="line">       <span class="keyword">int</span> count =<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">       <span class="keyword">for</span>(;i&lt;str.length();i++){</span><br><span class="line">           <span class="keyword">if</span>(str.charAt(i-<span class="number">1</span>)!=<span class="string">' '</span>&amp;&amp;str.charAt(i)==<span class="string">' '</span>){</span><br><span class="line">               count++;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">if</span>( str.charAt(i-<span class="number">1</span>)!=<span class="string">' '</span>){</span><br><span class="line">           count++;</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> count;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h1><p><img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1983704611,3609657508&amp;fm=26&amp;gp=0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书籍 </tag>
            
            <tag> 数据结构 </tag>
            
            <tag> Java程序员面试笔试宝典 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Draw</title>
      <link href="/2017/07/23/java-draw/"/>
      <url>/2017/07/23/java-draw/</url>
      
        <content type="html"><![CDATA[<p>Java绘图基础！<br><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1501417779&amp;di=1b7bb238ccf0eada0f82bcaad7a98ca2&amp;imgtype=jpg&amp;er=1&amp;src=http%3A%2F%2Ftupian.enterdesk.com%2Fuploadfile%2F2014%2F0809%2F20140809103712945.jpg.200.150.jpg" alt=""></p><a id="more"></a><h1 id="简单绘画"><a href="#简单绘画" class="headerlink" title="简单绘画"></a>简单绘画</h1><p>直线<br>矩形<br>圆<br>根据矩阵画图</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">package com.zhoudm;</span><br><span class="line">import java.awt.*;</span><br><span class="line">import javax.swing.*;</span><br><span class="line"></span><br><span class="line">public class Draw extends JFrame</span><br><span class="line">{</span><br><span class="line">    MyPanel mp = null ;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args)</span><br><span class="line">    {</span><br><span class="line">        // TODO Auto-generated method stub</span><br><span class="line">        Draw qwe = new Draw();</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public Draw()</span><br><span class="line">    {</span><br><span class="line">        mp = new MyPanel();</span><br><span class="line"></span><br><span class="line">        this.add(mp);</span><br><span class="line">        this.setSize(400,300);</span><br><span class="line">        this.setVisible(true);</span><br><span class="line">        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class MyPanel extends JPanel    //我自己的面板，用于绘图和实现绘图区域</span><br><span class="line">{</span><br><span class="line">    //覆盖JPanel的paint方法</span><br><span class="line">    //Graphics是绘图的重要类，可以理解成一支画笔</span><br><span class="line">    public void paint(Graphics g)</span><br><span class="line">    {</span><br><span class="line">        //1.调用父类函数完成初始化</span><br><span class="line">        super.paint(g);     //这句话不能少</span><br><span class="line">        //System.out.println("被调用");        //证明别调用</span><br><span class="line"></span><br><span class="line">        //画圆</span><br><span class="line">        int [][] drawnum={{1,0,1,1},</span><br><span class="line">                          {0,1,0,1},</span><br><span class="line">                          {1,0,1,1},</span><br><span class="line">                          {1,1,0,1}};</span><br><span class="line">        for(int i=0;i&lt;drawnum.length;i++){</span><br><span class="line">            for(int j=0;j&lt;drawnum[0].length;j++){</span><br><span class="line">                if(drawnum[i][j]==1){</span><br><span class="line">                    g.drawOval(30*i+50,30*j+50,25,25);</span><br><span class="line">                    g.setColor(Color.BLUE);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">      //  g.drawOval(10, 10, 30, 30);</span><br><span class="line">        //画直线</span><br><span class="line">      //  g.drawLine(20, 30, 20, 80);</span><br><span class="line">        //画出矩形边框</span><br><span class="line">    //    g.drawRect(50, 50, 100, 50);</span><br><span class="line">        //画填充矩形</span><br><span class="line">     //   g.setColor(Color.BLUE);     //设置颜色</span><br><span class="line">      //  g.fillRect(80,60,40,60);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># Java嵌入图片<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class MyPanel extends JPanel    //我自己的面板，用于绘图和实现绘图区域</span><br><span class="line">{</span><br><span class="line">    //覆盖JPanel的paint方法</span><br><span class="line">    //Graphics是绘图的重要类，可以理解成一支画笔</span><br><span class="line">    public void paint(Graphics g)</span><br><span class="line">    {</span><br><span class="line">        //放置图片</span><br><span class="line">        Image im = Toolkit.getDefaultToolkit().getImage</span><br><span class="line">                (Panel.class.getResource("/sysu.jpg"));</span><br><span class="line">        g.drawImage(im, 50, 50, 70, 70, this);      //this代指JPanel本身，意思是把图片放这上面</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure># 将矩形图片切成圆形周边透明！<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">import java.awt.*;</span><br><span class="line">import java.awt.geom.Ellipse2D;</span><br><span class="line">import java.awt.image.BufferedImage;</span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">import javax.imageio.ImageIO;</span><br><span class="line"></span><br><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) throws IOException {</span><br><span class="line">        BufferedImage bi1 = ImageIO.read(new File("G:/code/Java/leetcode/src/mm.jpg"));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        // 根据需要是否使用 BufferedImage.TYPE_INT_ARGB</span><br><span class="line">        BufferedImage image = new BufferedImage(bi1.getWidth(), bi1.getHeight(),</span><br><span class="line">                BufferedImage.TYPE_INT_ARGB);</span><br><span class="line"></span><br><span class="line">        Ellipse2D.Double shape = new Ellipse2D.Double(0, 0, bi1.getWidth(), bi1</span><br><span class="line">                .getHeight());</span><br><span class="line"></span><br><span class="line">        Graphics2D g2 = image.createGraphics();</span><br><span class="line">        image = g2.getDeviceConfiguration().createCompatibleImage(bi1.getWidth(), bi1.getHeight(), Transparency.TRANSLUCENT);</span><br><span class="line">        g2 = image.createGraphics();</span><br><span class="line">        g2.setComposite(AlphaComposite.Clear);</span><br><span class="line">        g2.fill(new Rectangle(image.getWidth(), image.getHeight()));</span><br><span class="line">        g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC, 1.0f));</span><br><span class="line">        g2.setClip(shape);</span><br><span class="line">        // 使用 setRenderingHint 设置抗锯齿</span><br><span class="line">        g2.drawImage(bi1, 0, 0, null);</span><br><span class="line">        g2.dispose();</span><br><span class="line"></span><br><span class="line">        try {</span><br><span class="line">            ImageIO.write(image, "PNG", new File("G:/code/Java/leetcode/src/mm2.jpg"));</span><br><span class="line">        } catch (IOException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="保存图片"><a href="#保存图片" class="headerlink" title="保存图片"></a>保存图片</h1><p>但是保存不了组建图片</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Dimension imageSize = qwe.getSize();</span><br><span class="line">        BufferedImage image = new BufferedImage(imageSize.width,</span><br><span class="line">                imageSize.height, BufferedImage.TYPE_INT_ARGB);</span><br><span class="line">        Graphics2D g = image.createGraphics();</span><br><span class="line">        qwe.paint(g);</span><br><span class="line">        g.dispose();</span><br><span class="line">        try {</span><br><span class="line">            ImageIO.write(image, "png", new File("G:/code/Java/leetcode/src/sysu2.jpg"));</span><br><span class="line">        } catch (IOException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure><p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1501417829&amp;di=92f1cfa22efa1d88ac0fea28f541f177&amp;imgtype=jpg&amp;er=1&amp;src=http%3A%2F%2Fp2.qhimg.com%2Ft01734e32fa1e77bbc0.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 绘图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常考面试算法题之贪心算法</title>
      <link href="/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-tan-xin-suan-fa/"/>
      <url>/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-tan-xin-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>贪心算法（又称贪婪算法）是指，在对问题求解时，总是做出在当前看来是最好的选择。<br>也就是说，不从整体最优上加以考虑，他所做出的仅是在某种意义上的局部最优解。<br>贪心算法不是对所有问题都能得到整体最优解，但对范围相当广泛的许多问题他能产生整体最优解或者是整体最优解的近似解。<br><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=552733121,4021494863&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="贪心算法基本思路"><a href="#贪心算法基本思路" class="headerlink" title="贪心算法基本思路"></a>贪心算法基本思路</h1><p>1.建立数学模型来描述问题。　　<br>2.把求解的问题分成若干个子问题。　　<br>3.对每一子问题求解，得到子问题的局部最优解。　　<br>4.把子问题的解局部最优解合成原来解问题的一个解。　　<br>实现该算法的过程：　　<br>从问题的某一初始解出发；　　<br>while 能朝给定总目标前进一步<br>do　　求出可行解的一个解元素；　　<br>由所有解元素组合成问题的一个可行解。</p><h1 id="排序子序列"><a href="#排序子序列" class="headerlink" title="排序子序列"></a>排序子序列</h1><p>牛牛定义排序子序列为一个数组中一段连续的子序列,并且这段子序列是非递增或者非递减排序的。牛牛有一个长度为n的整数数组A,他现在有一个任务是把数组A分为若干段排序子序列,牛牛想知道他最少可以把这个数组分为几段排序子序列.<br>如样例所示,牛牛可以把数组A划分为[1,2,3]和[2,2,1]两个排序子序列,至少需要划分为2个排序子序列,所以输出2<br>输入描述:<br>输入的第一行为一个正整数n(1 ≤ n ≤ 10^5)<br>第二行包括n个整数A_i(1 ≤ A_i ≤ 10^9),表示数组A的每个数字。<br>输出描述:<br>输出一个整数表示牛牛可以将A最少划分为多少段排序子序列<br>示例1<br>输入<br><code>6</code><br><code>1 2 3 2 2 1</code><br>输出<br><code>2</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        Scanner scanner = new Scanner(System.in);</span><br><span class="line">        int m = scanner.nextInt();</span><br><span class="line">        int[] num = new int[m];</span><br><span class="line">        for (int i = 0; i &lt; m; i++) {</span><br><span class="line">            num[i] = scanner.nextInt();</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        System.out.println(NewSort(m, num));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static int NewSort(int m, int[] num) {</span><br><span class="line">        if (m &lt;= 0) {</span><br><span class="line">            return -1;</span><br><span class="line">        }</span><br><span class="line">        int count = 1;</span><br><span class="line"></span><br><span class="line">        int flags = 0;</span><br><span class="line">        for (int i = 1; i &lt; m; i++) {</span><br><span class="line">            if (num[i] &gt; num[i - 1]) {</span><br><span class="line">                if(flags==0){</span><br><span class="line">                    flags=1;</span><br><span class="line">                }</span><br><span class="line">                if(flags==-1){</span><br><span class="line">                    flags=0;</span><br><span class="line">                    count++;</span><br><span class="line">                }</span><br><span class="line">            } else if (num[i] &lt; num[i - 1]) {</span><br><span class="line">                if(flags==0){</span><br><span class="line">                    flags=-1;</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                if(flags==1){</span><br><span class="line">                    count++;</span><br><span class="line">                    flags=0;</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return count;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="组队竞赛"><a href="#组队竞赛" class="headerlink" title="组队竞赛"></a>组队竞赛</h1><h1 id="训练部队"><a href="#训练部队" class="headerlink" title="训练部队"></a>训练部队</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br><p><img src="http://image54.360doc.com/DownloadImg/2012/08/2512/26388884_5.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> Java </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常考面试算法题之模拟实现</title>
      <link href="/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-mo-ni-shi-xian/"/>
      <url>/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-mo-ni-shi-xian/</url>
      
        <content type="html"><![CDATA[<p><img src="http://p1.wmpic.me/article/2016/11/01/1477968906_OycfprNe.gif" alt=""></p><a id="more"></a><p>平衡数</p><p>消除重复元素</p><p>奇怪的表达式求值</p><p>变换次数</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="http://p2.wmpic.me/article/2016/11/01/1477969144_zLYGveUF.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>常考面试算法题之数学</title>
      <link href="/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-shu-xue/"/>
      <url>/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-shu-xue/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3192684865,4279839914&amp;fm=11&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="超级素数幂"><a href="#超级素数幂" class="headerlink" title="超级素数幂"></a>超级素数幂</h1><p>如果一个数字能表示为p^q(^表示幂运算)且p为一个素数,q为大于1的正整数就称这个数叫做超级素数幂。现在给出一个正整数n,如果n是一个超级素数幂需要找出对应的p,q。<br>输入描述:</p><p>输入一个正整数n(2 ≤ n ≤ 10^18)</p><p>输出描述:</p><p>如果n是一个超级素数幂则输出p,q,以空格分隔,行末无空格。<br>如果n不是超级素数幂，则输出No<br>示例1<br>输入<br><code>27</code><br>输出<br><code>3 3</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">       Scanner scanner=new Scanner(System.in);</span><br><span class="line">       System.out.println("剩下数字个数 ：");</span><br><span class="line">       long n=scanner.nextLong();</span><br><span class="line">       boolean flag=false;</span><br><span class="line">       double p;</span><br><span class="line">       for(int q=2;q*q&lt;n;q++){</span><br><span class="line">           p=Math.pow((double) n,1d/q);</span><br><span class="line">           System.out.println(1d/q);</span><br><span class="line">           System.out.println(1/q);</span><br><span class="line">           if((long )p==p &amp;&amp; isPrimeNum((long)p)){</span><br><span class="line">               System.out.println((long)p+" "+q);</span><br><span class="line">               flag=true;</span><br><span class="line">               break;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       if(!flag){</span><br><span class="line">           System.out.println("No");</span><br><span class="line">       }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static boolean isPrimeNum(long num){</span><br><span class="line">        if (num&lt;=1){</span><br><span class="line">            return false;</span><br><span class="line">        }</span><br><span class="line">        for (int i=2;i*i&lt;=num;i++){</span><br><span class="line">            if(num%i==0){</span><br><span class="line">                return false;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return true;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>用 1d 取double很关键！</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">剩下数字个数 ：</span><br><span class="line">27</span><br><span class="line">0.5</span><br><span class="line">0</span><br><span class="line">0.3333333333333333</span><br><span class="line">0</span><br><span class="line">3 3</span><br></pre></td></tr></tbody></table></figure><h1 id="找整除"><a href="#找整除" class="headerlink" title="找整除"></a>找整除</h1><p>牛牛想在[a, b]区间内找到一些数满足可以被一个整数c整除,现在你需要帮助牛牛统计区间内一共有多少个这样的数满足条件？<br>输入描述:</p><p>首先输入两个整数a,b,（-5<em>10^8 ≤ a ≤ b ≤ 5</em>10^8)<br>接着是一个正整数c（1 &lt;= c &lt;= 1000）</p><p>输出描述:</p><p>输出一个整数表示个数。<br>示例1<br>输入<br><code>0 14 5</code><br>输出<br><code>3</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">       Scanner scanner=new Scanner(System.in);</span><br><span class="line">       System.out.println("整数a ：");</span><br><span class="line">       int a=scanner.nextInt();</span><br><span class="line">        System.out.println("整数b ：");</span><br><span class="line">        int b=scanner.nextInt();</span><br><span class="line">        System.out.println("正整数c ：");</span><br><span class="line">        int c=scanner.nextInt();</span><br><span class="line">        int count=0;</span><br><span class="line">        for(int n=a/c ; n*c&lt;=b;n++ ){</span><br><span class="line">       if(c*n&gt;=a) {</span><br><span class="line">           count++;</span><br><span class="line">       }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(count);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="魔力手环"><a href="#魔力手环" class="headerlink" title="魔力手环"></a>魔力手环</h1><p>小易拥有一个拥有魔力的手环上面有n个数字(构成一个环),当这个魔力手环每次使用魔力的时候就会发生一种奇特的变化：每个数字会变成自己跟后面一个数字的和(最后一个数字的后面一个数字是第一个),一旦某个位置的数字大于等于100就马上对100取模(比如某个位置变为103,就会自动变为3).现在给出这个魔力手环的构成，请你计算出使用k次魔力之后魔力手环的状态。<br>输入描述:</p><p>输入数据包括两行：<br>第一行为两个整数n(2 ≤ n ≤ 50)和k(1 ≤ k ≤ 2000000000),以空格分隔<br>第二行为魔力手环初始的n个数，以空格分隔。范围都在0至99.</p><p>输出描述:</p><p>输出魔力手环使用k次之后的状态，以空格分隔，行末无空格。<br>示例1<br>输入</p><p><code>3 2</code><br><code>1 2 3</code><br>输出<br><code>8 9 7</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h1 id="混合颜料"><a href="#混合颜料" class="headerlink" title="混合颜料"></a>混合颜料</h1><h1 id="最大的奇约数"><a href="#最大的奇约数" class="headerlink" title="最大的奇约数"></a>最大的奇约数</h1><h1 id="末尾0的个数"><a href="#末尾0的个数" class="headerlink" title="末尾0的个数"></a>末尾0的个数</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="http://image54.360doc.com/DownloadImg/2012/08/2512/26388884_4.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>常考面试算法题之DFS/BFS</title>
      <link href="/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-dfs-bfs/"/>
      <url>/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-dfs-bfs/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1381141477,4106246935&amp;fm=11&amp;gp=0.jpg" alt=""></p><a id="more"></a><p>推箱子</p><p>工作安排</p><p>幸运的袋子</p><p>饥饿的小易</p><p>跳石板</p><p>地下迷宫</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="http://img0.pconline.com.cn/pconline/1104/26/2398938_cab-window-615.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 笔试 </tag>
            
            <tag> Java </tag>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常考面试算法题之动态规划</title>
      <link href="/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-dong-tai-gui-hua/"/>
      <url>/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-dong-tai-gui-hua/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=321521862,1991035925&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="猴子摘桃"><a href="#猴子摘桃" class="headerlink" title="猴子摘桃"></a>猴子摘桃</h1><p>小猴子下山，沿着下山的路有一排桃树，每棵树都结了一些桃子。小猴子想摘桃子，但是又一些条件需要遵守，小瘦子只能沿着下山的方向走，不能回头，每棵树最多摘一个，而且一旦摘了一棵树的桃子，就不能再摘比这棵树结的桃子少的树上的桃子，那么小猴子最多能摘到几课桃子呢？<br>距离说明，比如有五棵树，分别结了10，4，5，12，8棵桃子，那么小猴子最多能摘3颗桃子，来自于结了4，5，12颗桃子的桃树。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] m = {<span class="number">10</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">12</span>,<span class="number">8</span>};</span><br><span class="line">        <span class="keyword">int</span> maxP[]=<span class="keyword">new</span> <span class="keyword">int</span> [m.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m.length;j++){</span><br><span class="line">            maxP[j]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;j;k++){</span><br><span class="line">                <span class="keyword">if</span>(maxP[k]+<span class="number">1</span>&gt;maxP[j] &amp;&amp; m[j]&gt;m[k]){</span><br><span class="line">                    maxP[j]=maxP[k]+<span class="number">1</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> maxPeach=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;maxP.length;k++){</span><br><span class="line">            <span class="keyword">if</span>(maxPeach&lt;maxP[k]){</span><br><span class="line">                maxPeach=maxP[k];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(maxPeach);</span><br><span class="line">    }</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><h1 id="页码统计"><a href="#页码统计" class="headerlink" title="页码统计"></a>页码统计</h1><p>牛牛新买了一本算法书，算法书一共有n页，页码从1到n。牛牛于是想了一个算法题目：在这本算法书页码中0~9每个数字分别出现了多少次？<br>输入描述:</p><p>输入包括一个整数n(1 ≤ n ≤ 1,000,000,000)</p><p>输出描述:</p><p>输出包括一行10个整数，即0~9这些数字在页码中出现的次数，以空格分隔。行末无空格。<br>示例1<br>输入</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">999</span><br></pre></td></tr></tbody></table></figure><p>输出</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">189 300 300 300 300 300 300 300 300 300</span><br></pre></td></tr></tbody></table></figure><h1 id="创造新世界"><a href="#创造新世界" class="headerlink" title="创造新世界"></a>创造新世界</h1><h1 id="双核处理"><a href="#双核处理" class="headerlink" title="双核处理"></a>双核处理</h1><h1 id="堆砖块"><a href="#堆砖块" class="headerlink" title="堆砖块"></a>堆砖块</h1><h1 id="不等式数列"><a href="#不等式数列" class="headerlink" title="不等式数列"></a>不等式数列</h1><h1 id="牛牛的数列"><a href="#牛牛的数列" class="headerlink" title="牛牛的数列"></a>牛牛的数列</h1><p>牛牛现在有一个n个数组成的数列,牛牛现在想取一个连续的子序列,并且这个子序列还必须得满足:最多只改变一个数,就可以使得这个连续的子序列是一个严格上升的子序列,牛牛想知道这个连续子序列最长的长度是多少。<br>输入描述:</p><p>输入包括两行,第一行包括一个整数n(1 ≤ n ≤ 10^5),即数列的长度;<br>第二行n个整数a_i, 表示数列中的每个数(1 ≤ a_i ≤ 10^9),以空格分割。</p><p>输出描述:</p><p>输出一个整数,表示最长的长度。<br>示例1<br>输入</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">6 </span><br><span class="line">7 2 3 1 5 6</span><br></pre></td></tr></tbody></table></figure><p>输出</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></tbody></table></figure><h1 id="暗黑的字符串"><a href="#暗黑的字符串" class="headerlink" title="暗黑的字符串"></a>暗黑的字符串</h1><h1 id="数字和为sum的方法数"><a href="#数字和为sum的方法数" class="headerlink" title="数字和为sum的方法数"></a>数字和为sum的方法数</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="http://img0.pconline.com.cn/pconline/1104/26/2398938_date-night-615.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常考面试算法题之暴力枚举</title>
      <link href="/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-bao-li-mei-ju/"/>
      <url>/2017/07/22/chang-kao-mian-shi-suan-fa-ti-zhi-bao-li-mei-ju/</url>
      
        <content type="html"><![CDATA[<p>结合2017春招和秋招真题，以下几类算法题最常考，汇总了一下：<br><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1369706733,3081407434&amp;fm=26&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="好多鱼！"><a href="#好多鱼！" class="headerlink" title="好多鱼！"></a>好多鱼！</h1><p>牛牛有一个鱼缸。鱼缸里面已经有n条鱼，每条鱼的大小为fishSize[i] (1 ≤ i ≤ n,均为正整数)，牛牛现在想把新捕捉的鱼放入鱼缸。鱼缸内存在着大鱼吃小鱼的定律。经过观察，牛牛发现一条鱼A的大小为另外一条鱼B大小的2倍到10倍(包括2倍大小和10倍大小)，鱼A会吃掉鱼B。考虑到这个，牛牛要放入的鱼就需要保证：<br>1、放进去的鱼是安全的，不会被其他鱼吃掉<br>2、这条鱼放进去也不能吃掉其他鱼<br>鱼缸里面已经存在的鱼已经相处了很久，不考虑他们互相捕食。现在知道新放入鱼的大小范围<a href="考虑鱼的大小都是整数表示">minSize,maxSize</a>,牛牛想知道有多少种大小的鱼可以放入这个鱼缸。</p><p>输入描述:<br>输入数据包括3行.<br>第一行为新放入鱼的尺寸范围minSize,maxSize(1 ≤ minSize,maxSize ≤ 1000)，以空格分隔。<br>第二行为鱼缸里面已经有鱼的数量n(1 ≤ n ≤ 50)<br>第三行为已经有的鱼的大小fishSize[i](1 ≤ fishSize[i] ≤ 1000)，以空格分隔。</p><p>输出描述:<br>输出有多少种大小的鱼可以放入这个鱼缸。考虑鱼的大小都是整数表示<br>示例1<br>输入</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 12</span><br><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></tbody></table></figure><p>输出</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Random;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        Scanner scanner = new Scanner(System.in);</span><br><span class="line">        System.out.println("minSize :");</span><br><span class="line">        int minSize = scanner.nextInt();</span><br><span class="line">        System.out.println("maxSize :");</span><br><span class="line">        int maxSize = scanner.nextInt();</span><br><span class="line">        System.out.println("inNumber :");</span><br><span class="line">        int inNumber = scanner.nextInt();</span><br><span class="line"></span><br><span class="line">        System.out.println("inFishSize[ ] :");</span><br><span class="line">        int [] inFishSize = new int[inNumber];</span><br><span class="line">       for(int i=0;i&lt;inNumber;i++) {</span><br><span class="line">           inFishSize[i]=scanner.nextInt();</span><br><span class="line">       }</span><br><span class="line">       int count =0;</span><br><span class="line">       for(int i=minSize;i&lt;=maxSize ;i++){</span><br><span class="line">           boolean flag=false;</span><br><span class="line">           for(int j=0;j&lt;inNumber ;j++){</span><br><span class="line">               if(( i*2&lt;=inFishSize[j]&amp;&amp;inFishSize[j]&lt;=i*10 )||( inFishSize[j]*2&lt;=i &amp;&amp; inFishSize[j]*10&gt;=i )){</span><br><span class="line">                   flag=true;</span><br><span class="line">                   break;</span><br><span class="line">               }</span><br><span class="line">           }</span><br><span class="line">           if(!flag){</span><br><span class="line">               count++;</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">      System.out.println(count);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="DNA合成"><a href="#DNA合成" class="headerlink" title="DNA合成"></a>DNA合成</h1><p>DNA分子是以4种脱氧核苷酸为单位连接而成的长链，这4种脱氧核苷酸分别含有A,T,C,G四种碱基。碱基互补配对原则：A和T是配对的，C和G是配对的。如果两条碱基链长度是相同的并且每个位置的碱基是配对的，那么他们就可以配对合成为DNA的双螺旋结构。现在给出两条碱基链，允许在其中一条上做替换操作：把序列上的某个位置的碱基更换为另外一种碱基。问最少需要多少次让两条碱基链配对成功<br>输入描述:<br>输入包括一行：<br>包括两个字符串,分别表示两条链,两个字符串长度相同且长度均小于等于50。<br>输出描述:<br>输出一个整数，即最少需要多少次让两条碱基链配对成功<br>示例1<br>输入</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ACGT</span><br><span class="line">TGCA</span><br></pre></td></tr></tbody></table></figure><p>输出</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        Scanner scanner = new Scanner(System.in);</span><br><span class="line">        System.out.println("输入碱基s1 :");</span><br><span class="line">        String s1=scanner.nextLine();</span><br><span class="line">        System.out.println("输入碱基s2 :");</span><br><span class="line">        String s2= scanner.nextLine();</span><br><span class="line"></span><br><span class="line">    if(s1.length()!=s2.length()||s1.isEmpty()||s2.isEmpty()){</span><br><span class="line">    return;</span><br><span class="line">    }</span><br><span class="line">    int count =0;</span><br><span class="line">    for(int i=0;i&lt;s1.length();i++){</span><br><span class="line">        if(!( (s1.charAt(i)=='A' &amp;&amp; s2.charAt(i)=='T') ||</span><br><span class="line">            (s2.charAt(i)=='A' &amp;&amp; s1.charAt(i)=='T') ||</span><br><span class="line">            (s1.charAt(i)=='C' &amp;&amp; s2.charAt(i)=='G') ||</span><br><span class="line">            (s2.charAt(i)=='C' &amp;&amp; s1.charAt(i)=='G') )){</span><br><span class="line">            count++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    System.out.println(count);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="连续整数"><a href="#连续整数" class="headerlink" title="连续整数"></a>连续整数</h1><p>牛牛的好朋友羊羊在纸上写了n+1个整数，羊羊接着抹除掉了一个整数，给牛牛猜他抹除掉的数字是什么。牛牛知道羊羊写的整数神排序之后是一串连续的正整数，牛牛现在要猜出所有可能是抹除掉的整数。例如：<br>10 7 12 8 11 那么抹除掉的整数只可能是9<br>5 6 7 8 那么抹除掉的整数可能是4也可能是9<br>输入描述:<br>输入包括2行：<br>第一行为整数n(1 &lt;= n &lt;= 50)，即抹除一个数之后剩下的数字个数<br>第二行为n个整数num[i] (1 &lt;= num[i] &lt;= 1000000000)<br>输出描述:<br>在一行中输出所有可能是抹除掉的数,从小到大输出,用空格分割,行末无空格。如果没有可能的数，则输出mistake<br>示例1<br>输入</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3 6</span><br></pre></td></tr></tbody></table></figure><p>输出</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mistake</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">       Scanner scanner=new Scanner(System.in);</span><br><span class="line">       System.out.println("剩下数字个数 ：");</span><br><span class="line">       int n=scanner.nextInt();</span><br><span class="line">       int [] num=new int[n];</span><br><span class="line">       System.out.println("输入剩下数字 :");</span><br><span class="line">       int max=Integer.MIN_VALUE;</span><br><span class="line">       int min=Integer.MAX_VALUE;</span><br><span class="line">       int s=0;</span><br><span class="line">       for(int i=0;i&lt;n;i++){</span><br><span class="line">       num[i]=scanner.nextInt();</span><br><span class="line">       s+=num[i];</span><br><span class="line">       if(num[i]&lt;min) min=num[i];</span><br><span class="line">       if(num[i]&gt;max) max=num[i];</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       if(max-min+1 == n){</span><br><span class="line">           if(s==(max+min)*n/2){</span><br><span class="line">               if(min&gt;1){</span><br><span class="line">                   System.out.println((min-1)+" "+ (max+1));</span><br><span class="line">               }else {</span><br><span class="line">                   System.out.println(max+1);</span><br><span class="line">               }</span><br><span class="line">           }else {</span><br><span class="line">               System.out.println("mistake!");</span><br><span class="line">           }</span><br><span class="line">       }else {</span><br><span class="line">           if(max-min==n){</span><br><span class="line">           for(int j=1;j&lt;n;j++){</span><br><span class="line">               if(num[j]==num[j-1]){</span><br><span class="line">                   System.out.println("mistake!");</span><br><span class="line">               }else if (num[j]==num[j-1]+2){</span><br><span class="line">                   System.out.println(num[j]-1);</span><br><span class="line">               }</span><br><span class="line">           }</span><br><span class="line">       }else {</span><br><span class="line">           System.out.println("mistake!");</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="序列和"><a href="#序列和" class="headerlink" title="序列和"></a>序列和</h2><h2 id="01翻转"><a href="#01翻转" class="headerlink" title="01翻转"></a>01翻转</h2><p>最长公共连续子串</p><p>组装三角形</p><p>最小的矩形</p><p>字符串分类</p><p>优美的回文串</p><p>赶去公司</p><p>调整队形</p><p>集合</p><p>涂棋盘</p><p>小易记单词</p><p>分饼干</p><p>买帽子</p><p>度度熊回家</p><p>寻找三角形</p><p>有趣的排序</p><p>神奇数</p><p>添加字符</p><p>数组变换</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="https://cdn.pixabay.com/photo/2017/07/02/16/33/church-2464899_960_720.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面经-阿里1</title>
      <link href="/2017/07/20/mian-jing-a-li-1/"/>
      <url>/2017/07/20/mian-jing-a-li-1/</url>
      
        <content type="html"><![CDATA[<p>阿里面经总结，查漏补缺~<br><img src="http://img.yqdown.com/img2016/1/20/2016012070632345.jpg" alt=""></p><a id="more"></a><h1 id="Java基础："><a href="#Java基础：" class="headerlink" title="Java基础："></a>Java基础：</h1><h2 id="面向对象和面向过程的区别"><a href="#面向对象和面向过程的区别" class="headerlink" title="面向对象和面向过程的区别"></a>面向对象和面向过程的区别</h2><p>面向过程就像一个细心的管家，什么事情都要考虑到；<br>而面向对象就像家用电器，只需要知道他的功能，不用知道工作原理。<br>面向过程是一种以事件为中心的编程思想，分析出解决问题所需要的步骤，然后用函数将这些步骤实现，并按顺序调用；<br>面向对象是以对象为中心的编程思想。<br>eg:汽车发动，汽车到站<br>对面向过程来说，这是两个事件，关心的是事件，不是汽车本身，写两个事件函数，分别调用；</p><h2 id="Java的四个基本特性（抽象、封装、继承，多态）"><a href="#Java的四个基本特性（抽象、封装、继承，多态）" class="headerlink" title="Java的四个基本特性（抽象、封装、继承，多态）"></a>Java的四个基本特性（抽象、封装、继承，多态）</h2><p>抽象：<br>抽象是将一类对象的共同特征总结出来构造类的过程，包括数据抽象和行为抽象两方面。<br>抽象只关注对象有哪些属性和行为，并不关注这些行为的细节是什么。</p><p>封装：<br>通常认为封装就是把数据和操作数据的方法绑定起来，对数据的访问只能通过已定义的接口。<br>面向对象的本质就是将现实世界描绘成一系列完全自治、封闭的对象。我们在类中编写的方法就是对实现细节的一种封装，我们编写一个类就是对数据和数据操作的封装。<br>可以说，封装就是隐藏一切可以隐藏的东西，只向外界提供最简单的编程接口。</p><p>继承：继承是从已有类得到继承信息创建新类的过程。<br>提供继承信息的类被称为父类(超类、基类)；得到继承信息的类被称为子类(派生类)。<br>继承让变化中的软件系统有了一定的延续性，同时继承也是封装程序中可变因素的重要手段。</p><p>多态：<br>多态是指允许不同子类型的对象对同一消息作出不同的响应。</p><h2 id="多态的理解-实现方法"><a href="#多态的理解-实现方法" class="headerlink" title="多态的理解(实现方法)"></a>多态的理解(实现方法)</h2><h3 id="Overload和Override的区别"><a href="#Overload和Override的区别" class="headerlink" title="Overload和Override的区别"></a>Overload和Override的区别</h3><p>方法重载–Overload：<br>实现的是编译时的多态性(也称为前绑定)。</p><p>方法重写–Override：<br>实现的是运行时的多态性(也称为后绑定)。运行时的多态是面向对象最精髓的东西。</p><h3 id="要实现多态需要做两件事："><a href="#要实现多态需要做两件事：" class="headerlink" title="要实现多态需要做两件事："></a>要实现多态需要做两件事：</h3><p>1.方法重写<br>子类继承父类并重写父类中已有的或抽象的方法<br>2.对象造型<br>用父类型引用子类型对象，这样同样的引用调用同样的方法就会根据子类对象的不同而表现出不同的行为。</p><h3 id="项目中对多态的应用"><a href="#项目中对多态的应用" class="headerlink" title="项目中对多态的应用"></a>项目中对多态的应用</h3><p>举个栗子，在实验室信息管理系统中，有两种用户，教师和学生，两个用户都可以登陆系统，他们有相同的方法Login，但登陆之后他们会进入不同的页面，也就是在登陆时会有不同的操作，两种客户都继承父类的Login方法，但对于不同的对象，拥有不同的操作。</p><ol start="4"><li><p>构造器Constructor是否可被override</p></li><li><p>访问控制符public,protected,private,以及默认的区别</p></li><li><p>是否可以继承String类</p></li><li><p>String和StringBuffer、StringBuilder的区别</p></li><li><p>hashCode和equals方法的关系</p></li><li><p>抽象类和接口的区别</p></li><li><p>自动装箱与拆箱</p></li><li><p>什么是泛型、为什么要使用以及泛型擦除</p></li><li><p>Java中的集合类及关系图</p></li><li><p>HashMap实现原理(看源代码)</p></li><li><p>HashTable实现原理(看源代码)</p></li></ol><h2 id="HashMap和HashTable区别"><a href="#HashMap和HashTable区别" class="headerlink" title="HashMap和HashTable区别"></a>HashMap和HashTable区别</h2><p>HashTable的方法是同步的，HashMap未经同步，所以在多线程场合要手动同步HashMap；<br>HashTable不允许null值(key 和 value都不可以)，HashMap允许null值(key 和 value 都可以)；<br>两者的遍历方式大同小异，HashTable仅仅比HashMap多一个elements方法；</p><p>HashTable和HashMap都能通过values()方法返回一个Collection，然后进行遍历处理，两者也都可以通过entrySet()方法返回一个Set，然后进行遍历处理。</p><p>HashTable使用Enumeration，HashMap使用Iterator。</p><p>哈希值的使用不同，HashTable直接使用对象的HashCode，HashMap重新计算hash值，而且用于代替求模；<br>HashTable中hash数组默认大小是11，增加的方式是old*2+1，HashMap中hash数组的默认大小是16，而且一定是2的指数；<br>HashTable基于Dictionary，而HashMap基于AbstractMap类。</p><ol start="16"><li><p>HashTable如何实现线程安全(看源代码)</p></li><li><p>ArrayList和vector区别(看源代码)</p></li><li><p>ArrayList和LinkedList区别及使用场景</p></li><li><p>Collection和Collections的区别</p></li><li><p>Concurrenthashmap实现原理(看源代码)</p></li><li><p>Error、Exception区别</p></li><li><p>Unchecked Exception和Checked Exception，各列举几个</p></li><li><p>Java中如何实现代理机制(JDK、CGLIB)</p></li><li><p>多线程的实现方式</p></li><li><p>线程的状态转换</p></li><li><p>如何停止一个线程</p></li></ol><h2 id="什么是线程安全"><a href="#什么是线程安全" class="headerlink" title="什么是线程安全"></a>什么是线程安全</h2><p>某个类的行为与其规范一致；<br>不管多个线程是怎样的执行顺序和优先级，或是wait，sleep，join等控制方式，如果一个类在多线程访问下运转一切正常，并且访问类不需要进行额外的同步处理或协调，那么我们认为它是线程安全的。</p><h2 id="如何保证线程安全"><a href="#如何保证线程安全" class="headerlink" title="如何保证线程安全"></a>如何保证线程安全</h2><p>对变量使用volitate<br>对程序段进行加锁(synchronized,lock)</p><ol start="29"><li><p>Synchronized如何使用</p></li><li><p>synchronized和Lock的区别</p></li><li><p>多线程如何进行信息交互</p></li><li><p>sleep和wait的区别(考察的方向是是否会释放锁)</p></li><li><p>多线程与死锁</p></li><li><p>如何才能产生死锁</p></li><li><p>什么叫守护线程，用什么方法实现守护线程</p></li></ol><h2 id="Java线程池技术及原理"><a href="#Java线程池技术及原理" class="headerlink" title="Java线程池技术及原理"></a>Java线程池技术及原理</h2><p>线程池就是事先创建若干个可执行的线程放入一个池(容器)中，需要的时候从池中获取线程不用自行创建，使用完毕不需要销毁线程而是放回池中，从而减少创建和销毁线程对象的开销。</p><ol start="37"><li><p>java并发包concurrent及常用的类</p></li><li><p>volatile关键字</p></li><li><p>Java中的NIO，BIO，AIO分别是什么</p></li><li><p>IO和NIO区别</p></li><li><p>序列化与反序列化</p></li><li><p>常见的序列化协议有哪些</p></li><li><p>内存溢出和内存泄漏的区别</p></li><li><p>Java内存模型及各个区域的OOM，如何重现OOM</p></li><li><p>出现OOM如何解决</p></li><li><p>用什么工具可以查出内存泄漏</p></li><li><p>Java内存管理及回收算法</p></li><li><p>Java类加载器及如何加载类(双亲委派)</p></li><li><p>xml解析方式</p></li><li><p>Statement和PreparedStatement之间的区别</p></li></ol><h1 id="JavaEE"><a href="#JavaEE" class="headerlink" title="JavaEE:"></a>JavaEE:</h1><h2 id="servlet生命周期及各个方法"><a href="#servlet生命周期及各个方法" class="headerlink" title="servlet生命周期及各个方法"></a>servlet生命周期及各个方法</h2><p>①实例化阶段：服务器对Servlet进行实例化，调用Servlet的构造方法<br>②初始化阶段：服务器调用Servlet的init方法进行初始化（只在第一次请求时调用）。<br>③请求处理阶段：服务器调用Servlet的service方法，然后根据请求方式调用相应的doXXX方法。<br>④服务终止阶段：服务器调用Servlet的destroy方法销毁Servlet实例</p><ol start="2"><li><p>servlet中如何自定义filter</p></li><li><p>JSP原理</p></li><li><p>JSP和Servlet的区别</p></li><li><p>JSP的动态include和静态include</p></li><li><p>Struts中请求处理过程</p></li><li><p>MVC概念</p></li></ol><p>8.Spring mvc与Struts区别</p><ol start="9"><li><p>Hibernate/Ibatis两者的区别</p></li><li><p>Hibernate一级和二级缓存</p></li><li><p>Hibernate实现集群部署</p></li><li><p>Hibernate如何实现声明式事务</p></li><li><p>简述Hibernate常见优化策略</p></li><li><p>Spring bean的加载过程(推荐看Spring的源码)</p></li><li><p>Spring如何实现AOP和IOC</p></li><li><p>Spring bean注入方式</p></li><li><p>Spring的事务管理(推荐看Spring的源码)</p></li><li><p>Spring事务的传播特性</p></li><li><p>springmvc原理</p></li><li><p>springmvc用过哪些注解</p></li><li><p>Restful有几种请求</p></li><li><p>Restful好处</p></li><li><p>Tomcat，Apache，JBoss的区别</p></li><li><p>memcached和redis的区别</p></li><li><p>有没有遇到中文乱码问题，如何解决的</p></li><li><p>如何理解分布式锁</p></li><li><p>你知道的开源协议有哪些</p></li><li><p>json和xml区别</p></li></ol><h1 id="设计模式："><a href="#设计模式：" class="headerlink" title="设计模式："></a>设计模式：</h1><h2 id="设计模式的六大原则"><a href="#设计模式的六大原则" class="headerlink" title="设计模式的六大原则"></a>设计模式的六大原则</h2><ol><li><p>单一职责原则<br>定义：不要存在多于一个导致类变更的原因。即一个类只负责一项职责。</p></li><li><p>里氏替换原则</p></li><li><p>依赖倒置原则</p></li><li><p>接口隔离原则</p></li><li><p>迪米特法则</p></li><li><p>开闭原则</p></li></ol><h2 id="常用的设计模式"><a href="#常用的设计模式" class="headerlink" title="常用的设计模式"></a>常用的设计模式</h2><ol start="3"><li><p>用一个设计模式写一段代码或画出一个设计模式的UML</p></li><li><p>如何理解MVC</p></li></ol><h2 id="高内聚，低耦合方面的理解"><a href="#高内聚，低耦合方面的理解" class="headerlink" title="高内聚，低耦合方面的理解"></a>高内聚，低耦合方面的理解</h2><p>内聚性又称快内联系，指模块的功能强度的度量，即一个模块内部各个元素彼此结合的紧密程度的度量。<br>若一个模块内各元素联系的越紧密，则它的内聚性就越高。<br>耦合性也称块间联系，指软件系统结构中各模块间相互紧密程度的一种度量。模块间联系越紧密，其耦合性就越强。<br>将软件系统化分模块时，尽量做到高内聚低耦合，提高模块的独立性。<br>有个例子很容易明白：一个程序有50个函数，这个程序执行得非常好；然而一旦你修改其中一个函数，其他49个函数都需要做修改，这就是高耦合的后果。<br>一旦你理解了它，你编写概要设计的时候设计类或者模块自然会考虑到“高内聚，低耦合”。</p><h1 id="算法："><a href="#算法：" class="headerlink" title="算法："></a>算法：</h1><ol><li><p>深度优先、广度优先算法</p></li><li><p>排序算法及对应的时间复杂度和空间复杂度</p></li><li><p>写一个排序算法</p></li><li><p>查找算法</p></li><li><p>B+树和二叉树查找时间复杂度</p></li><li><p>KMP算法、hash算法</p></li><li><p>常用的hash算法有哪些</p></li><li><p>如何判断一个单链表是否有环？</p></li><li><p>给你一万个数，如何找出里面所有重复的数？用所有你能想到的方法，时间复杂度和空间复杂度分别是多少？</p></li><li><p>给你一个数组，如何里面找到和为K的两个数？</p></li><li><p>100000个数找出最小或最大的10个？</p></li><li><p>一堆数字里面继续去重，要怎么处理？</p></li></ol><h1 id="数据结构："><a href="#数据结构：" class="headerlink" title="数据结构："></a>数据结构：</h1><ol><li><p>队列、栈、链表、树、堆、图</p></li><li><p>编码实现队列、栈</p></li></ol><h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux:"></a>Linux:</h1><h2 id="linux常用命令"><a href="#linux常用命令" class="headerlink" title="linux常用命令"></a>linux常用命令</h2><ol><li>cd命令：切换目录</li><li>ls命令：查看文件与目录</li><li>grep命令：分析一行的信息</li><li>find命令：查找</li><li>cp命令：copy，复制文件</li><li>mv命令：move ，移动文件，目录或更名</li><li>rm命令: 该命令用于删除文件或目录，remove</li><li>ps命令: 该命令用于将某个时间点的进程运行情况选取下来并输出，process之意</li><li>kill命令: 该命令用于向某个工作或者是某个PID（数字）传送一个信号</li><li>killall命令: 该命令用于向一个命令启动的进程发送一个信号</li><li>file命令: 该命令用于判断接在file命令后的文件的基本数据</li><li>tar命令: 该命令用于对文件进行打包</li><li>cat命令: 该命令用于查看文本文件的内容，后接要查看的文件名</li><li>chgrp命令: 该命令用于改变文件所属用户组</li><li>chown命令: 该命令用于改变文件的所有者</li><li>chmod命令: 该命令用于改变文件的权限</li><li>vim命令: 该命令主要用于文本编辑，它接一个或多个文件名作为参数</li><li>gcc命令: 对于一个用Linux开发C程序的人来说，这个命令就非常重要了，它用于把C语言的源程序文件，编译成可执行程序</li><li>time命令: 该命令用于测算一个命令（即程序）的执行时间</li></ol><h2 id="如何查看内存使用情况"><a href="#如何查看内存使用情况" class="headerlink" title="如何查看内存使用情况"></a>如何查看内存使用情况</h2><ol start="3"><li>Linux下如何进行进程调度</li></ol><h1 id="操作系统："><a href="#操作系统：" class="headerlink" title="操作系统："></a>操作系统：</h1><ol><li><p>操作系统什么情况下会死锁</p></li><li><p>产生死锁的必要条件</p></li><li><p>死锁预防</p></li></ol><h1 id="数据库："><a href="#数据库：" class="headerlink" title="数据库："></a>数据库：</h1><ol><li><p>范式</p></li><li><p>数据库事务隔离级别</p></li><li><p>数据库连接池的原理</p></li><li><p>乐观锁和悲观锁</p></li><li><p>如何实现不同数据库的数据查询分页</p></li><li><p>SQL注入的原理，如何预防</p></li><li><p>数据库索引的实现(B+树介绍、和B树、R树区别)</p></li><li><p>SQL性能优化</p></li><li><p>数据库索引的优缺点以及什么时候数据库索引失效</p></li></ol><p>10.Redis的存储结构</p><h1 id="网络："><a href="#网络：" class="headerlink" title="网络："></a>网络：</h1><ol><li><p>OSI七层模型以及TCP/IP四层模型</p></li><li><p>HTTP和HTTPS区别</p></li><li><p>HTTP报文内容</p></li><li><p>get提交和post提交的区别</p></li><li><p>get提交是否有字节限制，如果有是在哪限制的</p></li><li><p>TCP的三次握手和四次挥手</p></li><li><p>session和cookie的区别</p></li><li><p>HTTP请求中Session实现原理</p></li><li><p>redirect与forward区别</p></li></ol><p>10.DNS</p><ol start="11"><li>TCP和UDP区别</li></ol><h1 id="安全："><a href="#安全：" class="headerlink" title="安全："></a>安全：</h1><ol><li><p>如果客户端不断的发送请求连接会怎样</p></li><li><p>DDos攻击</p></li><li><p>DDos预防</p></li><li><p>那怎么知道连接是恶意的呢？可能是正常连接</p></li></ol><h1 id="其它："><a href="#其它：" class="headerlink" title="其它："></a>其它：</h1><ol><li><p>说一个你参与的项目、其中作为什么角色</p></li><li><p>遇到最困的问题是什么，怎么解决的</p></li><li><p>你认为自己有那些方面不足</p></li><li><p>平常如何学习的</p></li><li><p>如何评价自己</p></li></ol><h1 id="智力题："><a href="#智力题：" class="headerlink" title="智力题："></a>智力题：</h1><ol><li><p>给你50个红球和50个黑球，有两个一模一样的桶，往桶里放球，让朋友去随机抽，采用什么策略可以让朋友抽到红球的概率更高？</p></li><li><p>从100个硬币中找出最轻的那个假币？</p></li></ol><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="http://img3.duitang.com/uploads/item/201504/20/20150420H3518_PZH2i.jpeg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 面经 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔试 </tag>
            
            <tag> Java </tag>
            
            <tag> 阿里 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SemiCode测试流程</title>
      <link href="/2017/07/19/semicode-ce-shi-liu-cheng/"/>
      <url>/2017/07/19/semicode-ce-shi-liu-cheng/</url>
      
        <content type="html"><![CDATA[<p>第一次写脚本测试！<br><img src="http://www.easyicon.net/api/resizeApi.php?id=1178455&amp;size=64" alt=""></p><a id="more"></a><h1 id="测试目的"><a href="#测试目的" class="headerlink" title="测试目的"></a>测试目的</h1><p>随机生成大量SemiCode，从译码检测算法完备性！</p><h1 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h1><p>1、第一次测试10万张码有5%的无法译出，单独调试发现是寻像算法寻像出错<br>2、为了补充寻像算法，写了个图片旋转的算法<br>3、第二次测试重新生成10万张码，全部译出<br>4、第三次测试10万张，全部译出<br>5、结论：代码的健壮性非常好！</p><h1 id="测试流程"><a href="#测试流程" class="headerlink" title="测试流程"></a>测试流程</h1><h2 id="生成"><a href="#生成" class="headerlink" title="生成"></a>生成</h2><p>1、用随机字符串生成内容，用随机数字生成输入内容大小<br>2、用时间戳给每张二维码命名<br>3、将生成的二维码的名字（时间戳）保存到encode.txt文件<br>4、将生成的二维码图片保存到encodePic文件夹<br>5、for循环生成10万张SemiCode二维码</p><h2 id="解码"><a href="#解码" class="headerlink" title="解码"></a>解码</h2><p>1、从encode.txt文本中分别读取每个图片的名字<br>2、根据图片name从encodePic中调取图片<br>3、for循环译码<br>4、将无法译出的图片旋转测试（补充寻像算法）<br>5、将译码结果保存到decode.txt<br>6、从decode.txt中查找译码信息为null的二维码单独调试</p><br># 关键代码## 生成随机字符串以及随机汉字 <figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public static String RandomString(int length) {</span><br><span class="line">        String str = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789:/?@#$&amp;*()+";</span><br><span class="line">        Random random = new Random();</span><br><span class="line">        StringBuffer buf = new StringBuffer();</span><br><span class="line">        for (int i = 0; i &lt; length-1; i++) {</span><br><span class="line">            int num = random.nextInt(73);</span><br><span class="line">            if(num==72){</span><br><span class="line">                length-=1;</span><br><span class="line">            }</span><br><span class="line">            buf.append( num!=72?  str.charAt(num):(char) (0x4e00 + (int) (Math.random() * (0x9fa5 - 0x4e00 + 1))));</span><br><span class="line">        }</span><br><span class="line">        return buf.toString();</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>## 生成随机数字<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public static int suijinum(int max) {</span><br><span class="line">        int min=2;</span><br><span class="line">        Random random = new Random();</span><br><span class="line">        int s = random.nextInt(max)%(max-min+1) + min;</span><br><span class="line">        return s;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>## 时间戳生成随机图片name<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String pname = "a";</span><br><span class="line">Random rand = new Random();</span><br><span class="line">SimpleDateFormat df = new SimpleDateFormat("yyyyMMddHHmmss");//设置日期格式</span><br><span class="line">String time = df.format(new Date());</span><br><span class="line">int randnum1 = rand.nextInt(900)+100;</span><br><span class="line">time=time.concat(String.valueOf(randnum1));</span><br><span class="line">int randnum2 = rand.nextInt(90)+10;</span><br><span class="line">time=time.concat(String.valueOf(randnum2));</span><br><span class="line">pname=time;</span><br></pre></td></tr></tbody></table></figure>## 读写txt文件<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import java.io.File;  </span><br><span class="line">import java.io.InputStreamReader;  </span><br><span class="line">import java.io.BufferedReader;  </span><br><span class="line">import java.io.BufferedWriter;  </span><br><span class="line">import java.io.FileInputStream;  </span><br><span class="line">import java.io.FileWriter;  </span><br><span class="line">  </span><br><span class="line">public class cin_txt {  </span><br><span class="line">    static void main(String args[]) {  </span><br><span class="line">        try { // 防止文件建立或读取失败，用catch捕捉错误并打印，也可以throw  </span><br><span class="line">  </span><br><span class="line">            /* 读入TXT文件 */  </span><br><span class="line">            String pathname = "D:\\twitter\\13_9_6\\dataset\\en\\input.txt"; // 绝对路径或相对路径都可以，这里是绝对路径，写入文件时演示相对路径  </span><br><span class="line">            File filename = new File(pathname); // 要读取以上路径的input。txt文件  </span><br><span class="line">            InputStreamReader reader = new InputStreamReader(  </span><br><span class="line">                    new FileInputStream(filename)); // 建立一个输入流对象reader  </span><br><span class="line">            BufferedReader br = new BufferedReader(reader); // 建立一个对象，它把文件内容转成计算机能读懂的语言  </span><br><span class="line">            String line = "";  </span><br><span class="line">            line = br.readLine();  </span><br><span class="line">            while (line != null) {  </span><br><span class="line">                line = br.readLine(); // 一次读入一行数据  </span><br><span class="line">            }  </span><br><span class="line">  </span><br><span class="line">            /* 写入Txt文件 */  </span><br><span class="line">            File writename = new File(".\\result\\en\\output.txt"); // 相对路径，如果没有则要建立一个新的output。txt文件  </span><br><span class="line">            writename.createNewFile(); // 创建新文件  </span><br><span class="line">            BufferedWriter out = new BufferedWriter(new FileWriter(writename));  </span><br><span class="line">            out.write("我会写入文件啦\r\n"); // \r\n即为换行  </span><br><span class="line">            out.flush(); // 把缓存区内容压入文件  </span><br><span class="line">            out.close(); // 最后记得关闭文件  </span><br><span class="line">  </span><br><span class="line">        } catch (Exception e) {  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        }  </span><br><span class="line">    }  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>## 计算代码时间<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">long startTime=System.currentTimeMillis();   //获取开始时间  </span><br><span class="line">doSomeThing();  //测试的代码段  </span><br><span class="line">long endTime=System.currentTimeMillis(); //获取结束时间  </span><br><span class="line">System.out.println("程序运行时间： "+(endTime-startTime)+"ms");</span><br></pre></td></tr></tbody></table></figure>## 旋转图片测试,返回图片name<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">    * 旋转</span><br><span class="line">    *</span><br><span class="line">    * @param degree</span><br><span class="line">    *            旋转角度</span><br><span class="line">    * @throws Exception</span><br><span class="line">    */</span><br><span class="line">   public static String spin(int degree ,String imgPath,String line) throws Exception {</span><br><span class="line">       int swidth = 0; // 旋转后的宽度</span><br><span class="line">       int sheight = 0; // 旋转后的高度</span><br><span class="line">       int x; // 原点横坐标</span><br><span class="line">       int y; // 原点纵坐标</span><br><span class="line"></span><br><span class="line">       File file = new File(imgPath);</span><br><span class="line">       if (!file.isFile()) {</span><br><span class="line">           throw new Exception("ImageDeal&gt;&gt;&gt;" + file + " 不是一个图片文件!");</span><br><span class="line">       }</span><br><span class="line">       BufferedImage bi = ImageIO.read(file); // 读取该图片</span><br><span class="line">       // 处理角度--确定旋转弧度</span><br><span class="line">       degree = degree % 360;</span><br><span class="line">       if (degree &lt; 0)</span><br><span class="line">           degree = 360 + degree;// 将角度转换到0-360度之间</span><br><span class="line">       double theta = Math.toRadians(degree);// 将角度转为弧度</span><br><span class="line"></span><br><span class="line">       // 确定旋转后的宽和高</span><br><span class="line">       if (degree == 180 || degree == 0 || degree == 360) {</span><br><span class="line">           swidth = bi.getWidth();</span><br><span class="line">           sheight = bi.getHeight();</span><br><span class="line">       } else if (degree == 90 || degree == 270) {</span><br><span class="line">           sheight = bi.getWidth();</span><br><span class="line">           swidth = bi.getHeight();</span><br><span class="line">       } else {</span><br><span class="line">           swidth = (int) (Math.sqrt(bi.getWidth() * bi.getWidth()</span><br><span class="line">                   + bi.getHeight() * bi.getHeight()));</span><br><span class="line">           sheight = (int) (Math.sqrt(bi.getWidth() * bi.getWidth()</span><br><span class="line">                   + bi.getHeight() * bi.getHeight()));</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       x = (swidth / 2) - (bi.getWidth() / 2);// 确定原点坐标</span><br><span class="line">       y = (sheight / 2) - (bi.getHeight() / 2);</span><br><span class="line"></span><br><span class="line">       BufferedImage spinImage = new BufferedImage(swidth, sheight,</span><br><span class="line">               bi.getType());</span><br><span class="line">       // 设置图片背景颜色</span><br><span class="line">       Graphics2D gs = (Graphics2D) spinImage.getGraphics();</span><br><span class="line">       gs.setColor(Color.white);</span><br><span class="line">       gs.fillRect(0, 0, swidth, sheight);// 以给定颜色绘制旋转后图片的背景</span><br><span class="line"></span><br><span class="line">       AffineTransform at = new AffineTransform();</span><br><span class="line">       at.rotate(theta, swidth / 2, sheight / 2);// 旋转图象</span><br><span class="line">       at.translate(x, y);</span><br><span class="line">       AffineTransformOp op = new AffineTransformOp(at,</span><br><span class="line">               AffineTransformOp.TYPE_BICUBIC);</span><br><span class="line">       spinImage = op.filter(bi, spinImage);</span><br><span class="line">       String linesp=line+degree;</span><br><span class="line">       File sf = new File("G:/ProjectQRcode/SpringPro/Test/spanpic", linesp + "." +"png");</span><br><span class="line">       ImageIO.write(spinImage, "png", sf); // 保存图片</span><br><span class="line">       return linesp;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p><img src="http://image54.360doc.com/DownloadImg/2012/08/2512/26415405_1.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>工具代码</title>
      <link href="/2017/07/13/gong-ju-dai-ma/"/>
      <url>/2017/07/13/gong-ju-dai-ma/</url>
      
        <content type="html"><![CDATA[<p>一些小的小工具代码<br><img src="http://image54.360doc.com/DownloadImg/2012/08/2512/26415405_19.gif" alt=""></p><a id="more"></a><h1 id="随机字符串"><a href="#随机字符串" class="headerlink" title="随机字符串"></a>随机字符串</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/** 产生一个随机的字符串*/  </span><br><span class="line">public static String RandomString(int length) {  </span><br><span class="line">    String str = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";  </span><br><span class="line">    Random random = new Random();  </span><br><span class="line">    StringBuffer buf = new StringBuffer();  </span><br><span class="line">    for (int i = 0; i &lt; length; i++) {  </span><br><span class="line">        int num = random.nextInt(62);  </span><br><span class="line">        buf.append(str.charAt(num));  </span><br><span class="line">    }  </span><br><span class="line">    return buf.toString();  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># java生成指定范围的随机数<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Random;</span><br><span class="line"></span><br><span class="line">public class RandomTest {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        int max=20;</span><br><span class="line">        int min=10;</span><br><span class="line">        Random random = new Random();</span><br><span class="line"></span><br><span class="line">        int s = random.nextInt(max)%(max-min+1) + min;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 时间戳<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">String pname = "a";</span><br><span class="line">Random rand = new Random();</span><br><span class="line">SimpleDateFormat df = new SimpleDateFormat("yyyyMMddHHmmss");//设置日期格式</span><br><span class="line">String time = df.format(new Date());</span><br><span class="line">int randnum1 = rand.nextInt(900)+100;</span><br><span class="line">    time=time.concat(String.valueOf(randnum1));</span><br><span class="line">int randnum2 = rand.nextInt(90)+10;</span><br><span class="line">    time=time.concat(String.valueOf(randnum2));</span><br><span class="line">pname=time;</span><br><span class="line">String imgPath = "C:/Users/Administrator/Desktop/Timecode/"+pname+".png";</span><br></pre></td></tr></tbody></table></figure><br># 读写text文件<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import java.io.File;  </span><br><span class="line">import java.io.InputStreamReader;  </span><br><span class="line">import java.io.BufferedReader;  </span><br><span class="line">import java.io.BufferedWriter;  </span><br><span class="line">import java.io.FileInputStream;  </span><br><span class="line">import java.io.FileWriter;  </span><br><span class="line">  </span><br><span class="line">public class cin_txt {  </span><br><span class="line">    static void main(String args[]) {  </span><br><span class="line">        try { // 防止文件建立或读取失败，用catch捕捉错误并打印，也可以throw  </span><br><span class="line">  </span><br><span class="line">            /* 读入TXT文件 */  </span><br><span class="line">            String pathname = "D:\\twitter\\13_9_6\\dataset\\en\\input.txt"; // 绝对路径或相对路径都可以，这里是绝对路径，写入文件时演示相对路径  </span><br><span class="line">            File filename = new File(pathname); // 要读取以上路径的input。txt文件  </span><br><span class="line">            InputStreamReader reader = new InputStreamReader(  </span><br><span class="line">                    new FileInputStream(filename)); // 建立一个输入流对象reader  </span><br><span class="line">            BufferedReader br = new BufferedReader(reader); // 建立一个对象，它把文件内容转成计算机能读懂的语言  </span><br><span class="line">            String line = "";  </span><br><span class="line">            line = br.readLine();  </span><br><span class="line">            while (line != null) {  </span><br><span class="line">                line = br.readLine(); // 一次读入一行数据  </span><br><span class="line">            }  </span><br><span class="line">  </span><br><span class="line">            /* 写入Txt文件 */  </span><br><span class="line">            File writename = new File(".\\result\\en\\output.txt"); // 相对路径，如果没有则要建立一个新的output。txt文件  </span><br><span class="line">            writename.createNewFile(); // 创建新文件  </span><br><span class="line">            BufferedWriter out = new BufferedWriter(new FileWriter(writename));  </span><br><span class="line">            out.write("我会写入文件啦\r\n"); // \r\n即为换行  </span><br><span class="line">            out.flush(); // 把缓存区内容压入文件  </span><br><span class="line">            out.close(); // 最后记得关闭文件  </span><br><span class="line">  </span><br><span class="line">        } catch (Exception e) {  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        }  </span><br><span class="line">    }  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 计算代码时间<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">long startTime=System.currentTimeMillis();   //获取开始时间  </span><br><span class="line">doSomeThing();  //测试的代码段  </span><br><span class="line">long endTime=System.currentTimeMillis(); //获取结束时间  </span><br><span class="line">System.out.println("程序运行时间： "+(endTime-startTime)+"ms");</span><br></pre></td></tr></tbody></table></figure><p><img src="https://www.yueduwen.com/uploads/allimg/1604/1-160421213J6116.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>剑指Offer(51-67)</title>
      <link href="/2017/07/11/jian-zhi-offer-51-67/"/>
      <url>/2017/07/11/jian-zhi-offer-51-67/</url>
      
        <content type="html"><![CDATA[<p>英文新增面试题！<br><img src="http://wx2.sinaimg.cn/mw690/648ac377ly1fc9yud55n0g20c806uqrm.gif" alt=""></p><a id="more"></a><h1 id="题51：数组中重复的数字"><a href="#题51：数组中重复的数字" class="headerlink" title="题51：数组中重复的数字"></a>题51：数组中重复的数字</h1><p>题目：</p><p>在一个长度为n的数组里的所有数字都在0到n-1的范围内。 数组中某些数字是重复的，但不知道有几个数字是重复的。也不知道每个数字重复几次。请找出数组中任意一个重复的数字。</p><p>例如，如果输入长度为7的数组{2,3,1,0,2,5,3}，那么对应的输出是重复的数字2或者3。</p><p>思路：</p><p><code>1、排序</code></p><p>将数组排序，然后扫描排序后的数组即可。</p><p>时间复杂度：O(nlogn)，空间复杂度:O(1)</p><p><code>2、哈希表</code></p><p>从头到尾扫描数组，每扫描到一个数字，判断该数字是否在哈希表中，如果该哈希表还没有这个数字，那么加入哈希表，如果已经存在，则返回该数字；</p><p>时间复杂度：O(n)，空间复杂度:O(n)</p><p><code>3、交换</code></p><p>0~n-1正常的排序应该是A[i]=i；因此可以通过交换的方式，将它们都各自放回属于自己的位置；</p><p>从头到尾扫描数组A，当扫描到下标为i的数字m时，首先比较这个数字m是不是等于i，</p><p>如果是，则继续扫描下一个数字；</p><p>如果不是，则判断它和A[m]是否相等，如果是，则找到了第一个重复的数字（在下标为i和m的位置都出现了m）；如果不是，则把A[i]和A[m]交换，即把m放回属于它的位置；</p><p>重复上述过程，直至找到一个重复的数字；</p><p>时间复杂度：O(n)，空间复杂度：O(1)</p><p>(将每个数字放到属于自己的位置最多交换两次)</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        int[] nums={2,3,1,0,2,5,3};</span><br><span class="line">        duplicate(nums);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void duplicate(int [] nums){</span><br><span class="line">        if(nums==null ||nums.length&lt;=0)</span><br><span class="line">            return;</span><br><span class="line">        for(int i=0;i&lt;nums.length;i++){</span><br><span class="line">            if(nums[i]&gt;nums.length)</span><br><span class="line">                return ;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        for(int i=0;i&lt;nums.length;i++){</span><br><span class="line">            while (nums[i]!=i){</span><br><span class="line">                if(nums[i]==nums[nums[i]]){</span><br><span class="line">                    System.out.println(nums[i]);</span><br><span class="line">                    break;</span><br><span class="line">                }</span><br><span class="line">                int temp=nums[nums[i]];</span><br><span class="line">                nums[nums[i]]=nums[i];</span><br><span class="line">                nums[i]=temp;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题52：构建乘积数组题目： 给定一个数组A[0,1,...,n-1],请构建一个数组B[0,1,...,n-1],其中B中的元素B[i]=A[0]*A[1]*...*A[i-1]*A[i+1]*...*A[n-1]。不能使用除法<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        int[] nums={1,2,3,4,5};</span><br><span class="line">        ConstructAarry(nums);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void ConstructAarry(int [] nums){</span><br><span class="line">        int [] A =new int [nums.length] ;</span><br><span class="line">        int [] B =new int [nums.length] ;</span><br><span class="line">        int [] C =new int [nums.length] ;</span><br><span class="line">        B[0]=1;</span><br><span class="line">        C[0]=1;</span><br><span class="line">        for(int i=1;i&lt;nums.length;i++){</span><br><span class="line">            B[i]=B[i-1]*nums[i-1];</span><br><span class="line">            C[i]=C[i-1]*nums[nums.length-i];</span><br><span class="line">        }</span><br><span class="line">        for(int i=0;i&lt;nums.length;i++){</span><br><span class="line">            A[i]=B[i]*C[nums.length-i-1];</span><br><span class="line">            System.out.println(A[i]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题53：正则表达式匹配题目描述请实现一个函数用来匹配包括'.'和'*'的正则表达式。模式中的字符'.'表示任意一个字符，而'*'表示它前面的字符可以出现任意次（包含0次）。 在本题中，匹配是指字符串的所有字符匹配整个模式。例如，字符串"aaa"与模式"a.a"和"ab*ac*a"匹配，但是与"aa.a"和"ab*a"均不匹配<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br># 题54：表示数值的字符串题目：<p>请实现一个函数用来判断字符串是否表示数值（包括整数和小数）。例如，字符串”+100”,”5e2”,”-123”,”3.1416”和”-1E-16”都表示数值。</p><p>但是”12e”,”1a3.14”,”1.2.3”,”+-5”和”12e+4.3”都不是。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        Scanner sc=new Scanner(System.in);</span><br><span class="line">        String str=sc.next();</span><br><span class="line">        char [] chr=str.toCharArray();</span><br><span class="line">        System.out.println(isNum(chr));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static boolean isNum(char [] chr){</span><br><span class="line">        if(chr==null)</span><br><span class="line">            return false;</span><br><span class="line">        int index=0;</span><br><span class="line">        if(chr[index]=='+'||chr[index]=='-'){</span><br><span class="line">            index++;</span><br><span class="line">        }</span><br><span class="line">        if (index==chr.length)</span><br><span class="line">            return false;</span><br><span class="line">        boolean num=true;</span><br><span class="line">        //数有多少个数字</span><br><span class="line">        while (index&lt;chr.length&amp;&amp;chr[index]&gt;='0'&amp;&amp;chr[index]&lt;='9'){</span><br><span class="line">            index++;</span><br><span class="line">        }</span><br><span class="line">        if(index!=chr.length){</span><br><span class="line">            if(chr[index]=='.'){</span><br><span class="line">                index++;</span><br><span class="line">                while (index&lt;chr.length&amp;&amp;chr[index]&gt;='0'&amp;&amp;chr[index]&lt;='9'){</span><br><span class="line">                    index++;</span><br><span class="line">                }</span><br><span class="line">                if(index&lt;chr.length&amp;&amp;(chr[index]=='E'||chr[index]=='e')){</span><br><span class="line">                    num=isExponential(chr,index);</span><br><span class="line">                }else</span><br><span class="line">                    num=false;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        return num&amp;&amp;index==chr.length;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static boolean isExponential(char[]chr ,int index){</span><br><span class="line">        index++;</span><br><span class="line">        if(index==chr.length)</span><br><span class="line">            return false;</span><br><span class="line">        if(chr[index]=='+'||chr[index]=='-'){</span><br><span class="line">            index++;</span><br><span class="line">        }</span><br><span class="line">        if(index==chr.length)</span><br><span class="line">            return false;</span><br><span class="line">        while (index&lt;chr.length&amp;&amp;chr[index]&gt;='0'&amp;&amp;chr[index]&lt;='9'){</span><br><span class="line">            index++;</span><br><span class="line">        }</span><br><span class="line">        return index==chr.length? true:false;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题55：字符流中第一个不重复的字符请实现一个函数用来找出字符流中第一个只出现一次的字符。例如，当从字符流中只读出前两个字符"go"时，第一个只出现一次的字符是"g"。当从该字符流中读出前六个字符“google"时，第一个只出现一次的字符是"l"。输出描述:如果当前字符流没有存在出现一次的字符，返回#字符。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        Scanner sc=new Scanner(System.in);</span><br><span class="line">        String str=sc.next();</span><br><span class="line"></span><br><span class="line">        System.out.println( FirstAppearingOnce(str));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static char FirstAppearingOnce(String str){</span><br><span class="line">        int [] hash=new int [256];</span><br><span class="line">        for(int i=0;i&lt;str.length();i++){</span><br><span class="line">            hash[str.charAt(i)]++;</span><br><span class="line">        }</span><br><span class="line">        int j=0;</span><br><span class="line">        while (hash[str.charAt(j)]!=1){</span><br><span class="line">            j++;</span><br><span class="line">        }</span><br><span class="line">        return str.charAt(j);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://image54.360doc.com/DownloadImg/2012/08/2512/26388884_7.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 剑指Offer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>剑指Offer(41-50)</title>
      <link href="/2017/07/11/jian-zhi-offer-41-50/"/>
      <url>/2017/07/11/jian-zhi-offer-41-50/</url>
      
        <content type="html"><![CDATA[<p><img src="http://image54.360doc.com/DownloadImg/2012/08/2512/26388884_11.gif" alt=""></p><a id="more"></a><h1 id="题46：求1-2-3-…-n"><a href="#题46：求1-2-3-…-n" class="headerlink" title="题46：求1+2+3+…+n"></a>题46：求1+2+3+…+n</h1><p>【题目描述】求1+2+3+…+n，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        Scanner sc=new Scanner(System.in);</span><br><span class="line">        int  num1=sc.nextInt();</span><br><span class="line">        int num2=sc.nextInt();</span><br><span class="line">        System.out.println( add(num1,num2));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static int  add(int num1 ,int num2){</span><br><span class="line">      int sum ,carry;</span><br><span class="line">      do {</span><br><span class="line">          sum=num1^num2;</span><br><span class="line">          carry=(num1&amp;num2)&lt;&lt;1;</span><br><span class="line">          num1=sum;</span><br><span class="line">          num2=carry;</span><br><span class="line">      }while (carry!=0);</span><br><span class="line">      return num1;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><p><img src="http://image54.360doc.com/DownloadImg/2012/08/2512/26415405_9.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 剑指Offer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java常用算法手册</title>
      <link href="/2017/07/10/java-chang-yong-suan-fa-shou-ce/"/>
      <url>/2017/07/10/java-chang-yong-suan-fa-shou-ce/</url>
      
        <content type="html"><![CDATA[<p>本书于黄埔图书馆（香雪馆）偶读之，算法不错！</p><p><img src="http://image54.360doc.com/DownloadImg/2012/08/2512/26415405_22.gif" alt=""></p><a id="more"></a><h1 id="简单约瑟夫环算法"><a href="#简单约瑟夫环算法" class="headerlink" title="简单约瑟夫环算法"></a>简单约瑟夫环算法</h1><p>1.算法背景:<br>罗马人攻占了乔塔帕特，41人藏在一个山洞中躲过了这场浩劫。这41个人中，包括历史学家josephus和他的一个朋友。剩余的39个人为了表示不向罗马人屈服<br>，决定集体自杀。大家决定了一个自杀方案，所有这41人围城一个圆圈，由第一个人开始顺时针报数，没报数为3的人就立刻自杀，然后由下一个人重新开始报数<br>任然是每报数为3的人就立刻自杀,……,知道所有人都自杀死亡为止.<br>约瑟夫和他的朋友并不像自杀，于是约瑟夫想到了一个计策，他们两个同样参数到自杀方案中，但是最后却躲过了自杀。请问是怎么做到的</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public class Main{</span><br><span class="line">    static final int nums=41;//总人数</span><br><span class="line">    static final int killMan = 3; //数到3则杀</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        Joseph(2);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void Joseph(int alive){</span><br><span class="line">        int []man =new int [nums]; // 存活者为0</span><br><span class="line">        int pos=-1;  //数组角标</span><br><span class="line">        int  i=0;  //循环，与3比较</span><br><span class="line">        int count=1;  //杀到第几个计数</span><br><span class="line">        while(count&lt;=nums){</span><br><span class="line">            do {</span><br><span class="line">                pos=(pos+1)%nums;   //环状处理</span><br><span class="line">                if(man[pos]==0)</span><br><span class="line">                    i++;</span><br><span class="line">                if(i==killMan){</span><br><span class="line">                    i=0;</span><br><span class="line">                    break;</span><br><span class="line">                }</span><br><span class="line">            }while (true);</span><br><span class="line">                man[pos]=count;      //记录pos+1位置的是第几个挂</span><br><span class="line">            count++;</span><br><span class="line">        }</span><br><span class="line">        alive=nums-alive;</span><br><span class="line">        for(int j=0;j&lt;nums;j++){</span><br><span class="line">            if(man[j]&gt;alive){</span><br><span class="line">                System.out.println("不被杀的位置是："+(j+1)); //数组从0开始，所以位置是j+1</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>0 = 141 = 362 = 13 = 384 = 155 = 26 = 247 = 308 = 39 = 1610 = 3411 = 412 = 2513 = 1714 = 515 = 4016 = 3117 = 618 = 1819 = 2620 = 721 = 3722 = 1923 = 824 = 3525 = 2726 = 927 = 2028 = 3229 = 1030 = 4131 = 2132 = 1133 = 2834 = 3935 = 1236 = 2237 = 3338 = 1339 = 2940 = 23</code><br><br></p><h1 id="背包问题–动态规划"><a href="#背包问题–动态规划" class="headerlink" title="背包问题–动态规划"></a>背包问题–动态规划</h1><p>背包问题具体例子：假设现有容量10kg的背包，另外有3个物品，分别为a1，a2，a3。<br>物品a1重量为3kg，价值为4；<br>物品a2重量为4kg，价值为5；<br>物品a3重量为5kg，价值为6。<br>将哪些物品放入背包可使得背包中的总价值最大？</p><p><img src="http://img.zcool.cn/community/01feca56d3c25f32f875520f2310a4.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书籍 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络</title>
      <link href="/2017/07/05/ji-suan-ji-wang-luo/"/>
      <url>/2017/07/05/ji-suan-ji-wang-luo/</url>
      
        <content type="html"><![CDATA[<p>读书笔记~<br><img src="http://img.mp.itc.cn/upload/20170130/105a6ce475114fa4b97e4f147fae5553_th.gif" alt=""></p><a id="more"></a><h1 id="TCP-IP详解读书笔记"><a href="#TCP-IP详解读书笔记" class="headerlink" title="TCP/IP详解读书笔记"></a>TCP/IP详解读书笔记</h1><h2 id="分层"><a href="#分层" class="headerlink" title="分层"></a>分层</h2><p>应用层：Telnet、FTP和e-mail等<br>运输层：TCP和UDP<br>网络层：IP、ICMP和IGMP<br>链路层：设备驱动程序及接口卡</p><br><h1 id="中国大学MOOC-计算机网络"><a href="#中国大学MOOC-计算机网络" class="headerlink" title="中国大学MOOC-计算机网络"></a>中国大学MOOC-计算机网络</h1><h2 id="第三周"><a href="#第三周" class="headerlink" title="第三周"></a>第三周</h2><p><code>超文本传输协议</code><br>    HyperText Transfer Protocol<br><code>使用TCP传输服务</code><br>    ·服务器在80端口等待客户的请求<br>    ·浏览器发起到服务器的TCP连接（创建套接字Socket）<br>    ·服务器接收来自浏览器的TCP连接<br>    ·浏览器（HTTP客户端）与Web服务器（HTTP服务器）交换HTTP消息<br>    ·关闭TCP连接<br><code>Email应用</code><br>构成：<br>邮件客户端：读写email消息；与服务器交互，收发email消息。<br>邮件服务器<br>SMTP协议</p><br># 计算机网络自顶向下方法## 第2章 应用层1.TCP服务·面向连接服务·可靠数据传输服务2.运输层协议·可靠数据传输·吞吐量·定时·安全性<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>剑指Offer(31-40)</title>
      <link href="/2017/07/05/jian-zhi-offer-31-40/"/>
      <url>/2017/07/05/jian-zhi-offer-31-40/</url>
      
        <content type="html"><![CDATA[<p>剑指Offer<br><img src="http://img.zcool.cn/community/0199a2554443f50000019ae97b5161.jpg" alt=""></p><a id="more"></a><h1 id="题31：连续子数组的最大和"><a href="#题31：连续子数组的最大和" class="headerlink" title="题31：连续子数组的最大和"></a>题31：连续子数组的最大和</h1><p>题目：输入一个整型数组，数组里有正数也有负数。数组中一个或连续的多个整数组成一个子数组。求所有子数组的和的最大值。要求时间复杂度为 O(n)。<br>例子说明：<br>例如输入的数组为{1, -2, 3, 10, -4, 7, 2, -5}，和最大的子数组为｛3, 10, -4, 7, 2}。因此输出为该子数组的和 18 。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public class Main{</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">       int [] arr={1, -2, 3, 10, -4, 7, 2, -5};</span><br><span class="line">        System.out.println(bigsum(arr));</span><br><span class="line">    }</span><br><span class="line">    private static boolean flag=true;</span><br><span class="line">    public static int    bigsum(int [] arr){</span><br><span class="line"></span><br><span class="line">     if(arr==null || arr.length&lt;=0){</span><br><span class="line">     flag=false;</span><br><span class="line">     return 0;</span><br><span class="line">     }</span><br><span class="line">     int bigsum=0;</span><br><span class="line">     int sum=0;</span><br><span class="line">     for(int i=0;i&lt;arr.length;i++){</span><br><span class="line">         if(sum&lt;=0){</span><br><span class="line">             sum=arr[i];</span><br><span class="line">         }else {</span><br><span class="line">             sum+=arr[i];</span><br><span class="line">         }</span><br><span class="line">         if(bigsum&lt;sum){</span><br><span class="line">             bigsum=sum;</span><br><span class="line">         }</span><br><span class="line">     }</span><br><span class="line">     return bigsum;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br><h1 id="题32：求从-1-到-n-的整数中-1-出现的次数"><a href="#题32：求从-1-到-n-的整数中-1-出现的次数" class="headerlink" title="题32：求从 1 到 n 的整数中 1 出现的次数"></a>题32：求从 1 到 n 的整数中 1 出现的次数</h1><p>题目：输入一个整数 n 求从 1 到 n 这 n 个整数的十进制表示中 1 出现的次数。<br>举例说明：</p><p>例如输入 12 ，从 1 到 12 这些整数中包含 1 的数字有 1、10、11 和 12，1 一共出现了 5 次。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br><h1 id="题33："><a href="#题33：" class="headerlink" title="题33："></a>题33：</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br># 题34：<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br># 题35：<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br># 题36：<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br># 题37：<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br># 题38：<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br># 题39：<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br># 题40：<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><img src="" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 剑指Offer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>剑指Offer(21-30)</title>
      <link href="/2017/07/03/jian-zhi-offer-21-30/"/>
      <url>/2017/07/03/jian-zhi-offer-21-30/</url>
      
        <content type="html"><![CDATA[<p><img src="http://img1.imgtn.bdimg.com/it/u=1822661550,696742345&amp;fm=11&amp;gp=0.jpg" alt=""></p><a id="more"></a><h1 id="题21：包含min函数的栈"><a href="#题21：包含min函数的栈" class="headerlink" title="题21：包含min函数的栈"></a>题21：包含min函数的栈</h1><p>题目：定义栈的数据结构，请在该类型中实现一个能够得到栈的最小元素的min函数。在该栈中，调用min，push及pop的时间复杂度都是O(1).</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public class Main{</span><br><span class="line">    private MyStack&lt;Integer&gt; minStack = new MyStack&lt;&gt;();</span><br><span class="line">    private MyStack&lt;Integer&gt; dataStack = new MyStack&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public void push(Integer item){</span><br><span class="line">        dataStack.push(item);</span><br><span class="line">        if(minStack.length == 0 || item&lt;=minStack.head.data){</span><br><span class="line">            minStack.push(item);</span><br><span class="line">        }else{</span><br><span class="line">            minStack.push(minStack.head.data);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    public Integer pop(){</span><br><span class="line">        if(dataStack.length == 0 || minStack.length == 0){</span><br><span class="line">            return null;</span><br><span class="line">        }</span><br><span class="line">        minStack.pop();</span><br><span class="line">        return dataStack.pop();</span><br><span class="line">    }</span><br><span class="line">    public Integer min(){</span><br><span class="line">        if(minStack.length == 0){</span><br><span class="line">            return null;</span><br><span class="line">        }</span><br><span class="line">        return minStack.head.data;</span><br><span class="line">    }</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">        E21MinInStack test = new E21MinInStack();</span><br><span class="line">        test.push(3);</span><br><span class="line">        test.push(2);</span><br><span class="line">        test.push(1);</span><br><span class="line">        System.out.println(test.pop());</span><br><span class="line">        System.out.println(test.min());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题28：字符串的排列题目：输入一个字符串，打印出该字符串中字符的所有排列。例如输入字符串abc，则打印出由字符a、b、c所能排列出来的所有字符串abc、acb、bac、bca、cab和cba。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">    permutation("abc");</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void permutation(String str){</span><br><span class="line">   int count=0;</span><br><span class="line">   if(str==null){</span><br><span class="line">       return;</span><br><span class="line">   }</span><br><span class="line">   char []  chs=str.toCharArray();//将字符串转换为字符数组</span><br><span class="line">   int point=0;</span><br><span class="line">   System.out.print(chs);</span><br><span class="line">   System.out.print(" ");</span><br><span class="line">   count++;</span><br><span class="line">   char temp1=chs[point];</span><br><span class="line">   chs[point]=chs[++point];</span><br><span class="line">   chs[point]=temp1;</span><br><span class="line">   while (!String.valueOf(chs).equals(str)){</span><br><span class="line">       System.out.print(chs);</span><br><span class="line">       System.out.print(" ");</span><br><span class="line">       count++;</span><br><span class="line">       if(point==chs.length-1){</span><br><span class="line">           char temp=chs[point];</span><br><span class="line">           chs[point]=chs[0];</span><br><span class="line">           chs[0]=temp;</span><br><span class="line">           point=0;</span><br><span class="line">       }else {</span><br><span class="line">           char temp=chs[point];</span><br><span class="line">           chs[point]=chs[++point];</span><br><span class="line">           chs[point]=temp;</span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line">    System.out.println(count);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题29：数组中出现次数超过一半的数组题目描述数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出null。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">    int [] array={1,2,3,2,2,2,5,4,2};</span><br><span class="line">    System.out.println(morethanhalfnumber(array));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static Integer  morethanhalfnumber(int [] array){</span><br><span class="line">        int count=1;</span><br><span class="line">        int temp=array[0];</span><br><span class="line">        for(int i=1;i&lt;array.length;i++){</span><br><span class="line">            if(temp==array[i]){</span><br><span class="line">                count++;</span><br><span class="line">            }else {</span><br><span class="line">                count--;</span><br><span class="line">                if(count==0){</span><br><span class="line">                    temp=array[i];</span><br><span class="line">                    count++;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        int count1=0;</span><br><span class="line">        for(int i=0;i&lt;array.length;i++){</span><br><span class="line">            if(array[i]==temp){</span><br><span class="line">                count1++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return count1&gt;=array.length/2 ? temp:null;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题30：最小的k个数题目描述输入n个整数，找出其中最小的K个数。例如输入4,5,1,6,2,7,3,8这8个数字，则最小的4个数字是1,2,3,4。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.TreeSet;</span><br><span class="line"></span><br><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">    int [] array={4,5,1,6,2,7,3,8};</span><br><span class="line">    int k=4;</span><br><span class="line">    System.out.println(MinKnumber(array,k));</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static ArrayList&lt;Integer&gt; MinKnumber(int [] array, int k){</span><br><span class="line">    if(array==null)</span><br><span class="line">        return null;</span><br><span class="line">    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(k);</span><br><span class="line"></span><br><span class="line">    if(k&gt;array.length)</span><br><span class="line">        return list;</span><br><span class="line">        TreeSet&lt;Integer&gt; tree=new TreeSet&lt;Integer&gt;();</span><br><span class="line">        for(int i=0;i&lt;array.length;i++){</span><br><span class="line">            tree.add(array[i]);</span><br><span class="line">        }</span><br><span class="line">        int i=0;</span><br><span class="line">        for (Integer elem:tree){</span><br><span class="line">            if(i&gt;k-1)</span><br><span class="line">                break;</span><br><span class="line">            list.add(elem);</span><br><span class="line">            i++;</span><br><span class="line">        }</span><br><span class="line">        return list;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://qq.yh31.com/tp/zjbq/201706091131061993.gif" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 剑指Offer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode解题思路(二)</title>
      <link href="/2017/06/28/leetcode-jie-ti-si-lu-er/"/>
      <url>/2017/06/28/leetcode-jie-ti-si-lu-er/</url>
      
        <content type="html"><![CDATA[<p><img src="" alt=""></p><a id="more"></a><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java代码实现</span><br></pre></td></tr></tbody></table></figure><br><p><img src="" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>剑指Offer(1-10)</title>
      <link href="/2017/06/28/jian-zhi-offer-1-10/"/>
      <url>/2017/06/28/jian-zhi-offer-1-10/</url>
      
        <content type="html"><![CDATA[<p>剑指Offer题目解析！</p><p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1498648976510&amp;di=bffe34c0fbc10ab7a8a562901fd66243&amp;imgtype=0&amp;src=http%3A%2F%2Fimg2.a0bi.com%2Fupload%2Fttq%2F20140711%2F1405077864900.gif" alt=""></p><a id="more"></a><h1 id="题1：赋值运算符函数"><a href="#题1：赋值运算符函数" class="headerlink" title="题1：赋值运算符函数"></a>题1：赋值运算符函数</h1><br># 题2：实现单例模式<br># 题3：二维数组中的查找题目：在一个二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个函数，输入这样的一个二维数组和一个整数，判断数组中是否含有该整数。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">      int arr[][] ={{1,3,5,7,9},</span><br><span class="line">            {2,4,6,8,10},</span><br><span class="line">            {3,5,7,9,12},</span><br><span class="line">            {5,7,9,10,15}};</span><br><span class="line">      int key=5;</span><br><span class="line">      System.out.print("Key has in arr :" + find(arr,key));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static boolean find(int [][] array,int key){</span><br><span class="line">        if(array==null) return false;</span><br><span class="line">        int clo=array[0].length-1;</span><br><span class="line">        int row=0;</span><br><span class="line">        while (clo&gt;=0&amp;&amp;row&lt;array.length){      </span><br><span class="line">                if(array[row][clo]&gt;key){</span><br><span class="line">                    clo--;</span><br><span class="line">                }else if (array[row][clo]&lt;key){</span><br><span class="line">                    row++;</span><br><span class="line">                }else {</span><br><span class="line">                    return true;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            return false;</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><br># 题4：替换空格`方法1：时间复杂度为 O(n) 的解法，思路是先数空格，再倒序插值!`<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        String str= "we are happy.";</span><br><span class="line">        String res=ResplaceBlank(str);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static String ResplaceBlank(String str){</span><br><span class="line">        if(str==null) return str;</span><br><span class="line">        int len=str.length();</span><br><span class="line">        int k=0;</span><br><span class="line">        for(int i=0;i&lt;len;i++){</span><br><span class="line">            if(str.charAt(i)==' ')</span><br><span class="line">            k++;</span><br><span class="line">        }</span><br><span class="line">        char [] strnew = new char[len+k*3];</span><br><span class="line">        for(int i=len+k*2-1,j=len-1;i&gt;=0;i--,j--){</span><br><span class="line">            if(str.charAt(j)!=' '){</span><br><span class="line">                strnew[i]=str.charAt(j);</span><br><span class="line">            }else{</span><br><span class="line">                strnew[i--]='0';</span><br><span class="line">                strnew[i--]='2';</span><br><span class="line">                strnew[i]='%';</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return new String(strnew);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>`方法2：新数组，直接append`<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line"></span><br><span class="line">            String str= "we are happy.";</span><br><span class="line">            String res=ResplaceBlank(str);</span><br><span class="line">            System.out.println(res);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    public static String ResplaceBlank(String str){</span><br><span class="line">        if(str==null) return str;</span><br><span class="line">        StringBuilder outputbuffer=new StringBuilder();</span><br><span class="line">        for(int i=0;i&lt;str.length();i++){</span><br><span class="line">            if(str.charAt(i)!=' '){</span><br><span class="line">                outputbuffer.append(str.charAt(i));</span><br><span class="line"></span><br><span class="line">            }else {</span><br><span class="line">                outputbuffer.append('%');</span><br><span class="line">                outputbuffer.append('2');</span><br><span class="line">                outputbuffer.append('0');</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return new String(outputbuffer);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题5：从尾到头打印链表`学会Stack的使用，Stack是一种先进后出的数据结构，pop出和push存`<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Stack;</span><br><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">       ListNode node1=new ListNode(1);</span><br><span class="line">       ListNode node2=new ListNode(2);</span><br><span class="line">       ListNode node3=new ListNode(3);</span><br><span class="line">       node1.next=node2;</span><br><span class="line">       node2.next=node3;</span><br><span class="line">       printReverseList(node1);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static class ListNode{</span><br><span class="line">        int val;</span><br><span class="line">        ListNode next;</span><br><span class="line">        ListNode(int val){</span><br><span class="line">            this.val=val;</span><br><span class="line">            this.next=null;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void printReverseList(ListNode root){</span><br><span class="line">        if(root==null ) return ;</span><br><span class="line">        ListNode node=root;</span><br><span class="line">        Stack&lt;ListNode&gt; stack = new Stack&lt;ListNode&gt;();</span><br><span class="line">        while(node!=null){</span><br><span class="line">            stack.push(node);</span><br><span class="line">            node=node.next;</span><br><span class="line">        }</span><br><span class="line">        while(!stack.isEmpty()){</span><br><span class="line">            int val=stack.pop().val;</span><br><span class="line">            System.out.print(val+" ");</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>递归实现方法：<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        ListNode node1=new ListNode(1);</span><br><span class="line">        ListNode node2=new ListNode(2);</span><br><span class="line">        ListNode node3=new ListNode(3);</span><br><span class="line">        node1.next=node2;</span><br><span class="line">        node2.next=node3;</span><br><span class="line">        printReverseList(node1);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static class ListNode{</span><br><span class="line">        int val;</span><br><span class="line">        ListNode next;</span><br><span class="line">        ListNode(int val){</span><br><span class="line">            this.val=val;</span><br><span class="line">            this.next=null;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void printReverseList(ListNode root){</span><br><span class="line">      if(root!=null){</span><br><span class="line">          if(root.next!=null){</span><br><span class="line">              printReverseList(root.next);</span><br><span class="line">          }</span><br><span class="line">      }</span><br><span class="line">      System.out.println(root.val);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题6：重建二叉树题目：输入某二叉树的前序遍历和中序遍历的结果，请重建出该二叉树。假设输入的前序遍历和中序遍历的结果中都不含重复的数字。例如：前序遍历序列｛ 1, 2, 4, 7, 3, 5, 6, 8｝和中序遍历序列｛4, 7, 2, 1, 5, 3, 8,6}，重建出下图所示的二叉树并输出它的头结点。![](http://upload-images.jianshu.io/upload_images/1361867-8773c0a120d3cb88.png?imageMogr2/auto-orient/strip " 根据前序和后序重建的二叉树")`函数使用：Arrays.copyOfRange(preSort, 1, i + 1)`<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">class BinaryTreeNode{</span><br><span class="line">    public  int value=0;</span><br><span class="line">    public BinaryTreeNode leftNode;</span><br><span class="line">    public BinaryTreeNode rightNode;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) throws Exception{</span><br><span class="line">        int[] preSort = {1, 2, 4, 7, 3, 5, 6, 8};</span><br><span class="line">        int[] inSort = {4, 7, 2, 1, 5, 3, 8, 6};</span><br><span class="line">        BinaryTreeNode root = constructCore(preSort, inSort);</span><br><span class="line">        System.out.print(root.value+" "+root.leftNode.value+" "+root.rightNode.value);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static BinaryTreeNode constructCore(int[] preSort, int[] inSort) throws Exception {</span><br><span class="line">        if(preSort==null||inSort==null){</span><br><span class="line">          return null;</span><br><span class="line">        }</span><br><span class="line">        if(preSort.length!=inSort.length){</span><br><span class="line">              throw new  Exception("长度不一样，非法的输入！");</span><br><span class="line">        }</span><br><span class="line">        BinaryTreeNode root = new BinaryTreeNode();</span><br><span class="line">        for (int i = 0; i &lt; preSort.length; i++) {</span><br><span class="line">            if (preSort[0] == inSort[i]) {</span><br><span class="line">                root.value = preSort[0];</span><br><span class="line">                root.leftNode = constructCore(Arrays.copyOfRange(preSort, 1, i + 1), Arrays.copyOfRange(inSort, 0, i));</span><br><span class="line">                root.rightNode = constructCore(Arrays.copyOfRange(preSort, i + 1, preSort.length), Arrays.copyOfRange(inSort, i + 1, inSort.length));</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return root;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题7：两个栈实现队列题目：用两个栈实现一个队列。队列的生命如下，请实现它的两个函数appendTail和deleteHead，分别完成在队列尾部插入结点和在队列头部删除结点的功能。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Stack;</span><br><span class="line"></span><br><span class="line">public class Main&lt;T&gt; {</span><br><span class="line">    private Stack&lt;T&gt; stack1=new Stack&lt;T&gt;();</span><br><span class="line">    private Stack&lt;T&gt; stack2=new Stack&lt;T&gt;();</span><br><span class="line">    public void appendTail(T t){</span><br><span class="line">        stack1.push(t);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public T deleteHead() throws Exception{</span><br><span class="line">        if(stack2.isEmpty()){</span><br><span class="line">            if(!stack1.isEmpty()){</span><br><span class="line">                stack2.push(stack1.pop());</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        if(stack2.isEmpty()){</span><br><span class="line">            throw new Exception("队列为空，不能删除！");</span><br><span class="line">        }</span><br><span class="line">        return stack2.pop();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws Exception{</span><br><span class="line">    Main&lt;String&gt; p7=new Main&lt;&gt;();</span><br><span class="line">    p7.appendTail("1");</span><br><span class="line">    p7.appendTail("2");</span><br><span class="line">    p7.appendTail("3");</span><br><span class="line">    System.out.println(p7.stack1);  //[1, 2, 3]</span><br><span class="line">    p7.deleteHead();     </span><br><span class="line">    System.out.println(p7.stack1);   //   [1, 2]</span><br><span class="line">    System.out.println(p7.deleteHead()); // 2</span><br><span class="line">    System.out.println(p7.stack1); //  [1]</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题8：旋转数组的最小数字题目： 把一个数组最开始的若干个元素搬到数组的末尾，我们称之数组的旋转。输入一个递增排序的数组的一个旋转， 输出旋转数组的最小元素。例如数组{3 ,4,5, 1, 2 ｝为｛ 1,2,3, 4,5}的一个旋转，该数组的最小值为 1。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">  //  int [] array={3 ,4,5, 1, 2 };</span><br><span class="line">     int [] array={1 ,1,1, 2, 0 };</span><br><span class="line">     //   int [] array={1 ,1,1, 0, 1 };</span><br><span class="line">    System.out.println(findMin(array));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static Integer findMin(int [] arr){</span><br><span class="line">        if(arr==null)</span><br><span class="line">            return null;</span><br><span class="line">        int start=0;</span><br><span class="line">        int end=arr.length-1;</span><br><span class="line"></span><br><span class="line">        while (start&lt;end){</span><br><span class="line">            int mid=(start+end)/2;</span><br><span class="line">            if(arr[mid]&gt;arr[end]){</span><br><span class="line">                start=mid+1;</span><br><span class="line">            }else if(arr[mid]&lt;arr[end]){</span><br><span class="line">                end=mid;</span><br><span class="line">            }else{</span><br><span class="line">                start++;</span><br><span class="line">                end--;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return arr[start];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题9：斐波那契数列写一个函数，输入n，求斐波那契（Fibonacci) 数列的第n项<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        Scanner sc=new Scanner(System.in);</span><br><span class="line">        int n=sc.nextInt();</span><br><span class="line">    System.out.println(Fibonacci(n));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static long Fibonacci(int n){</span><br><span class="line">    long res=0;</span><br><span class="line">    long numb1=0;</span><br><span class="line">    long numb2=1;</span><br><span class="line">    if(n==0){</span><br><span class="line">        return numb1;</span><br><span class="line">    }</span><br><span class="line">    if(n==1){</span><br><span class="line">        return numb2;</span><br><span class="line">    }</span><br><span class="line">    while(n!=1){</span><br><span class="line">        res=numb1+numb2;</span><br><span class="line">        numb1=numb2;</span><br><span class="line">        numb2=res;</span><br><span class="line">        n--;</span><br><span class="line">    }</span><br><span class="line">    return res;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># 题10：二进制中1的个数请实现一个函数， 输入一个整数，输出该数二进制表示中1的个数。例如把9表示成二进制是1001 ，有2位是1. 因此如果输入9，该出2。```import java.util.Scanner;<p>public class Main {<br>    public static void main(String[] args) {<br>        Scanner sc=new Scanner(System.in);<br>        int n=sc.nextInt();<br>    System.out.println(numberOf1(n));<br>    }</p><pre><code>public static int numberOf1(int n){    int count=0;    while (n!=0){        n=n&amp;(n-1);        count++;    }    return count;}</code></pre><p>}</p><p>``` </p><p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1498648976508&amp;di=0a707e43f7854a1b70038ba84df0be8e&amp;imgtype=0&amp;src=http%3A%2F%2Fs2.sinaimg.cn%2Fmw690%2F005DdmLAzy6JP9GXZQJa1%26690" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法与数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode解题思路(一)</title>
      <link href="/2017/06/26/leetcode-jie-ti-si-lu-yi/"/>
      <url>/2017/06/26/leetcode-jie-ti-si-lu-yi/</url>
      
        <content type="html"><![CDATA[<p>做的一些题的解题思路<br><img src="http://upload-images.jianshu.io/upload_images/3876828-a4346506018aa44f.gif?imageMogr2/auto-orient/strip" alt="面对疾风吧" title="面对疾风吧"></p><a id="more"></a><h1 id="Product-of-Array-Except-Self"><a href="#Product-of-Array-Except-Self" class="headerlink" title="Product of Array Except Self"></a>Product of Array Except Self</h1><p>除本身之外的数组之积<br>Given an array of n integers where n &gt; 1, nums, return an array output such that output[i] is equal to the product of all the elements of nums except nums[i].<br>Solve it without division and in O(n).<br>For example, given [1,2,3,4], return [24,12,8,6].</p><p>解题思路：拆分法<br>[A_234 , A_134 , A_124 , A_123 ]=<br>[1     , A_1   , A_12  , A_123 ]*<br>[A_234 , A_34  , A_4   , 1     ]</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Created by Administrator on 2017/5/8.</span><br><span class="line"> */</span><br><span class="line">public class LeetCode {</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        // int [] nums={5, 7, 1, 8,3, 10};  //测试</span><br><span class="line">        int[] nums = {1, 3, 5, 6};</span><br><span class="line">        int k = 5;</span><br><span class="line">        int [] res = productExceptSelf(nums);</span><br><span class="line">        for (int i=0;i&lt;res.length;i++) {</span><br><span class="line">            System.out.print(res[i]+" ");</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static int[] productExceptSelf(int[] nums) {</span><br><span class="line">        final int [] result = new int [nums.length];</span><br><span class="line">        final int [] right = new int [nums.length];</span><br><span class="line">        final int [] left = new int [nums.length];</span><br><span class="line">        left[0]=1;</span><br><span class="line">        for(int i=1;i&lt;nums.length;i++){</span><br><span class="line">            left[i]=left[i-1]*nums[i-1];</span><br><span class="line">        }</span><br><span class="line">        right[nums.length-1]=1;</span><br><span class="line">        for(int i=nums.length-2;i&gt;=0;i--){</span><br><span class="line">            right[i]=right[i+1]*nums[i+1];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        for (int i=0;i&lt;nums.length;i++){</span><br><span class="line">            result[i]=right[i]*left[i];</span><br><span class="line">        }</span><br><span class="line">        return  result;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># Increasing Triplet Subsequence<p>Given an unsorted array return whether an increasing subsequence of length 3 exists or not in the array.</p><p>Formally the function should:<br>Return true if there exists i, j, k<br>such that arr[i] &lt; arr[j] &lt; arr[k] given 0 ≤ i &lt; j &lt; k ≤ n-1 else return false.<br>Your algorithm should run in O(n) time complexity and O(1) space complexity.</p><p>Examples:<br>Given [1, 2, 3, 4, 5],<br>return true.</p><p>Given [5, 4, 3, 2, 1],<br>return false.<br><code>用整数最大值去比较，x1记录第一个数，x2记录第二大的数，当出现第三大的数，则return true。</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class Solution {</span><br><span class="line">    public boolean increasingTriplet(int[] nums) {</span><br><span class="line">        int x1=Integer.MAX_VALUE;</span><br><span class="line">        int x2=Integer.MAX_VALUE;</span><br><span class="line">        </span><br><span class="line">        for(int x: nums){</span><br><span class="line">            if(x&lt;=x1) x1=x;</span><br><span class="line">            else if(x&lt;=x2) x2=x;</span><br><span class="line">            else return true;</span><br><span class="line">        }</span><br><span class="line">        return false;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># Contains Duplicate IIGiven an array of integers and an integer k, find out whether there are two distinct indices i and j in the array such that nums[i] = nums[j] and the absolute difference between i and j is at most k.<p><code>维护一个HashMap,key为整数，value为下标，将数组中的元素不断添加到这个Hashmap中，遇到重复时，计算下标距离；</code><br><code>用Integer.MAX_VALUE 设置为比较的初始值；</code><br><code>学会用HashMap是非常关键的。</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class LeetCode {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        int[] nums = {1, 3, 5, 1,6};</span><br><span class="line">        int k=3;</span><br><span class="line">        System.out.print(containsNearbyDuplicate(nums,k));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static boolean containsNearbyDuplicate(int[] nums, int k) {</span><br><span class="line">        final Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">        int min=Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">        for(int i=0;i&lt;nums.length;i++){</span><br><span class="line">            if(map.containsKey(nums[i])){</span><br><span class="line">                final int preIndex=map.get(nums[i]);</span><br><span class="line">                final int gap = i-preIndex;</span><br><span class="line">                min = Math.min(min,gap);</span><br><span class="line">            }</span><br><span class="line">            map.put(nums[i],i);</span><br><span class="line">        }</span><br><span class="line">        return min&lt;=k;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br># Add Two NumbersYou are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.<p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p><p>Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)<br>Output: 7 -&gt; 0 -&gt; 8<br><code>主要学习怎么创建链表，怎么定义链表</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">public class LeetCode {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        int[] inputl1=new int[]{2,4,3};</span><br><span class="line">        int[] inputl2=new int[]{5,6,4};</span><br><span class="line">        ListNode l1=buildListNode(inputl1);</span><br><span class="line">        ListNode l2=buildListNode(inputl2);</span><br><span class="line">        ListNode listNode =addTwoNumbers(l1,l2);</span><br><span class="line">        while(listNode!=null){</span><br><span class="line">            System.out.println("val "+listNode.val);</span><br><span class="line">            listNode=listNode.next;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    //定义链表</span><br><span class="line">   public static class ListNode{</span><br><span class="line">        int val;</span><br><span class="line">        ListNode next;</span><br><span class="line">        ListNode(int val){</span><br><span class="line">            this.val=val;</span><br><span class="line">            this.next=null;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    //创建链表</span><br><span class="line">    private static ListNode buildListNode(int[] input){</span><br><span class="line">        ListNode first = null,last = null,newNode;</span><br><span class="line">        int num;</span><br><span class="line">        if(input.length&gt;0){</span><br><span class="line">            for(int i=0;i&lt;input.length;i++){</span><br><span class="line">                newNode=new ListNode(input[i]);</span><br><span class="line">                newNode.next=null;</span><br><span class="line">                if(first==null){</span><br><span class="line">                    first=newNode;</span><br><span class="line">                    last=newNode;</span><br><span class="line">                }</span><br><span class="line">                else{</span><br><span class="line">                    last.next=newNode;</span><br><span class="line">                    last=newNode;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return first;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Definition for singly-linked list.</span><br><span class="line">     * public class ListNode {</span><br><span class="line">     *     int val;</span><br><span class="line">     *     ListNode next;</span><br><span class="line">     *     ListNode(int x) { val = x; }</span><br><span class="line">     * }</span><br><span class="line">     */</span><br><span class="line">        public static ListNode addTwoNumbers(ListNode l1, ListNode l2) {</span><br><span class="line">           ListNode dummy =new ListNode(-1);</span><br><span class="line">           int carry = 0;</span><br><span class="line">           ListNode prev = dummy;</span><br><span class="line">           for(ListNode pa=l1 ,  pb=l2 ; pa!=null || pb!=null ;</span><br><span class="line">            pa=pa==null?null : pa.next,</span><br><span class="line">            pb=pb==null ? null : pb.next,</span><br><span class="line">            prev=prev.next){</span><br><span class="line">               final int ai=pa==null?0:pa.val;</span><br><span class="line">               final int bi=pb==null?0:pb.val;</span><br><span class="line">               final int value=(ai+bi+carry)%10;</span><br><span class="line">               carry=(ai+bi+carry)/10;</span><br><span class="line">               prev.next=new ListNode (value);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            if(carry&gt;0)</span><br><span class="line">                prev.next=new ListNode (carry);</span><br><span class="line">            return dummy.next;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="Evaluate-Reverse-Polish-Notation"><a href="#Evaluate-Reverse-Polish-Notation" class="headerlink" title="Evaluate Reverse Polish Notation"></a>Evaluate Reverse Polish Notation</h1><p>计算逆波兰表达式（又叫后缀表达式）的值</p><p>‘’ 2 ‘’,’’ 1 ‘’,’’ + ‘’, ‘’3’’, ‘’* ‘’     –&gt;(2+1)*3–&gt;9</p><p>用堆栈遇到运算符则把前面两个拿出来运算</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       String []tokens={<span class="string">"2"</span>, <span class="string">"1"</span>, <span class="string">"+"</span>, <span class="string">"3"</span>, <span class="string">"*"</span>};</span><br><span class="line">        System.out.print(evalRPN(tokens));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(String [] tokens)</span></span>{</span><br><span class="line">        Stack&lt;String&gt; s = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(tokens.length==<span class="number">1</span>){</span><br><span class="line">            <span class="keyword">return</span> Integer.parseInt(tokens[<span class="number">0</span>]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(String token:tokens){</span><br><span class="line">            <span class="keyword">if</span>(!isOperator(token)){</span><br><span class="line">                s.push(token);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">int</span> y=Integer.parseInt(s.pop());</span><br><span class="line">                <span class="keyword">int</span> x=Integer.parseInt(s.pop());</span><br><span class="line">                <span class="keyword">switch</span> (token.charAt(<span class="number">0</span>)){</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'+'</span>:x+=y;<span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'-'</span>:x-=y;<span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'*'</span>:x*=y;<span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'/'</span>:x/=y;<span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">                s.push(String.valueOf(x));</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(s.peek());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isOperator</span><span class="params">(<span class="keyword">final</span> String op)</span></span>{</span><br><span class="line">        <span class="keyword">return</span> op.length() == <span class="number">1</span> &amp;&amp; OPS.indexOf(op)!=-<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String OPS = <span class="keyword">new</span> String(<span class="string">"+-*/"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/4/37803.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Efounds笔试</title>
      <link href="/2017/06/24/efounds-bi-shi/"/>
      <url>/2017/06/24/efounds-bi-shi/</url>
      
        <content type="html"><![CDATA[<p>Efounds的笔试~</p><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/5/41149.jpg" alt=""></p><a id="more"></a><p><code>1.比较两个浮点数大小</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">一般不会直接用“==”或者“!=”对两个浮点数进行比较。</span><br><span class="line">判断两个浮点数float a 与 float b 是否相等可以根据他们的差的绝对值是否大于0来进行判断。</span><br><span class="line">判断相等：</span><br><span class="line">if（Math.abs(a-b)&lt;=0）{相等}</span><br><span class="line">或者</span><br><span class="line">if（!Math.abs(a-b)&gt;0）{相等}</span><br><span class="line"></span><br><span class="line">判断不等：</span><br><span class="line">if（Math.abs(a-b)&gt;0）{不相等}</span><br></pre></td></tr></tbody></table></figure><p><code>2，用最快排序找到无序的数组里第K大的数</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">public class AlgCode {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">     // int [] nums={5, 7, 1, 8,3, 10};  //测试</span><br><span class="line">        int [] nums=  {3,1,4,7,5,8,0};</span><br><span class="line">        int k=5;</span><br><span class="line">      int  res= findKth(nums,0,nums.length-1,k-1);</span><br><span class="line">      System.out.print("The Kth is: "+res);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private static int findKth(int [] data ,int first , int last ,int k){</span><br><span class="line">        int kth;</span><br><span class="line">        if(first==last) kth=data[first];</span><br><span class="line">        else {</span><br><span class="line">            int pivot = data[first];</span><br><span class="line">            int splitPoint = partition(data, first, last);</span><br><span class="line">            if (k &lt; splitPoint)</span><br><span class="line">                kth = findKth(data, first, splitPoint - 1, k);</span><br><span class="line">            else if(k&gt;splitPoint)</span><br><span class="line">                kth = findKth(data, splitPoint + 1, last, k);</span><br><span class="line">            else</span><br><span class="line">            kth = pivot;</span><br><span class="line">           }</span><br><span class="line">           return kth;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        private static int partition(int [] data ,int first , int last){</span><br><span class="line">            int pivot = data[first];</span><br><span class="line">            while(first&lt;last) {</span><br><span class="line">                while (first &lt; last &amp;&amp; data[last] &gt; pivot)</span><br><span class="line">                    last--;</span><br><span class="line">                data[first] = data[last];</span><br><span class="line">                while (first &lt; last &amp;&amp; data[first] &lt; pivot)</span><br><span class="line">                    first++;</span><br><span class="line">                data[last] = data[first];</span><br><span class="line">            }</span><br><span class="line">                data[first]=pivot;</span><br><span class="line">                return first;</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p><code>3，单链表是否有环并如何找到环入口</code><br>首先要了解什么叫环，如图，Join.next-&gt;Pos，Pos.next-&gt;Join，那么该链表有环<br><img src="http://images.cnitblog.com/i/466768/201404/162209501501814.png" alt=""></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">public class LinkedLoop{</span><br><span class="line">    //内部静态类定义结点类</span><br><span class="line">static class Node{</span><br><span class="line">int val;</span><br><span class="line">Node next;</span><br><span class="line">public Node(int val){</span><br><span class="line">this.val = val;</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">//判断单链表是否有环</span><br><span class="line">public static boolean hasLoop(Node head){</span><br><span class="line">Node p1=head;  //指向头节点</span><br><span class="line">Node p2=head.next;  //指向下一个节点</span><br><span class="line"></span><br><span class="line">while(p2!=null &amp;&amp;p2.next!=null){</span><br><span class="line">p1=p1.next;</span><br><span class="line">p2=p2.next.next;</span><br><span class="line">if(p2==null){</span><br><span class="line">return false;</span><br><span class="line">}</span><br><span class="line">int val1=p1.val;</span><br><span class="line">int val2=p2.val;</span><br><span class="line">if(val1==val2)</span><br><span class="line">return true;</span><br><span class="line">}</span><br><span class="line">return false;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">public static void main(String [] args){</span><br><span class="line">Node n1=new Node(1);</span><br><span class="line">Node n2=new Node(3);</span><br><span class="line">Node n3=new Node(6);</span><br><span class="line">Node n4=new Node(4);</span><br><span class="line">Node n5=new Node(5);</span><br><span class="line">Node n6=new Node(10);</span><br><span class="line">n1.next = n2;</span><br><span class="line">n2.next = n3;</span><br><span class="line">n3.next = n4;</span><br><span class="line">n4.next = n5;</span><br><span class="line">n5.next = n6;</span><br><span class="line">n6.next = n5;</span><br><span class="line">System.out.println(hasLoop(n1));</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>4，快排第一次排列后的顺序</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int [] nums=  {3,1,4,7,5,8,0};      </span><br><span class="line">如果基准为3；</span><br><span class="line">第一次快排后:</span><br><span class="line">nums={0,1,3,7,5,8,4};</span><br></pre></td></tr></tbody></table></figure><p><code>5，Java 数据输入</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int a =0;</span><br><span class="line">Scanner input = new Scanner(System.in);</span><br><span class="line">System.out.println("输入数字:");</span><br><span class="line">a = input.nextInt();</span><br></pre></td></tr></tbody></table></figure><p><code>6，软件生命周期</code></p><p>软件生命周期(SDLC，Systems Development Life Cycle,SDLC)是软件的产生直到报废或停止使用的生命周期。<br>软件生存周期包括：</p><p>一，问题定义。要求系统分析员与用户进行交流，弄清“用户需要计算机解决什么问题”然后提出关于“系统目标与范围的说明”，提交用户审查和确认。</p><p>二，可行性研究。一方面在于把待开发的系统的目标以明确的语言描述出来，另一方面从经济、技术、法律等多方面进行可行性分析。</p><p>三，需求分析。弄清用户对软件系统的全部需求，编写需求规格说明书和初步的用户手册，提交评审。</p><p>四，开发阶段。开发阶段由三个阶段组成：<br>1，设计<br>2，实现：根据选定的程序设计语言完成源程序的编码。<br>3，测试</p><p>五，维护：维护包括四个方面<br>1，改正性维护：在软件交付使用后，由于开发测试时的不彻底、不完全、必然会有一部分隐藏的错误被带到运行阶段，这些隐藏的错误在某些特定的使用环境下就会暴露。<br>2，适应性维护：是为适应环境的变化而修改软件的活动。<br>3，完善性维护 ：是根据用户在使用过程中提出的一些建设性意见而进行的维护活动。<br>4，预防性维护：是为了进一步改善软件系统的可维护性和可靠性，并为以后的改进奠定基础。</p><p><code>7,多线程和多进程的区别</code><br>a.进程是资源分配的基本单位，线程是cpu调度，或者说是程序执行的最小单位。在Mac、Windows NT等采用微内核结构的操作系统中，进程的功能发生了变化：它只是资源分配的单位，而不再是调度运行的单位。在微内核系统中，真正调度运行的基本单位是线程。因此，实现并发功能的单位是线程。</p><p>b.进程有独立的地址空间，比如在linux下面启动一个新的进程，系统必须分配给它独立的地址空间，建立众多的数据表来维护它的代码段、堆栈段和数据段，这是一种非常昂贵的多任务工作方式。而运行一个进程中的线程，它们之间共享大部分数据，使用相同的地址空间，因此启动一个线程，切换一个线程远比进程操作要快，花费也要小得多。当然，线程是拥有自己的局部变量和堆栈（注意不是堆）的，比如在windows中用_begin threadex创建一个新进程就会在调用CreateThread的同时申请一个专属于线程的数据块（_tiddata)。</p><p>c.线程之间的通信比较方便。统一进程下的线程共享数据（比如全局变量，静态变量），通过这些数据来通信不仅快捷而且方便，当然如何处理好这些访问的同步与互斥正是编写多线程程序的难点。而进程之间的通信只能通过进程通信的方式进行。</p><p>d.由b，可以轻易地得到结论：多进程比多线程程序要健壮。一个线程死掉整个进程就死掉了，但是在保护模式下，一个进程死掉对另一个进程没有直接影响。</p><p>e.线程的执行与进程是有区别的。每个独立的线程有有自己的一个程序入口，顺序执行序列和程序的出口，但是线程不能独立执行，必须依附与程序之中，由应用程序提供多个线程的并发控制。</p><p><code>8,多线程同步和互斥有何异同，在什么情况下分别使用他们？举例说明</code><br> 所谓同步，表示有先有后，比较正式的解释是“线程同步是指线程之间所具有的一种制约关系，一个线程的执行依赖另一个线程的消息，当它没有得到另一个线程的消息时应等待，直到消息到达时才被唤醒。”</p><p> 所谓互斥，比较正式的说明是“线程互斥是指对于共享的进程系统资源，在各单个线程访问时的排它性。当有若干个线程都要使用某一共享资源时，任何时刻最多只允许一个线程去使用，其它要使用该资源的线程必须等待，直到占用资源者释放该资源。线程互斥可以看成是一种特殊的线程同步。”表示不能同时访问，也是个顺序问题，所以互斥是一种特殊的同步操作。</p><p>举个例子，设有一个全局变量global，为了保证线程安全，我们规定只有当主线程修改了global之后下一个子线程才能访问global，这就需要同步主线程与子线程，可用关键段实现。当一个子线程访问global的时候另一个线程不能访问global，那么就需要互斥。</p><p><code>9,网络协议：访问某个网址都经过了哪些协议</code><br>·域名解析协议DNS<br>应用层协议，网址相当于是域名，访问DNS服务器，这个过程有域名解析协议，解析出域名对应的IP地址。</p><p>·超文本传输协议HTTP<br>应用层协议，基于请求和响应的协议，通过请求行、消息报头、请求正文向目的地址发送请求。目的服务器在接受请求后，返回一个状态行、消息报头、响应正文的响应。</p><p>·传输控制协议TCP<br>传输层协议，HTTP协议是基于TCP协议的，也就是说HTTP无论是请求还是响应都是把HTTP的内容作为TCP的正文封装到TCP的报文中的。TCP协议是传输安全，面向连接的协议，在客户端和服务端建立TCP/IP五层模型的协议 连接的过程中需要经过三次握手，发送第一个SYN的一端将执行主动打开，接收这个SYN并发回下一个SYN的另一端执行被动打开，以及四次释放的过程才停止发送数据。</p><p>·网际协议IP协议<br>IP协议在整个传输过程中都起着重要的作用，网址通过DNS解析为IP地址，在TCP建立连接以及传输数据的整个过程中都在使用着IP协议。</p><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/5/40750.png" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔试 </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java之查找算法</title>
      <link href="/2017/06/22/java-zhi-cha-zhao-suan-fa/"/>
      <url>/2017/06/22/java-zhi-cha-zhao-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>用Java实现一些基本查找算法。</p><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/3/20606.jpg" alt=""></p><a id="more"></a><h2 id="Search-for-a-Range"><a href="#Search-for-a-Range" class="headerlink" title="Search for a Range"></a>Search for a Range</h2><p>描述<br>Given a sorted array of integers, find the starting and ending position of a given target value.<br>Your algorithm’s runtime complexity must be in the order of O(log n) .<br>If the target is not found in the array, return [-1, -1] .<br>For example, Given [5, 7, 7, 8, 8, 10] and target value 8, return [3, 4] .<br>分析<br>已经排好了序，用二分查找。<br>重新实现 lower_bound 和 upper_bound<br>Search for a Range</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// Search for a Range</span><br><span class="line">// 重新实现 lower_bound 和 upper_bound</span><br><span class="line">// 时间复杂度O(logn)，空间复杂度O(1)</span><br><span class="line">public class Solution{</span><br><span class="line">private static int[] searchRange(int [] nums,int target){</span><br><span class="line">        int lower=lower_bound(nums,0,nums.length,target);</span><br><span class="line">        int high=upper_bound(nums,0,nums.length,target);</span><br><span class="line"></span><br><span class="line">        if(lower == nums.length || nums[lower]!=target)</span><br><span class="line">            return new int[]{-1,-1};</span><br><span class="line">        else</span><br><span class="line">            return new int[]{lower,high-1};</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">  private static   int lower_bound(int [] A , int first ,int last ,int target){</span><br><span class="line">        while(first!=last){</span><br><span class="line">            int mid=(first+last)/2;</span><br><span class="line">            if(target&gt;A[mid])   first=++mid;</span><br><span class="line">            elselast=mid;</span><br><span class="line">        }</span><br><span class="line">        return first;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">  private static   int upper_bound(int [] A , int first ,int last ,int target){</span><br><span class="line">        while(first!=last){</span><br><span class="line">            int mid=(first+last)/2;</span><br><span class="line">            if(target&gt;=A[mid])   first=++mid; //找到最远边界</span><br><span class="line">            elselast=mid;</span><br><span class="line">        }</span><br><span class="line">        return first;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="Search-Insert-Position"><a href="#Search-Insert-Position" class="headerlink" title="Search Insert Position"></a>Search Insert Position</h2><p>描述<br>Given a sorted array and a target value, return the index if the target is found. If not, return the index<br>where it would be if it were inserted in order.<br>You may assume no duplicates in the array.<br>Here are few examples.<br>[1,3,5,6], 5 → 2<br>[1,3,5,6], 2 → 1<br>[1,3,5,6], 7 → 4<br>[1,3,5,6], 0 → 0<br>分析<br>即 std::lower_bound() 。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public static int searchInsert(int [] nums , int target){</span><br><span class="line">          int first=0;</span><br><span class="line">          int last=nums.length;</span><br><span class="line">          while(first!=last){</span><br><span class="line">              int mid=(first+last)/2;</span><br><span class="line">              if(target&gt;nums[mid])</span><br><span class="line">                  first=mid+1;</span><br><span class="line">              else last=mid;</span><br><span class="line">          }</span><br><span class="line">          return first;</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/2/19124.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java实现常见排序算法</title>
      <link href="/2017/06/21/java-shi-xian-chang-jian-pai-xu-suan-fa/"/>
      <url>/2017/06/21/java-shi-xian-chang-jian-pai-xu-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>一些常见的排序算法实现！<br><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/5/41939.jpg" alt=""></p><a id="more"></a><h2 id="·查找算法"><a href="#·查找算法" class="headerlink" title="·查找算法"></a>·查找算法</h2><p>典型的二分查找<br>对于二分查找算法要求, 查找前的数据必须是已经排好序的, 然后得到数组的开始位置start和结束位置end, 取中间位置mid的数据a[mid]跟待查找数据key进行比较, 若 a[mid] &gt; key, 则取end = mid - 1; 若 a[mid] &lt; key, 则取start = mid + 1; 若 a[mid] = key 则直接返回当前mid为查找到的位置. 依次遍历直到找到数据或者最终没有该条数据. </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public static int binarySearch(int [] nums , int key ){</span><br><span class="line"> int start =0;</span><br><span class="line"> int end = nums.length-1;</span><br><span class="line"> while(start&lt;end){</span><br><span class="line"> int mid = (end+start)/2;</span><br><span class="line"> if(nums[mid]&gt;key){</span><br><span class="line"> end=mid-1;</span><br><span class="line">}else if(nums[mid]&lt;key){</span><br><span class="line">start=mid+1;</span><br><span class="line">}else{</span><br><span class="line">return mid;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> }</span><br><span class="line"> return -1;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="·插入排序"><a href="#·插入排序" class="headerlink" title="·插入排序"></a>·插入排序</h2><p>插入排序的基本思想是，经过i-1遍处理后,L[1..i-1]己排好序。第i遍处理仅将L[i]插入L[1..i-1]的适当位置，使得L[1..i] 又是排好序的序列。要达到这个目的，我们可以用顺序比较的方法。首先比较L[i]和L[i-1]，如果L[i-1]≤ L[i]，则L[1..i]已排好序，第i遍处理就结束了；否则交换L[i]与L[i-1]的位置，继续比较L[i-1]和L[i-2]，直到找到某一个位置j(1≤j≤i-1)，使得L[j] ≤L[j+1]时为止。图1演示了对4个元素进行插入排序的过程，共需要(a),(b),(c)三次插入稳定，时间复杂度 O(n^2)</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public static void insertSort(int [] a){</span><br><span class="line">for(int i=2 ; i&lt; a.length ;i++ ){</span><br><span class="line"> if(a[i]&lt;a[i-1]){</span><br><span class="line"> a[0]=a[i];</span><br><span class="line"> a[i]=a[i-1];</span><br><span class="line"> int j=0;</span><br><span class="line"> for(j= i-2;a[j]&gt;a[0];j--){</span><br><span class="line"> a[j+1]=a[j];</span><br><span class="line">}</span><br><span class="line">a[j+1]=a[0];</span><br><span class="line"> }</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="·选择排序"><a href="#·选择排序" class="headerlink" title="·选择排序"></a>·选择排序</h2><p>选择排序的基本思想是对待排序的记录序列进行n-1遍的处理，第i遍处理是将L[i..n]中最小者与L[i]交换位置。这样，经过i遍处理之后，前i个记录的位置已经是正确的了。</p><p>不稳定, 时间复杂度 O(n^2)</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public static void selectSort(int [] a){</span><br><span class="line">for(int i=1 ; i&lt;a.length ;i++){</span><br><span class="line">int j=selectMinKey(a,i);</span><br><span class="line">if(i!=j){</span><br><span class="line">swap(a,i,j);</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">private static int selectMinKey(int [] a, int i){</span><br><span class="line">int key=i;</span><br><span class="line">for(int j=i+1;j&lt;a.length;j++){</span><br><span class="line">if(a[j]&lt;a[key]){</span><br><span class="line">key=j;</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">return key;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="·冒泡排序"><a href="#·冒泡排序" class="headerlink" title="·冒泡排序"></a>·冒泡排序</h2><p>冒泡排序方法是最简单的排序方法。这种方法的基本思想是，将待排序的元素看作是竖着排列的“气泡”，较小的元素比较轻，从而要往上浮。在冒泡排序算法中我们要对这个“气泡”序列处理若干遍。所谓一遍处理，就是自底向上检查一遍这个序列，并时刻注意两个相邻的元素的顺序是否正确。如果发现两个相邻元素的顺序不对，即“轻”的元素在下面，就交换它们的位置。显然，处理一遍之后，“最轻”的元素就浮到了最高位置；处理二遍之后，“次轻”的元素就浮到了次高位置。在作第二遍处理时，由于最高位置上的元素已是“最轻”元素，所以不必检查。一般地，第i遍处理时，不必检查第i高位置以上的元素，因为经过前面i-1遍的处理，它们已正确地排好序。</p><p>稳定，时间复杂度 O(n^2)</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public static void bubbleSort(int [] a){</span><br><span class="line">for(int i=0;i&lt;a.length-1;i++){</span><br><span class="line">for(int j=i;j&lt;a.length;j++){</span><br><span class="line">if(a[j+1]&lt;a[j]){</span><br><span class="line">swap(a,j+1,j);</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="·快速排序"><a href="#·快速排序" class="headerlink" title="·快速排序"></a>·快速排序</h2><p>不稳定，时间复杂度 最理想 O(nlogn) 最差时间O(n^2)</p><p>快速排序是对冒泡排序的一种本质改进。它的基本思想是通过一趟扫描后，使得排序序列的长度能大幅度地减少。在冒泡排序中，一次扫描只能确保最大数值的数移到正确位置，而待排序序列的长度可能只减少1。快速排序通过一趟扫描，就能确保某个数（以它为基准点吧）的左边各数都比它小，右边各数都比它大。然后又用同样的方法处理它左右两边的数，直到基准点的左右只有一个元素为止。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public static void quickSort(int [] a,int low ,int high){</span><br><span class="line">int pivotLoc=0;//中心点</span><br><span class="line">if(low&lt;high){</span><br><span class="line">pivotLoc=partitionLoc(a,low,high);</span><br><span class="line">quickSort(a,low,pivotLoc-1);</span><br><span class="line">quickSort(a,pivotLoc+1,high);</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">//获取到a的下标 low ~ high 中, a[low]的应该放的位置, 即左边的数 &lt; a[low] 右边的数 &gt; a[low]</span><br><span class="line">private static int partitionLoc(int [] a,int low ,int high){</span><br><span class="line">a[0]=a[low];</span><br><span class="line">while(low&lt;high){</span><br><span class="line">while(low&lt;high &amp;&amp; a[high]&gt;a[0]){</span><br><span class="line">high--;</span><br><span class="line">}</span><br><span class="line">a[low]=a[high];</span><br><span class="line">while( low &lt; high &amp;&amp; a[low]&lt;=a[0]){</span><br><span class="line">low++;</span><br><span class="line">}</span><br><span class="line">a[high] = a[low];</span><br><span class="line">}</span><br><span class="line">a[low]=a[0];</span><br><span class="line">return low;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/5/41120.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS Notes</title>
      <link href="/2017/05/20/js-notes/"/>
      <url>/2017/05/20/js-notes/</url>
      
        <content type="html"><![CDATA[<p>项目需求，初学JS Notes。<br><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/5/41579.jpg" alt=""></p><a id="more"></a><p><code>1.基础</code><br>常用函数</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alert("提示框");</span><br><span class="line">document.write("输出内容");</span><br></pre></td></tr></tbody></table></figure><p>定义变量</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var 变量名=值;</span><br></pre></td></tr></tbody></table></figure><p>内置对象</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String 对象</span><br><span class="line">Number 对象</span><br><span class="line">Boolean 对象</span><br><span class="line">Math 对象</span><br><span class="line">Date 对象</span><br><span class="line">Array 对象</span><br></pre></td></tr></tbody></table></figure><p>自定义对象</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Java：用class 来定义对象</span><br><span class="line">JS：用 function 来定义对象</span><br></pre></td></tr></tbody></table></figure><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/5/40344.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二维码前沿发展</title>
      <link href="/2017/04/26/er-wei-ma-qian-yan-fa-zhan/"/>
      <url>/2017/04/26/er-wei-ma-qian-yan-fa-zhan/</url>
      
        <content type="html"><![CDATA[<p>二维码纠错、定位、去模糊都已经研究很透了，现在很多公司都在推自己的闭源码！<br><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/2/19441.jpg" alt=""></p><a id="more"></a><p>Facebook正努力使之用户在Messenger上更容易互相联系，所以它推出了许多新方式来让用户聊天。Messenger用户现在已经有专门的个人链接（m.me/username），让对方可以访问并且开始聊天。Facebook也推出了所谓的Messenger Codes，这相当于Snapchat的Snapcodes。</p><p><img src="https://pic3.zhimg.com/v2-d2d55308f4a1727de0121d850962fb76_b.png" alt=""></p><p>现在从安全性考虑，大家都在做自己的闭源码！</p><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/2/14558.png" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 二维码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二维码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>算法总结</title>
      <link href="/2017/04/24/suan-fa-zong-jie/"/>
      <url>/2017/04/24/suan-fa-zong-jie/</url>
      
        <content type="html"><![CDATA[<p>一些常用算法分类总结<br><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/5/41532.jpg" alt=""></p><a id="more"></a><p><code>1.字符串</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">·字符串(String)</span><br><span class="line">通常把它作为字符数组</span><br><span class="line">java : String内置类型，不可更改，要更改的话可考虑转StringBuffer, StringBuilder, char []之类</span><br><span class="line">Java:   ［0..65535]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">·和数组相关，内容广泛</span><br><span class="line">概念理解：字典序</span><br><span class="line">简单操作：插入、删除字符，旋转</span><br><span class="line">规则判断 （罗马数字转换 是否是合法的整数、浮点数）</span><br><span class="line">数字运算（ 大数加法、二进制加法）</span><br><span class="line">排序、交换 （partition过程）</span><br><span class="line">字符计数（hash)：变位词</span><br><span class="line">匹配 （正则表达式、全串匹配、KMP、周期判断）</span><br><span class="line">动态规划 (LCS、编辑距离、最长回文子串）</span><br><span class="line">搜索 （单词变换、排列组合）</span><br><span class="line"></span><br><span class="line">总结：</span><br><span class="line">·我理解的in-place (原地）</span><br><span class="line">本身O(1)空间</span><br><span class="line">递归，堆栈空间可以不考虑</span><br><span class="line">·原地相关的问题</span><br><span class="line">字符串循环左移、右移动</span><br><span class="line">快排partition相关</span><br><span class="line">·滑动窗口</span><br><span class="line">能达到O(n)的的时间复杂度</span><br><span class="line">O(1)的空间复杂度</span><br><span class="line">·规则相关——细致</span><br><span class="line">·匹配 （暴力）：KMP比较少见</span><br><span class="line">·Manacher——要求比较高的笔试</span><br></pre></td></tr></tbody></table></figure><p><code>2.数组</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">·数组(array)</span><br><span class="line">java : [], ArrayList </span><br><span class="line">数组下标是一种特殊的hash…做计数</span><br><span class="line">理解数组与map</span><br><span class="line">给数组“顺序”</span><br><span class="line"></span><br><span class="line">·查找和排序</span><br><span class="line">二分查找</span><br><span class="line">元素交换</span><br><span class="line">排序，中位数</span><br><span class="line">归并</span><br><span class="line">位运算</span><br><span class="line">前缀和的应用</span><br><span class="line">·动态规划</span><br><span class="line">·排列组合</span><br><span class="line"></span><br><span class="line">总结：</span><br><span class="line">·利用序</span><br><span class="line">理解二分查找</span><br><span class="line">·利用前缀和</span><br><span class="line">查找、计算、排序</span><br><span class="line">·理解数组</span><br><span class="line">map</span><br><span class="line">·用数组实现高级数据结构</span><br><span class="line">一般树： 存每个节点的父亲  （并查集）</span><br><span class="line">二叉树： 下标从1开始a[i]的儿子是a[i * 2]和a[i * 2 + 1] (堆）</span><br><span class="line">·抓住简单题</span><br><span class="line">分治法求逆序对数</span><br><span class="line">有序数组归并</span><br><span class="line">两个有序数组的中位数</span><br><span class="line">两头扫的方法 （2-SUM, 3-SUM)</span><br></pre></td></tr></tbody></table></figure><p><code>3.栈和队列</code><br>简介：<br>  堆栈和队列统称线性表<br>    简单的线性结构<br>    数组和链表可以实现这两种数据结构<br>  堆栈<br>    后进先出 (Last In First Out)<br>  队列<br>    先进先出 (First In First Out)</p><p>面试题总体分析：<br>  堆栈<br>    基本理解<br>    DFS<br>      深度优先——按深度遍历<br>      递归转非递归<br>  队列<br>    基本理解<br>    BFS<br>         广度优先——按层序遍历</p><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/4/38832.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>上交会防伪展总结</title>
      <link href="/2017/04/24/shang-jiao-hui-fang-wei-zhan-zong-jie/"/>
      <url>/2017/04/24/shang-jiao-hui-fang-wei-zhan-zong-jie/</url>
      
        <content type="html"><![CDATA[<p>防伪，是企业在目前社会诚信缺失、假冒伪劣商品扰乱企业正常经营和损害企业、消费者利益的情况下，为保护企业品牌、保护市场、保护广大消费者合法权益而采取的一种防范性技术措施。<br><img src="http://cdn01.wallconvert.com/_media/wp_200x125/1/4/30437.jpg" alt=""></p><a id="more"></a><p>这次博览会主要学习到了几类防伪技术：</p><ol><li><p>激光防伪材料<br>用特殊材料做成全息图案，达到人眼辨别真假的目的，如恒大冰泉的瓶盖贴标；<br>缺点：全息材料防伪技术发展很成熟，防伪材料容易被仿制。<br><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxIREhUTEhMVFhUWFxoWGBcWFh0YFxYVFxgYGhcdGBUYHiggGB0lGxUXITEhJSkrLi4uFyAzODMtNygtLisBCgoKDg0OGxAQGy0lICUtLS0vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAJoBRwMBEQACEQEDEQH/xAAcAAEAAgIDAQAAAAAAAAAAAAAABQYEBwECAwj/xABMEAABAgMEBQgECQgKAwAAAAABAAIDBBEFEiExBkFRYXEHEyIygZGhsUJSwdEXI3KCk7PS4fAUNVNzkqKywhYlM0RUYmOjtPEVJEP/xAAbAQEAAgMBAQAAAAAAAAAAAAAABAUBAgMGB//EADURAAICAQMCBAMGBQUBAAAAAAABAgMRBCExBRITQVFhIjJxgZGxweHwBhQjodEVJEJS8TP/2gAMAwEAAhEDEQA/AN4oAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCA4qgOUAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQHSLEDQXOIAAqScAANpQFKtXTmpLZVoIy5x+R+S3XxPcrbTdMcl3WbexCv1ahtEw5S2Jl5q+Yd2BrR3KTZpaIrCh/dlVZrr28RZ6Sukk1DJq9sQV6rwAabnN9tVpPQ0z42+n6nSvqNkcd25brJtiHHw6sQCphk9IDaNo3qpvolU9+PUtdPqYXLbn0JJcSSEAQBAY0xONbhr8BxOpRrdVGD7VuzaMGzHh2mw1q9tRqBUZ61x5x/c6eDL0PF9sUOF1w3ZraGrbSMSqceTNkp9kXqnHYc/vUuFsZ8cmji0ZS6moQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEBrXT23zFiGAw/FQzR9PTiDVwb512BWmhqjH+pMh6ix/LEo0eeNaNPaPZsU/wDmZWvtr4OS08YrMyZ0dsp0ckAVOePtPapd1sdPBZZBtlOyXZWt/YkrX0diyjWxmvqBUxKdVpzbhrFMK7lDo19Vncp7ehtqtLKEE+WyuSukD4sURGuuRWGrSNW7e041C51uu2DijZ1SoakjdGjlrNm4DYoFD1Xt9V46w9o3EKmuqdc+0t6rFZHKJNcjoEBi2hM3GE66KFrNQ6oYjyzpVX3ywUC2LScBV5utOQyLt5OxUzcm8VrL/D9S509MW+2ONuWzEse2I0MuIhNuE4G6CRQHPpAgV8Cp8un3KKn3Zf78iLbbRZY4J8cP1MVltRIkU9EBpPWGG4CgPj71vPTKqHxb7EWMLE0ocEy6bdCLSHCpxBBxrvH4quWntV2cZTiSpx7E01yXSw7SExDvHBwwcN+0birWE+5FdNJPYkV0NQgCAIAgCAIAgCAIAgCAIAgCA6vOCc7GHssmo4Ol0866eePSBPUZT+FeoXTtPj5fT1Kl6qeeTZujs26NLQYjzVzmAk7TryXndRBQtlFcJlnVJygmyRXE6BAEAQBAEAQBAYNtznMQIsXWxhI+VSjfEhbQj3SSNZPCbNGzjYjyGQ2ue9xyaKk1zNB+MVaaqfZWorzIWnXfNyfkXvQ3QoQhzs0xrnkYMNC1g3jIu8lBV84rEWTHFPks0pLiF8XDa1rQNQoBXzOC0sslY8yeRGEY8I93OBwwI17+9aI3KudBpRrYxhQ6RHglria3D1g1g9FtRxoaVXei112J/f8AQ5W1qcGjz5NZlzYsRmN2IwP4PYaHvB/dCk69LGfQhaDuWU+DYgVaWQQFJ0ptcAOOYvAAbRVVllbuvUXwd6rHXFs17p7OvmXsIYwOuABxhOiMpeNaUY67UUU7S6NVOTTzl5OE732pEa+d5q4wwn3XF5xAbRt14aAx5F7ovFQ4UAJOrCVwcTvBc9ge2JDDOl0WND6mBQ4jMnEkU1E72rE61L5jtC6UVhElo2x7nPvUrT0Wva2l43cHgY0rVR5xUcI46nVyhiz34L/opM3IjQcni6eIxHiKdq008N5P0O1lkfEwuHuXZdwEAQBAEAqgCAIAgCAIAgCAIAgOrm1wQFel9HpXmg5rBQNJFGtwGOXRUj+au/7M5eBD0JaxmMECFzYowsaRTDAiuXauEpOUm2dEklhGasGQgCAIAgCAIAgK7p84iSiXcy6GP9xq76VZtRxveK2UnRu1WS5iF128XDE4GlBh31XfXvE4r2NNDByrbRPxtNYNMxjgOluxNeKh4eMkl7bHeybZMe/zTb9GlxplhTvWcGraSyYf9KGB2J7MvNO1hTi1lM7/ANKG1BB2HcVrvkznB46JTY/KWNApec+nC64+xTtTD4e72RX0XqU+1bbs2KFALE6RnUaTsBPggRqCNE5ylSaA1PGmGKzCCTydbm3FIrukcJlWuEZzHta4MDX3SXE9F1Bi6hwI2ONMaVkKJD+pHxYrqF7XUwxAuBsSI5xAF50O4bxiOOAAqRW7gSkvQRfkeE1SEQ6Jdv3XMpf5oFhPORS1tQWvHO3QC4VqDgtZRa5NluWuyITuce9oiYhpDjTm3Cr6XANgAxOYunHAnOzONyj24nwWqzXEPhH/AFG/xBK4LusSOfelKK9kbGCjk8IAgMK07UhS7L8R1NgGJPALpCuU3iJwu1FdKzN/5Nc29ymxWkiCxjBtf0neBAHirnT9Ji95tv6EWOrss+RY+pE2XylTjjV0Rhx1w2geCp+tUT0t/bTxjO+56fpvT436fvs+bOC8WHpqItBFaB/mZl2tOPiVSx6j2PFqx7nHUaB1/LuW6FEDgC0gg5EKzhOM490XlFed1sAgCAIAgCAIDzjxLrSTqQwzDkmXITWZ3WhtdtFtgHrZTLkJjPUAZ2NAA8KLDBlrBkIAgCAIAgCAICG0xlzEk44GYZfHFhD/AOWi66eXbbFnO1Zg0aK0kYbrXjLX2/jxU7XV5UZemxC6fc13VmdYsURIAhMdR9xzbocxpc436VBF44kZU9iyrIKlP0W5wshLx235tYNiaNSH5PBez0ub9Ft0F5rmGgYZ0rs3qNFuSi2Ztsiu/DeGv0IOblQI5iHBxAaaYEh1yuOulKbsVY+GnHuSKiu6SXZnYpky4xJo3MnEYg16IAxwywFaHIqBKtuzgvoWeHp8v0NjaDS5MzWmDGEk73YDwJ7lvq5fCRenxbsz6fmbFVeXRw4VFEBpK1WPZeYBi1xaeIJC7R5ydYzjv3FQtiG9wuuLqmtCAcMh6LSaYnCtN2sd5SUvlI3Z5+RhS8S42jgLziS2oADnuabjavFCb4a4lwwusrtS3EYuLRzUMtSM9knE5wAmESXEhrmsa0uewmI5zLrnloDoQuuwJumtAAIsZOSwdlLDNmcmcJkeFEiljrzgypMTnGkHnHYamuq8khoAo5uASEXCXcRdWvGxEszZH4yE0DJwPdifJSKp/BOb88/3K+quXjpehaVELwIDFtCcbBhl7tWQ2nUFlIj6nURordkv/Wast6ciTLya1J7gNgVzpYxrSZ5XxpTk7rn+nsip2rKc2DhU7SvQaWvv+Z/YSKeodzxAx9FYT4xeA29dqTQZNAFSV4z+LoWQ10YU/wDRP8T6b0SdUem+La8fE1/ZFzk7KdS/D49i8M9fGUvDt2ZnUyxw8otejtrc30XZaxs3rvpNVLS24fyP95KHU4T7kXIGq9UnlZOJysgIAgCAIAgIq2pm66DDGLokSgGNKAEurTUBU8QFlGGZ1xZCMGUjkTD4ZyLQ4bzroM+1GYJVamwQBAEAQBAEAQHBFUBqDSKweaivl3DoGroR1Fh1V2ty7AVb12Rtr3+3/JS6iLot71weeidmOlyXvJAHQaG9G9Uk1dTM40x1BRZU2StUU9luzlrdQ4wyovfz9y32fNBzYjnY40FaZAbgNZK7ut4j++SBKxQjh+iKxbU26I64wEkmgAaL2rAECpVvp6owj3SZyqTe7Ospo0YDTFcOm7MDG6M6b99FC1FkJzbgiTZqHLEHwX/Q+yjAhFzhR8Q3nbQPRHcSfnKnvn3SL7RU+HXl8vcn1xJgKApuk1h1iGI0YPxPyhn3596ia3UOmEbF5HOFTlb2+Ul9xrvT2RbELGwmi6Gi8b1x14Gvqu2rpo125nlvueV7GKYyrh4c38raz6+5CwbKLmm86HXrXHEm6bwdeD2gFtOiaEGt0ZVUmVkpyxg2lJRRzDsuGYge8sfdc5zBdAZV94uLmBuOQ1nq1FMl2VXw5Inj78Mt2i8Qy3UcadHCtAboujAYdUN4kLrXKMq3HHJHtcm1NGyrEjc8BFLaahv2keXeuV0VD4E8krSqUvjktyXUcmBAUflAtGhbDHoip+UcvDzWin/UUTz3VrHZdGryW7+rK/ZUKgGtzu9TatWu88xr5Ssmqa/u9ziesuFFiiG5xyJeW0oCMSL2oAVqd3ap8esTrb7Uej0PQnXCMrJb+a8voSmi8OAYIZBl7sFwcYhOt1cA4k1ebuZxGQ3Cs1Gps1E/EteWekjHtioLhEfZOkIE46E1reZe+5DugANIwBG5xFab15vqnRK9W++D7ZZ39H+vud1qJpdrZ3tKYa2K4wzgHXTs307a9y4XaHwV4ec7bP3Il1m2GXvRqc5yCNrej2Zj8bladMt76cPmO32eRz01nfH6EurEkiqAhrRt5kCYbCiYNewEP1B14jpbsBjq8tXLDwQ7tZGq5Qnw1yTDStiYcoAgIaYhF0401NGQ6htBdq4kFxOdQMMNpWUYZKkICAtaWeJ6VitdQAPY9tOs0jDHcTVAWNYMhAEBwgIaw7fZMF0M9GI0kFvrAEirdvDUsKWSFptbG5uPEl5Eysk05QBAEBH2xZMOZZdeMQatcM2nd7RrW9dkq3mJpOuM1iREzkvzTC17cKUvAYH3LvT8UlvuVuo8RSaa+E7SdnwObwAocxUiprsqu1l1qmQq6qZ198lucQpWEz+zYKnYMT25lHZOXzs5S7flrWfoZkjZZLr8XV1W7OPuXGy/btgTdH01qXiXfYv8kwFFLo5QBAeUxBD2lpyIpv7FpOEZrtkga10l0aiQz0ml8M+mBkP83q+SzCPb8pHs7vsIKZsxhvOwBcKEkVww37h3KVQ8cx/uRp2PjJhOkWAhxN48NalKcXtjAglLllx0Y0XiRSHxQWQ88cHP3Aahv7lEdnbnBLlWp4zwbFhQw0BrQAAKADUAuGc7s6pYWDuhkIDVWm8QmZf8oDuaPcqqV3bdP2/weZ1GXqrH++EeseXJhtEOgqBXHpGtMzsrq3a9XSnU0wW73JGh/laPix8Xr5/od7Ns66H1NHOaWtcMaA1DiAddNe9dv56lPknS1sMpRJkOh0LHdWly6MBdcBmBks26hSSnVvH18s+h0lrYVwSs2bKnGsAMmGvg4Q2mG7F1TeD23v3auWq1ccbmi6hVjkybfl2sbeYTSlDU41FaHu8lFttVuPYjW62M1hclm5PIxc2IPkeN5OmpxlNfT8zPTbO6dn2fmXFWxbmueUE/+039U3+OIuVnJ5vqzfjr6L8WVpcyrLtoFOzDqsIvQW5OJ6h1NafS4avBdoNl70q26WYtZivP09vcuq3LsICNiRKTNAK/FivC9qqs+RqzIM1qunvb9pDJg2hF+OgVBxcaUxxoM6ZBZ8gyYWpkIAgNLxj0nfKPmo7e54mTfc+eX+J1hxC0hzSQQagjAg8UTNYycZJrk2to9MxokFro7Lr+4uGolvok7PLJd458z12jssnUpWLD/ElFklBAEAQHBCA8vyZnqt7lnul6nLwa/wDqvuO7IQGQA4CiN55NowjH5Vg7rBuEAQBAEBwQgMCYsSWiYugsJ4U8lspNHN1QfKOZSxpeEasgsBGRu1I4E4o5N+ZmMIx4RnrU3CAIAgNcacSdI7nbbrvAA+RVBqX2aqS9V+/7lRZT/uJe+55woLjCLm53TT5QGHivPSko6pRnw5L7iNHQ/wBTfjJgWZPOax7nxTUM6IIHXrRoGAxPEqy1VEHbFRjtnfDfHLbL/TaSvOUl+/tK1DtSMI8TpkkiGCScziPMAL2vTa4rpyhDhyl923Bp1/SVSvh4q4h5bY52e7z6+hLiYiGOKOJYSMa9EUDajjV3eQFF1Oi9vI8p4WmWhlLHxLPu+XvnPpvxwmz3tXq0rmoVWkcZZZW9Ny25N7F10Al7sN7tpA/ZBP8AMumlr7XJ+p6fo8W1Ofvj7v8A0timF0YU5ZMCK69EhNe6lKuFTQVNPE96xhHCzTVWPM4psr9paJMiTDLjRDghgvXcC5144DspitXDcr7umQstXako43x5lnlZZkNoYxoa0CgA1LfgtIQjCPbFYR7IbhAa404542jCbCiuZWCCaPc0G695NbueAV10/wANaeUpxzuU+vcndGMXjYh5oThi0bHfiCf7Vw6tQfFvipcZ6bsy4L7kV/8AX7vnf3syJcR22nKtfGc9pIdS+4toWupgeC5WeFPSTlGOMe3uSqHZDURjOWc+5tYLz5fHKAICLOj0r+gh/srGERXotO93BfcQ+j+irYbzFjAE3iWM1NFTQnacsNXlhQIWk6coSdlnOdl6FrWxbnKA4JQFBh8qcuQDzMXHez7S070SP5eXqc/ClL/oYve33p3oz/LS9Ue0LlLl3f8Ayid7feneavTteZ6DlFgfoone33p3mPBfqd4PKDAc4N5qIK5Yt96ypZNZVOKyZo0vh/o3+HvWxzO39LYf6N/h70BI2RarZi9daRdpnTXXZwQHhpVpAyz5d0xEa5zWua0htK1e4NGZAzKylkFJ+GeVGcvHHzoZrwo9bdjNe5HgeXKU/wALM/7f21l1Mz3I9YXLTKu/usx3w/trHhsx3GS3lelj/d4/7n2k7GZydvhclv8ADx/3PtLXtYycfC7Lf4eP+59pYMklo/yiwJyYhy7IMVrol6hddoLrHPNaGuTSgLogIPSizudZeAxbnw+5VHVaW4K2PMefp+hyshlqRVbMjcySx2A1HOmw01rzWrpV6VkVl+nqTaqU/iRHaQHG82JErTHpEtd8w1a35tFjTXNrssimlx5Nfb5/aX+h0r/4tfasr7OGvvNdxpkiZONMBxzOtfW/4Y0cLumZecqbxh4xwUf8VznTqVxLMFlNbPny8vsw16l2secAbVxqaUqaZbMApOp0yg8yeX74/I+Xamqd03GuKis5aWcfXds9oMMx4goKitANpVNqK1CJMhDwoKqPPH2m07JkhBhNZrAx3uOar4rCwex0en8CmNfpz9fMzFsSQgCAIAgCA1/ptBJnYbhmITf43q60GHppxfqef6o2r4tehETTXCKSMjQEY0OAHrVGrIhdI1J1qLk8rj943Ik5tTbS5/frsZNnyxM/AcdThrr6JW9kktHOP75N9Mm9XFmzQvPHqDlAEAQBAEAQHDskB8oycchrelUUHkuWSeZbY4W8UmHLBkQXOOSn1aCc1l7EG7qFcNluZbXu9YKSunVLlkJ9Rsb2RkWdaAhvvOqabNVfNJdMi94SMf6lLGJItUlPMiirHV3ZEdigXaeyp/EjvXdGxZizLBXA6lt0IOEXi3+ZDKIrls/NMX9ZB+taulPzmsuD5zc5TMHHJN2Xo8XUfGq0HEMHWPH1fPgp+n6fKzeeyIOo18a/hjuyxQIcKHg1jB828f2nV81aw0VMOI5Kqesvn5mUyK12BDDxhjzosz0lT/4nH+ZujxI849kw4g6PRO7Fp4jMfjBV1/TIPeGzJun6rZF4sWUQU3LPhOuvFD4EbQdYVFbTKDwy+qtjZHuiyx8mLv6zluMX6iKuB2N/oDghYaysMFR0nsJxBdDBIzoM2/cvPX9Pnp5d9W8fT0/Ql6a1J4Zru0HxG1BxCxXXTb5bno9K8PMXgqUyRz1bhrQa95X0f+Hc16FwhLbuf18jz/8AEkVbqE5vPwr8ywWRLxIpDQCa5NaKk9yk6icY5k2ePtjFPtrW/sbd0X0f5hofEAv6h6v3rzWov8SW3BK0HTvDl4tvzeS9P1LGFHLgIAgCAIAgCArtvSrXxmkg1DRR10uGZ613Vx2qXRbKEGkyDqqI2TTa4IeclmF4o1wyrhXHDIFS4XyUcZK+zRwcttiRkoUNsWH0HXiR0i0gA7KnDWuFtkpQayS9PRCMk8FpCgFmEAQBAEAQBAcOyKA+SJCGbreA8lzwTckpLwSaACpJoAMyVd6LSRhHxZlPrdW5Pw6y4WNYMNgvRzePq+iOzX2rnqNbOT7YbI41aeKWXuyzwLWhQ23GwxQ9mQ1UUHtk98/3JGEjBmGwY/XY076Y9jhiFmFllbzF4N3CMlhorlqWS+VIiwiSyuetvHcrfTauF68O1bkC7Tyq+OvgmrJtARm19IZj2hVur0zpl7Mmae7xY+5e9B8ovFv8yiEhEZy2j+qYv6yD9a1dKvmEuDTWitiA/HxMgegDlUZuI10yG/grvQ0d775cFPr9T4fwR58yYm4lK7F6BJJFNHMmRMScFcMVylZ6EmNXqIU24allTn6GJVRZL2ZPioxxWJYkiLZS47onZyQbMwrpoDm13quP8p1j2qp1VCmseZ20erlTPL4Irk1Y5trS7XCha6KCNhECLVUFke14PVwkpLKPoBcjcIDgoCNtCwJaP/aQgSdYq097aV7VwnpqpvLR3r1NtfyyIc8nkgXXjDeTviOp4FTtNqLNNX4dTwuTjqW9TLut3fBPWdZMCXFIMNrNpAxPFxxK0stnY8zeTnCqEPlWDNXM3CAIAgCAIAgCAw47PjK7G07z9y2RhnR7xXX4IjB4xWfGQyTrWWth5kqtDYIAgCAIAgCA4dkgPlGSa4NbeY5vRGYI1b1I0VPiWr0RjV39lba5LZovKi66K4YnBm4DPvy7N6sNfc1JQjx5lfo649rlLnyJuKS5V0pJvYmqpx5MmyrJdFIJq1gJJcdYy6I15rvKMYwTzucJSwzKtWyjDdfhdX1a1IA86qLLc6Vyfkd5Joe2rh0T0XA5YjyWiz5cnfKZUpqVMnNFlTdrgf8AKcvd2K/ytZpd+fzRVR/2up9jaPJ8SWRa7W/zLzyz5lxNJSajweHK+y9ZrxtiQQOPONoulazLByk8LJruLDENjWDIAN7B7zivZaetRikvI8Zfa7LG2V2fil5IHVGe9d3vzwSql2r3ECzCcXG6Ng9pXCV2OCWo+pmsspmonvWI3yyYlBCJZ5GfY4e1SlNTREnmG64J/RycvtMN3WaO8bez3b1A1MHGSkaTinHY97Alrttyjx6fO1+U2BFB8LqouoQxLK8y66Va5Vdr8mboVaWoQBAEAQBAEAQBAEAQBAEAQGPHYbwcBXAgjy9qymYZjFzxQXTnjhqWcmMHZsAue1xBAbXPwRsYM9amwQBAEAQBAEBw7JAfLpmXuhsa4kgCuO8K16StpSIXVOYpGxZWxnw4MMECgYCT2VKi3XRc5s2pjiKOsvPthHoir8gdQGum85KJA7zbkTbYhIBJI6OI8/xuXTJHfAdGqc1nB1g0e0hEYb0L1iTXfqx4IoiUu1NorvKDK0MvE1ua5p+aW0/iKtum7SnFFfq5d8VItvJm+9BcTsh+AcFV6qPbdJe5Y6eTlWmzL5SGgydD+mg/WtTTf/WP1GoeKpfQ1Vaz6A7h4n/teyr4PGVLMyKkZepqdXmVm+XbFIs6t3ky4rxjQ18vvVZKayToxOrHkurXLLgtVLc2cdiWZRzeIU+D8yvmt8EfAfzUww7TdPbgPMdy62x74EWCwnEs1iOrakhtvTH/ABnLz/U/lRZ9Gzmf2G3lTF6EAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQHDskB8rw31YOA8lbdJfwSXuQOqL4ov2N3MnYEWWgufQB8Nm70QT4qk13fXNqHvk6UXO6qWOY4K5ORZcOPNtGeJJ47d/kuWnlZ2p2E/UOqCSjuzyhWi57gBSlbvbQrvO3tWThVBSn2+zJFzC6GYjeqKA7qj7iulWpTyvNEexqMvhWx52ZMi+KjI17v8ApdnPKOr+UxuUCZBZKtBxuvce0tA8nKy6ZF5lIr9UkopFp5Lh8Q7gw994qv1jzfL6k7SrFSPblVjXLPc/1YsF3dFaVyql2zTOs490WjWFtCrTTL2al7OqWY5PGQj2WtGPIDA/jUFnU8k+h7HlEZRxrtwVVOOGWUXlBgrUk6u7JaLk2fBIWdE9E5qbTLyIl0PMxJlwMZn6xvhSqmy+RfaQUvikyc0cj3rakm7BFPa6BG9gC831OXxKPoi26TDFbl6s3WqktggCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCA4dkUB8lyUarGg53R5Kb0yxRscX5nHqNfdWpehZLKtVxhiGT1K0+STXwPsXTqNGJ968+fqR9FJY7fMy2TBxVXgnvc7MmKGq0cc7MzHZ5LNozarQXQogqyJhniDQgEDKuOvI4reuv41JEfVS7K5fDkybUkDLkvOAeSW/Jzx/GpXbhC6Pw8oqdLqbGowsWNs7+hRp+edNRwa4CjGbmjLxJParGEVRUaWSdtiSNvcnYoyKBquDuDl5icnKTbLytYWDx5YT/VkT9ZC+sasR5NzVlkzAjwLh6zOj2ej5U+bvXpem6juj2t7o8z1Kh1W+KuH+J5SMW666eB9itZrvj7o5weHlcMy51mFaKutiT6pbni1g150y+5cVDc6OfoZgihja0AUyqGXsRLZepGyrrzzEcaNYCSfP8AG8KTZNLMnwiM08KEeZGZydTRi2zLPOt0XDYPyeMAO4BeO1Nrsm5HpaKlXBRR9BqOdggCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCA4dkgPkeWFWNpmGjtwXOE3CSaJU4qSaZ7w4hBqMCF6WqyGpq/EoLK5UWErLT4dngdnuOtVN+jnW9t0TqtRGa9zKEwFDcSQZcKcDekSANpwXWqEm8JHOySS3Z1tzSWJMgMBJaBSus6qAbF6LS0qqvDRQzjFWynFtt+v5HpYcnd6Zz1fj8a1X9Q1Xd/TiT9JRj42bT5OD0Y3Fnk5VJYROnLF+bIny4X1jURsaHkpx0J4e3gQciNYKlUXOqSkjjdTG2LjInY9yOOcgmjtbTmNx28V6nTaiN0cxe55yymWnl2y+U8WWm5nRiN7/Yda6TjFv0Osc4+Hc7/APlm1wFStFUvU2zI6uL4uLzdaOxddorPC9Tj3b4W7I20rTDhzcLqDM+sfcqDqGuU/wCnXx+Ja6LRuD8Sz5vwJvkq/O0pxi/8eMqZlkj6NWDIQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAcOyQHyBJnot4DyXFomRJF4rjr2qRRdKp5icbqVasM4/J3bK/jYrurX1yXxbMqrtDZB5jujqLwwq4dpCk4qlvsRs2Lbc9YcFztTjvNfMrDupr5aRjw7Z+TJaQkaGru73qv1HUXJdtf7+hJp0eN5k7BiKrZONicmjqtj8WeTlgyjjlk/NcT5cL6xqGT58cVlAQormmrSQdowXWFsoPMXg1lCMliS2M9tuRKUeGv4jFWcOrWpYkkyvl02tvMW0dTbJ9GGwH8blu+ry/4xRj/Tk/mkzEmZ2JE67sNgy7lAv1lt3zMmVaaur5UdGqJkkFv5KvztKcYv/HjLUwfRiAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgOCEBRYPJNZjRQMi4f6pWvajorZHsOS+zvVi/SFZwh4sjsOTOzx6MX6QpgeLI9ofJ5ItyET6Qpgx4kg7k8kTqifSFMB2NrAHJ3IjVE+kKyaHo3QGSGqJ+2UMYJexbEhSgcIV7pUreNcq080MjSCxIM7BMCOHGG4tJuuumrSCMRvCAqp5JLM9WL9K5APgjsz1Y30rkBx8EVl+pG+mcs5A+CKy/UjfTOTIORyR2Z6sX6VywDn4JbM9WL9K5AZ9icnkjKR2TEFsQRId67WISOkxzDUa8HFAWxAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQH/2Q==" alt=""></p></li><li><p>纸张防伪<br>纸张防伪技术主要用于纸币、贵重物品包装防伪。该防伪技术关键在于复制印刷版的难度大。该技术首先需要根据需求图案刻板，然后印刷出有图案的纸张，用该纸张印刷纸币或者用该纸张包装商品，以达到防伪目的，难点在于，如果没有源板，无法印刷出相同图案的纸张，如果按照纸张图案仿制印刷板，难度很大。<br><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUSExIVFRUVFRUVFRUXFRUVFRcVFRUXFhUVFRUYHSggGBolHRUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDQ0NFQ0NDysZFRk3LSs3KysrLS0rKystLS0rKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAaAAADAQEBAQAAAAAAAAAAAAABAgMABAUH/8QALhAAAgICAQMEAQIGAwEAAAAAAAECEQMhMRJBUQRhcYETIpEUMqHR8PFCscHh/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAMAwEAAhEDEQA/APpdit2ww+RktgBQGbA9CplBTFk9jciyhsgZsIsjRKG6QsEfcagJpe4MobFmyDJBQJA6gGGaJuYbKJv3G660BAoBmKnQKMA8JE8nPBoR3ZpSAWC3sp0+BegZOkAkzATN39gKRr5Fl/oMY74NMCVvwANgA632GChUyAyFoEuRn5AZBlwKkzZGAjkZMKWhYwdgVuxrFTGkwBP4OfKXYsgJqI9EvyqxpgYbq7Ahsdx2Akgdyk0TkvAGkZggihQiWhe5RIVyQGjwTiCvfuPFAIojMMvAJSAXqCuPsehcoCdRgUjEHdFoRkIKvJTIgB1D14JUOrVAMblAY1aAWhuoWa0BxAZT7X8jLiyOaVcLYMeV9wF62/Ys1cScl077Mrgn2A5Zw0NmdVq7NPmr7iZ3xyAvVTVHV1e5HDHuBrlgdT+RWyWGVlZ+AG6jMmmFFGfg0IjVswEZreilOuQwgGwJziJklX2NlypaEyVJX3XAC48tumSz886NZvUptJ/RFLoxH6MQexiSS5N+XdE4DY+Xq/cqHURYX+w7RNt8AOzPYkZLhjOS7AM1YHE3VRPLJ0wGnBMlKL7gxoeObyBo5F3+Bf5X7MLjGXDozxWq8AJkVzXuNkguq0NGO/g01V+QJ5JbpDwi38EopR2+fAcuW+AGlJLSNin1fXBNR+f2Lenw7sB4jIDRrKG6DWByvVhcO4Ct+OBcaA9NE8kndLgBMuNp+V5Ap79in5uzFcE+HQC5l3X2KpdUaFU3F00Oo71wyDg2Y7/4f3/oYK6nk8IEfUvig/i8M34giydqxLCo6o0lSA5WrZSEdiuLKwgA67Gl/Qz4EzceQGj0k544k+rwPHF9AZY462X6SMlFFVPQHG8jb+zpg+wuTEnsfGkBzeoUU9xb2v8Ae+wVkS4iWyPdNfAsccX7AK/VdmhsefdM0vT+GL+B2gL19EsyaRUWcWUShwPHJ2N+N12DSAGO5Owzw719j9zmnkdsDPC7fAmTE/8AQ/UwvHLyBOEWnToplfSrFxxrbY2VWqAh/EPwzC/w3uYg6q8lcM90F1JDQhQDMAaB0gKl7jvYtbGbAVaGVWZjASzSS4Iyk2uR/UQt2hccO7/YA4cXdh67l7I05XpCrSYDwyJtk4tte6B6V7NidS+wDHJemLkhT8oOeNOzQzU6oBbrgvinatiPHfei0Y1oBYoDHbAUT2MkOkCTAHSJ+BPY042uWvj/AOjJaAl+mPBOWd8CJlljpWwEjGlb/wAoDyWm+yNklfH0NmS6Uv6fAEv4hGFp+P6BA6sKav8A9K2E1EGbA5ma0BgFD1oETACSAtA6mGPgBku5LKn0jzXgZPQHNBj+oekvI1dxc+NvYEsK2CUakxoRdhyY23aAeD6o0Q/C+C+KNFbARRrQZWaezSYCrk1sKQsmBVCyM2CrKM2kHhC0bpYGcfJzeom79jocQTxrkCOHkTPP9TOrp/65OBxdgDr9zB6DEV6kkKx0CSCA2KmGfwKwHcgIxkAVZl8ihqgMpUHIBmigNLgF9jNhSAE3QHIMkKA0ZD9ybpDLkBmSyQZUE1oAY5WaSQIw2CT3RQek3hBWwSdAJkfZCrIGEtsKim74AMeWachorwLJFCSehRmCD0QYweswHT5Ag2atkRpsTjsbJkrg0Z2FHqXAHE5EzoeSo7+iB6GZxwyujqjLj3KCwIeiewEbKQAh0gMS4Zdk2gA2MxEUtWAiZk/sZoGSXSmwHkv3ZLI0uXshLPdMf1LuKAphypj5EcWJ20P6t7ootFUx0vYh6bnZfIwD20Scwu13JtAM5dheoCiaMQCYakECzVJk/wA/sO1ap9yGSNKmuOGZByx7hwS2LDJ2NJdPHACZ9N/ujZ5fo+Snqo/yv6J+o4SA2FXx2KTvswJ9MfkEJNgWxzfA8ogTS2GDso3YLCK5ACgbGTM46Amh40GqQqaAXLkrjkSOXqVMbLit33Oea9mAJx6dFVK4s38yp/RPEmm09AbBVgyy/UP6fG03f0JDbb7AdEXS2czk27Bky2/hlMGPvIC8XoLZLJ6hcJaKdVlAQku5TpBJAR2AvRgJqbfc0vUPhl/xx8ifgXkyhVjT4ex1fD8aYIYnHaZWEXW2BKcf0pe4Oi9ieok7or6eYUsYN/zBlkXC/cbNFd2aLiUSjP7K4+dcGjNWNHP2oAt9qMohZu2gMZs53vY+PaAdyJeqtJUUZsslpMCCbGeZPTRRQiJKMfIC5MfeLK9N02tiQxLTs6p6V+wEZ4+5DLhdJIaHVLxxY/VYEIKMPdk5ybf9i6cF2vyL/EeEvgBZQfZHRgg0ts5pepfgf0+ewLs1p77AlIj6htL7KK3H/GY5KMSi9a5F32LvGuRVlrSREZY3W2UxtdnZJtyROc6/THkCubFbuxopJGhLaFlPbiwDkmtWtBUItC4npxYJQa44KKSx+BZYm2aLruUxZLVAMkMhWqHj5AhPGxoQpDyYOvsBMX1cOKKdBsgHPz2szw+Q/wAQk9EpTbYV04+lUu50R2jliunb8DYpP+ZhDfjV2I0B5G1fHv7E8i0pLlf9FU+TKk6q/oVKHN17Ai01vknKHYgo/T+GHHhrbIttcHVH+VASndqn338FHC1sVQHKI/g9zFusxA04WrJRTZ0pB7ERCcq0iWPFux88lethi6VgLGX6h8ySd17k4LaG9RyA2WP/ACAslBxP/j2Izi+AOmWNPa0NjjQuFa2P1FBkwoAUgFZukFo2OQA2v7GsMmTA58uN38loRUdsrFWR9WnyAk5WVmqjV8kcK/V5Q+adyCqRj+hoTDLsNjen9nNGegNkxtOvtFIZFwx5rr2iSwNvYFvwrkOR8IZKiU2UUi0Z+ETiPCFdgB0MJX6MBoso0LBmlJERN4U9gzQ/Toq1aJzYEYK3xRX1MOK2OL1EEscCr4FlIz2kUZyfBVC9I2wA5GboXpY0GwEas0UDJfYEX7gUs0VsSgdQFZNCyFbDYGiq3Qk8XL/YtFjSQEcEKVnPL0zb5OzoAqChhh0oohJPsGFlCyom2PL4JpAGI3XQFwLKPYCv50Yh+MwHViFkYxEOuCU+F8mMBRdiK7mMQaRTFx9oxiirBHgxgEfA0ePoxgJx5FmAxAzJP/0xii0QdmYwBhyUMYDTJPsAwDsfHwv87mMUTydhV/cBgoLt8hjz+5jAAxjAf//Z" alt=""></p></li><li><p>三阖追溯<br>提出该方案的公司为珠海三纬码信息技术有限公司，该技术主要服务对象为中高端产品，流程如下：<br>1）首先生产厂家对每一个产品提供一个编号和密码，编号存入二维码中，密码存入系统数据库中。然后物流信息根据扫描二维码得到商品编号存入数据库中。<br>2）当商品到达专卖店时，专卖店扫描二维码入库，可以从系统得到编号以及密码；<br>3）当客户去专卖店买该商品时，专卖店根据系统查询编号，给客户密码，客户可根据二维码中的编号和密码去官网查询，如果编号和密码正确，则显示该商品所有信息，信息包括商品信息、商品状态及溯源信息；<br>4）当专卖店出售该商品时，扫描二维码会传递信息回到系统，将商品状态：待售改为售出！故该商品无法再二次销售，避免了掉包商品二次销售的风险！</p></li></ol><p><img src="http://is1.mzstatic.com/image/thumb/Purple71/v4/83/01/c4/8301c419-c031-21ba-cf13-54769fff3474/source/1242x2208bb.jpeg" alt=""></p><ol start="4"><li>公众号扫描防伪<br>用公司公众号扫描商品二维码，进入页面溯源，优点是公司公众号是唯一的，从公众号进入，避免了进入假页面的风险！该方案是为了解决一般溯源扫描二维码进入假页面，欺骗消费者的风险！</li></ol><p><img src="http://cdn01.wallconvert.com/_media/wp_200x125/1/4/31276.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 防伪 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二维码防伪 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>链表</title>
      <link href="/2017/04/13/lian-biao/"/>
      <url>/2017/04/13/lian-biao/</url>
      
        <content type="html"><![CDATA[<p>链表基础总结。<br><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/5/41881.jpg" alt=""></p><a id="more"></a><p><code>1.遍历</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(Node x=first ; x!=null ; x=x.next){</span><br><span class="line">//处理x.item</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>2.定义链表</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">private class Data{</span><br><span class="line">    private object obj;</span><br><span class="line">    private Data next=null;</span><br><span class="line">    Data(Object obj){</span><br><span class="line">    this.obj=obj;</span><br><span class="line">    } </span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p><code>3.首节点为空</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">private Data first=null;</span><br></pre></td></tr></tbody></table></figure><p><code>4.insertFirst ： 在表头插入一个新的链接点，时间复杂度为O(1)</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public void insertFirst(Object obj){</span><br><span class="line">   Data data=new Data(obj);</span><br><span class="line">   data.next=first;</span><br><span class="line">   first=data;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p><code>5.deleteFirst :删除表头首节点，时间复杂度为O(1)</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public Object deleteFirst() throws Exception{</span><br><span class="line">   if(first==null){</span><br><span class="line">   throw new Exception("empty!");</span><br><span class="line">   }</span><br><span class="line">   Data temp=first;</span><br><span class="line">   first=first.next;</span><br><span class="line">   return temp.obj;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p><code>6.find: 查找包含指定关键字的链接点，遍历查找，平均需要查找N/2次,即O(N)</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public Object find (Object obj) throws Exception{</span><br><span class="line">   if(first ==null){</span><br><span class="line">   throw new Exception("LinkedList is empty!");</span><br><span class="line">   }</span><br><span class="line">   Data cur=first;</span><br><span class="line">   while (cur!=null){</span><br><span class="line">   if(cur.obj.equals(obj)){</span><br><span class="line">   return cur.obj;</span><br><span class="line">   }</span><br><span class="line">   cur=cur.next;</span><br><span class="line">   }</span><br><span class="line">   return null;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p><code>7.remove ：删除包含指定关键字的链接点，遍历查找，平均需要查找N/2次,即O(N)</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public void remove(Object obj) throws Exception{</span><br><span class="line">   if(first == null)</span><br><span class="line">   throw new Exception("LinkedList is empty!");</span><br><span class="line">   if(first.obj.equals(obj)){</span><br><span class="line">   first=first.next;</span><br><span class="line">   }else{</span><br><span class="line">   Data pre = first;</span><br><span class="line">   Data cur = first.next;</span><br><span class="line">   while(cur!=null){</span><br><span class="line">   if(cur.obj.equals(obj)){</span><br><span class="line">   pre.next=cur.next;</span><br><span class="line">   }</span><br><span class="line">   pre=cur;</span><br><span class="line">   cur=cur.next;</span><br><span class="line">   }</span><br><span class="line">   }</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p><code>8.isEmpt</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public boolean isEmpty(){</span><br><span class="line">return (first==null);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>9.打印链表</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public void display(){</span><br><span class="line">   if(first==null)</span><br><span class="line">   System.out.println("empty");</span><br><span class="line">   Data cur=first;</span><br><span class="line">   while(cur!=null){</span><br><span class="line">   System.out.print(cur.obj.toString()+"-&gt;");</span><br><span class="line">   cur=cur.next;</span><br><span class="line">   }</span><br><span class="line">   System.out.print("\n");</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p><code>10.删除指定节点</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public void deleteNode(ListNode node) {</span><br><span class="line">     if(node!=null&amp;&amp;node.next!=null){</span><br><span class="line">         node.val=node.next.val;</span><br><span class="line">         node.next=node.next.next;</span><br><span class="line">     }</span><br><span class="line">       }</span><br></pre></td></tr></tbody></table></figure><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/3/20606.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java笔记</title>
      <link href="/2017/04/05/java-bi-ji/"/>
      <url>/2017/04/05/java-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>Java笔记<br><img src="http://cdn01.wallconvert.com/_media/wp_200x125/1/5/41791.jpg" alt=""></p><a id="more"></a><h1 id="动态数组"><a href="#动态数组" class="headerlink" title="动态数组"></a>动态数组</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;String&gt; List = new ArrayList&lt;String&gt;();  //定义动态数组</span><br><span class="line">List.add(temp);                                    //添加字符串</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">List&lt;Integer&gt; ret = new ArrayList&lt;Integer&gt;();</span><br><span class="line">ret.add(i+1);</span><br></pre></td></tr></tbody></table></figure><br># 分割字符串单词<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String.Trim 方法</span><br><span class="line">·Trim() 从当前 String 对象移除所有前导空白字符和尾部空白字符。</span><br><span class="line"></span><br><span class="line">java.lang.string.split </span><br><span class="line">split 方法 </span><br><span class="line">将一个字符串分割为子字符串，然后将结果作为字符串数组返回。</span><br><span class="line"></span><br><span class="line">String[] res = s.trim().split("\\s+"); 将头尾空格去掉，并且切割成单词</span><br><span class="line"></span><br><span class="line">sb.append(res[i]).append(" ");   //每次添加 单词+“ ”   组合</span><br><span class="line"></span><br><span class="line">return sb.toString().trim();   //将字符串头尾空格去掉</span><br></pre></td></tr></tbody></table></figure><br># 数字转化成字母，存在字符串中<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.insert(0,(char)('A'+n%26));</span><br></pre></td></tr></tbody></table></figure><br># 进制转换函数<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">十进制转成十六进制： </span><br><span class="line">Integer.toHexString(int i) </span><br><span class="line">十进制转成八进制 </span><br><span class="line">Integer.toOctalString(int i) </span><br><span class="line">十进制转成二进制 </span><br><span class="line">Integer.toBinaryString(int i) </span><br><span class="line">十六进制转成十进制 </span><br><span class="line">Integer.valueOf("FFFF",16).toString() </span><br><span class="line">八进制转成十进制 </span><br><span class="line">Integer.valueOf("876",8).toString() </span><br><span class="line">二进制转十进制 </span><br><span class="line">Integer.valueOf("0101",2).toString()</span><br></pre></td></tr></tbody></table></figure><br># 数组<p>·整数转为二进制 Integer.toBinaryString(i)；</p><p>数组排序<br>·   Arrays.sort(nums);<br><br></p><h1 id="Set："><a href="#Set：" class="headerlink" title="Set："></a>Set：</h1><p>Set<integer> s=new HashSet<integer>();</integer></integer></p><p>contains()，判断某个元素是否存在于HashSet()中，存在返回true，否则返回false。</p><p>add()如果此 set 中尚未包含指定元素，则添加指定元素。如果此Set没有包含满足(e==null ? e2==null : e.equals(e2)) 的e2时，则将e2添加到Set中，否则不添加且返回false。</p><p>remove如果指定元素存在于此 set 中，则将其移除。</p><p>clear从此 set 中移除所有元素。<br><br></p><h1 id="Java-lang-Character-getNumericValue-方法"><a href="#Java-lang-Character-getNumericValue-方法" class="headerlink" title="Java.lang.Character.getNumericValue()方法"></a>Java.lang.Character.getNumericValue()方法</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">·java.lang.Character.getNumericValue(char ch) 返回指定Unicode字符表示的int值。例如，字符'\ u216C'（罗马数字50）将返回一个int值50。</span><br><span class="line"></span><br><span class="line">·字母的大写的AZ（'\ u0041'到'\ u005A'），小写字母（'\ u0061'到'\ u007A'），全宽度变体（'\ uFF21“的通过'\ uFF3A'和'\ uFF41”通过'\ uFF5A'）的形式从10到35的数值。这是独立的Unicode规范，这些字符的值不分配数值。</span><br><span class="line"></span><br><span class="line">·如果该字符没有一个数字值，则返回-1。如果字符具有一个数字值，该值不能被表示为一个非负整数（例如，一个分数值），则返回-2。</span><br></pre></td></tr></tbody></table></figure><br># 基础<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Collections;</span><br><span class="line">import java.util.Comparator;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class Main{</span><br><span class="line">    public  static void print(int index ,Object obj){</span><br><span class="line">        System.out.println(String.format("{%d},%s",index,obj.toString()));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">    //demoString();</span><br><span class="line">        demoList();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void demoList(){</span><br><span class="line">        List&lt;String&gt; strList=new ArrayList&lt;String&gt;();</span><br><span class="line">        for(int i=0;i&lt;4;i++){</span><br><span class="line">            strList.add(String.valueOf(i));</span><br><span class="line">        }</span><br><span class="line">        print(1,strList);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; strListB=new ArrayList&lt;String&gt;();</span><br><span class="line">        for(int i=0;i&lt;4;i++){</span><br><span class="line">            strListB.add(String.valueOf(i*i));</span><br><span class="line">        }</span><br><span class="line">        strList.addAll(strListB);</span><br><span class="line">        print(2,strList);</span><br><span class="line">        strList.remove(0);</span><br><span class="line">        print(3,strList);</span><br><span class="line">        strList.remove(String.valueOf(1));</span><br><span class="line">        print(4,strList);</span><br><span class="line">        print(5,strList.get(1));</span><br><span class="line"></span><br><span class="line">        Collections.sort(strList);</span><br><span class="line">        print(6,strList);</span><br><span class="line">        Collections.sort(strList, new Comparator&lt;String&gt;() {</span><br><span class="line">            @Override</span><br><span class="line">            public int compare(String o1, String o2) {</span><br><span class="line">                return o2.compareTo(o1);</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">        print(7,strList);</span><br><span class="line">    }</span><br><span class="line">    /*</span><br><span class="line">    {1},[0, 1, 2, 3]</span><br><span class="line">{2},[0, 1, 2, 3, 0, 1, 4, 9]</span><br><span class="line">{3},[1, 2, 3, 0, 1, 4, 9]</span><br><span class="line">{4},[2, 3, 0, 1, 4, 9]</span><br><span class="line">{5},3</span><br><span class="line">{6},[0, 1, 2, 3, 4, 9]</span><br><span class="line">{7},[9, 4, 3, 2, 1, 0]</span><br><span class="line">     */</span><br><span class="line">    </span><br><span class="line">    public static void demoString(){</span><br><span class="line">        String str="Hello nowcoder";</span><br><span class="line">        print(1,"Hello!");</span><br><span class="line">        print(2,str.charAt(6));</span><br><span class="line">        print(3,str.codePointAt(1));</span><br><span class="line">        print(4,str.compareTo("Hello mewcoder"));</span><br><span class="line">        print(5,str.compareTo("Hello pewcoder"));</span><br><span class="line">        print(6,str.contains("Hello"));</span><br><span class="line">        print(7,str.indexOf('e'));</span><br><span class="line">        print(8,str.compareToIgnoreCase("Hello Nowcoder"));</span><br><span class="line">        print(9,str.concat("!!"));</span><br><span class="line">        print(10,str.endsWith("nowcoder"));</span><br><span class="line">        print(11,str.startsWith("Hello"));</span><br><span class="line">        print(12,str.lastIndexOf('o'));</span><br><span class="line">        print(13,str.toUpperCase());</span><br><span class="line">        print(14,str.replace('o','a'));</span><br><span class="line">        print(15,str.replaceAll("o|l","a"));</span><br><span class="line">        print(16,str.replaceAll("Hello","hi"));</span><br><span class="line"></span><br><span class="line">        StringBuilder sb =new StringBuilder();</span><br><span class="line">        sb.append(true);</span><br><span class="line">        sb.append(1);</span><br><span class="line">        sb.append(2.2);</span><br><span class="line">        print(17,sb.toString());</span><br><span class="line">        print(18,"a"+"b"+String.valueOf(12));</span><br><span class="line">    }</span><br><span class="line">    /*{1},Hello!</span><br><span class="line">{2},n</span><br><span class="line">{3},101</span><br><span class="line">{4},1</span><br><span class="line">{5},-2</span><br><span class="line">{6},true</span><br><span class="line">{7},1</span><br><span class="line">{8},0</span><br><span class="line">{9},Hello nowcoder!!</span><br><span class="line">{10},true</span><br><span class="line">{11},true</span><br><span class="line">{12},10</span><br><span class="line">{13},HELLO NOWCODER</span><br><span class="line">{14},Hella nawcader</span><br><span class="line">{15},Heaaa nawcader</span><br><span class="line">{16},hi nowcoder</span><br><span class="line">{17},true12.2</span><br><span class="line">{18},ab12</span><br><span class="line">*/</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure># 数组随机打乱<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; array = Arrays.asList(new Integer[]{1,2,3,4,5});</span><br><span class="line">Collections.shuffle(array);</span><br></pre></td></tr></tbody></table></figure><p><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/4/38827.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Algorithms code</title>
      <link href="/2017/04/03/algorithms-code/"/>
      <url>/2017/04/03/algorithms-code/</url>
      
        <content type="html"><![CDATA[<p>一些值得回看的小算法。<br><img src="http://cdn01.wallconvert.com/_media/wp_400x250/1/2/16098.jpg" alt=""></p><a id="more"></a><h1 id="最长的连续子数组"><a href="#最长的连续子数组" class="headerlink" title="最长的连续子数组"></a>最长的连续子数组</h1><p>子数组数字不重复</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> [] arr={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>}; <span class="comment">//输出4</span></span><br><span class="line"><span class="keyword">int</span> [] arr1={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>}; <span class="comment">//输出5</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> RecursiveAndDynamic;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/2.</span></span><br><span class="line"><span class="comment"> * 最长的连续子数组（子数组数字不重复）</span></span><br><span class="line"><span class="comment"> * int [] arr={1,2,3,4,7}; 输出4</span></span><br><span class="line"><span class="comment"> *  int [] arr1={1,2,3,4,1,2,3,4,5,1}; 输出5</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">longestSubArr1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="keyword">int</span> [] arr={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>};</span><br><span class="line">        <span class="keyword">int</span> [] arr1={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>};</span><br><span class="line">        longestSubArr(arr1);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">longestSubArr</span><span class="params">(<span class="keyword">int</span> [] arr)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="keyword">null</span>||arr.length==<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> maxlen=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;arr.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(arr[i]==arr[i-<span class="number">1</span>]+<span class="number">1</span>){</span><br><span class="line">                len++;</span><br><span class="line">                maxlen=Math.max(len,maxlen);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                len=<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(maxlen);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="删除链表中的元素"><a href="#删除链表中的元素" class="headerlink" title="删除链表中的元素"></a>删除链表中的元素</h1><p>样例<br>给出链表 1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;5-&gt;3, 和 val = 3, 你需要返回删除3之后的链表：1-&gt;2-&gt;4-&gt;5。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * public class ListNode {</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode next;</span><br><span class="line"> *     ListNode(int x) { val = x; }</span><br><span class="line"> * }</span><br><span class="line"> */</span><br><span class="line">public class Solution {</span><br><span class="line">    /**</span><br><span class="line">     * @param head a ListNode</span><br><span class="line">     * @param val an integer</span><br><span class="line">     * @return a ListNode</span><br><span class="line">     */</span><br><span class="line">    public ListNode removeElements(ListNode head, int val) {</span><br><span class="line">        // Write your code here</span><br><span class="line">        if(head==null) return head;</span><br><span class="line">        ListNode p=head,q=head.next;</span><br><span class="line">        while(q!=null){</span><br><span class="line">        if(q.val==val){</span><br><span class="line">              p.next=q.next;</span><br><span class="line">              q=q.next;</span><br><span class="line">          }else{</span><br><span class="line">          p=p.next;</span><br><span class="line">          q=q.next;</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">        if(head.val==val) head=head.next;</span><br><span class="line">        return head;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="求n的阶乘结果后有几个零"><a href="#求n的阶乘结果后有几个零" class="headerlink" title="求n的阶乘结果后有几个零"></a>求n的阶乘结果后有几个零</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//结果后的零是由n中的5组成的，多少个5就有多少个0，所以只需要统计有多少5就可以了</span><br><span class="line"></span><br><span class="line">public class Solution {</span><br><span class="line">    public int trailingZeroes(int n) {</span><br><span class="line">       int rs=0;</span><br><span class="line">    while(n!=0){</span><br><span class="line">    rs+=n/5;</span><br><span class="line">    n/=5;</span><br><span class="line">    }</span><br><span class="line">          return rs;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="统计小于n的素数个数"><a href="#统计小于n的素数个数" class="headerlink" title="统计小于n的素数个数"></a>统计小于n的素数个数</h1><p>我写的用 n/2;<br>改进为   Math.sqrt(n)；<br>复杂度还是高了点；</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class Solution {</span><br><span class="line">    public int countPrimes(int n) {</span><br><span class="line">        boolean [] notPrimes = new boolean[n];</span><br><span class="line">       int count =0;</span><br><span class="line">       for(int i=2;i&lt;n;i++){</span><br><span class="line">       if(notPrimes[i]==false){</span><br><span class="line">       count++;</span><br><span class="line">       for(int j=2;i*j&lt;n;j++){</span><br><span class="line">       notPrimes[i*j]=true;</span><br><span class="line">       }</span><br><span class="line">       }</span><br><span class="line">       }</span><br><span class="line">        return count;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>这个算法降低了复杂度，值得学习！！</p><h1 id="同构字符串"><a href="#同构字符串" class="headerlink" title="同构字符串"></a>同构字符串</h1><p>Given “egg”, “add”, return true.<br>Given “foo”, “bar”, return false.<br>Given “paper”, “title”, return true.<br>即结构相同<br>我的</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public class Solution {</span><br><span class="line">    public boolean isIsomorphic(String s, String t) {</span><br><span class="line">        int [] count=new int [s.length()];   </span><br><span class="line">        for(int i=0;i&lt;s.length();i++){</span><br><span class="line">        count[i]=s.charAt(i)-t.charAt(i);</span><br><span class="line">         for(int j=0;j&lt;i;j++){</span><br><span class="line">         if(s.charAt(i)==s.charAt(j)){</span><br><span class="line">         if(count[i]!=count[j]){</span><br><span class="line">         return false;</span><br><span class="line">         }</span><br><span class="line">         }</span><br><span class="line">         if(t.charAt(i)==t.charAt(j)){</span><br><span class="line">             if(count[i]!=count[j]){</span><br><span class="line">             return false;</span><br><span class="line">             }</span><br><span class="line">         }</span><br><span class="line">        }</span><br><span class="line">        }        </span><br><span class="line">        return true;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>降低复杂度,用数组装字符，很重要的思想！</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class Solution {</span><br><span class="line">    public boolean isIsomorphic(String s, String t) {</span><br><span class="line">        int [] m=new int [256];</span><br><span class="line">        int [] n=new int [256];      </span><br><span class="line">        for(int i=0;i&lt;s.length();i++){</span><br><span class="line">            if(m[s.charAt(i)]!=n[t.charAt(i)]){</span><br><span class="line">            return false;</span><br><span class="line">            }</span><br><span class="line">            m[s.charAt(i)]=i+1;     //关键部分，通过i，实现错位</span><br><span class="line">            n[t.charAt(i)]=i+1;     //不同位置加的值不同      </span><br><span class="line">        }</span><br><span class="line">        return true;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="组合成最大的数"><a href="#组合成最大的数" class="headerlink" title="组合成最大的数"></a>组合成最大的数</h1><p>given [3, 30, 34, 5, 9], the largest formed number is 9534330.<br>[0,0]，输出0.</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class Solution {</span><br><span class="line">    public String largestNumber(int[] nums) {</span><br><span class="line">        String [] rs=new String[nums.length];</span><br><span class="line">        String sb=new String();</span><br><span class="line">        for(int i=0;i&lt;nums.length;i++){</span><br><span class="line">        rs[i]=String.valueOf(nums[i]);</span><br><span class="line">        }</span><br><span class="line">        for(int j=0;j&lt;nums.length-1;j++){</span><br><span class="line">    for(int i=0;i&lt;nums.length-j-1;i++){</span><br><span class="line">    String s1=rs[i]+rs[i+1];</span><br><span class="line">    String s2=rs[i+1]+rs[i];</span><br><span class="line">    if(s2.compareTo(s1)&gt;0){</span><br><span class="line">    String temp=rs[i];</span><br><span class="line">    rs[i]=rs[i+1];</span><br><span class="line">    rs[i+1]=temp;</span><br><span class="line">    }</span><br><span class="line">     }</span><br><span class="line">    }</span><br><span class="line">        for(int i=0;i&lt;nums.length;i++){</span><br><span class="line">        sb+=rs[i];</span><br><span class="line">        }</span><br><span class="line">         if(sb.charAt(0) == '0')</span><br><span class="line">            return "0";</span><br><span class="line">        return sb;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="判断n是不是2的幂"><a href="#判断n是不是2的幂" class="headerlink" title="判断n是不是2的幂"></a>判断n是不是2的幂</h1><p>只需要将n转化为二进制，然后计算二进制位里面有多少个1，如果计数为1，那么n是2的幂</p><hr><h1 id="快乐数"><a href="#快乐数" class="headerlink" title="快乐数"></a>快乐数</h1><p>写一个算法来判断一个数是不是”快乐数”。</p><p>一个数是不是快乐是这么定义的：对于一个正整数，每一次将该数替换为他每个位置上的数字的平方和，然后重复这个过程直到这个数变为1，或是无限循环但始终变不到1。如果可以变为1，那么这个数就是快乐数。</p><p>您在真实的面试中是否遇到过这个题？ Yes<br>样例<br>19 就是一个快乐数。</p><p>1^2 + 9^2 = 82<br>8^2 + 2^2 = 68<br>6^2 + 8^2 = 100<br>1^2 + 0^2 + 0^2 = 1</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public class Solution {</span><br><span class="line">    /**</span><br><span class="line">     * @param n an integer</span><br><span class="line">     * @return true if this is a happy number or false</span><br><span class="line">     */</span><br><span class="line">    public boolean isHappy(int n) {</span><br><span class="line">        // Write your code here</span><br><span class="line">      </span><br><span class="line">        Set&lt;Integer&gt; inLoop = new HashSet&lt;Integer&gt;();</span><br><span class="line">    int squareSum,remain;</span><br><span class="line">  while (inLoop.add(n)) {</span><br><span class="line">    squareSum = 0;</span><br><span class="line">    while (n &gt; 0) {</span><br><span class="line">        remain = n%10;</span><br><span class="line">      squareSum += remain*remain;</span><br><span class="line">      n /= 10;</span><br><span class="line">    }</span><br><span class="line">    if (squareSum == 1)</span><br><span class="line">      return true;</span><br><span class="line">    else</span><br><span class="line">      n = squareSum;</span><br><span class="line"></span><br><span class="line">  }</span><br><span class="line">  return false;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="Add-Binary"><a href="#Add-Binary" class="headerlink" title="Add Binary"></a>Add Binary</h1><p>Given two binary strings, return their sum (also a binary string).</p><p>For example,<br>a = “11”<br>b = “1”<br>Return “100”.</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">package leetCode;</span><br><span class="line">public class Temp</span><br><span class="line">{</span><br><span class="line">public static void main(String [] args)</span><br><span class="line">{   </span><br><span class="line">String  a="11";</span><br><span class="line">String b="1";</span><br><span class="line">System.out.print(addBinary(a,b));</span><br><span class="line">}</span><br><span class="line">    public static   String addBinary(String a, String b) {</span><br><span class="line">      if(a == null || a.isEmpty()) </span><br><span class="line">              return b;</span><br><span class="line">          if(b == null || b.isEmpty()) </span><br><span class="line">              return a;</span><br><span class="line">             </span><br><span class="line">          StringBuilder stb = new StringBuilder();</span><br><span class="line">          int i = a.length() - 1;</span><br><span class="line">          int j = b.length() - 1;</span><br><span class="line">          int aBit;</span><br><span class="line">          int bBit;</span><br><span class="line">          int carry = 0;</span><br><span class="line">          int result;</span><br><span class="line"></span><br><span class="line">          while(i &gt;= 0 || j &gt;= 0 || carry == 1) {</span><br><span class="line">              aBit = (i &gt;= 0) ? Character.getNumericValue(a.charAt(i--)) : 0;</span><br><span class="line">              bBit = (j &gt;= 0) ? Character.getNumericValue(b.charAt(j--)) : 0;</span><br><span class="line">              result = aBit ^ bBit ^ carry;</span><br><span class="line">              carry = ((aBit + bBit + carry) &gt;= 2) ? 1 : 0;</span><br><span class="line">              stb.append(result);</span><br><span class="line">          }</span><br><span class="line">          return stb.reverse().toString();                </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="徒手开平方"><a href="#徒手开平方" class="headerlink" title="徒手开平方"></a>徒手开平方</h1><p>·牛顿法-直线逼近原理</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package leetCode;</span><br><span class="line"></span><br><span class="line">public class Temp</span><br><span class="line">{</span><br><span class="line">  public static void main(String [] args)</span><br><span class="line">  {    </span><br><span class="line">    int  a=7;</span><br><span class="line">    System.out.print(mySqrt(a));</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">    public static   int mySqrt(int x) {</span><br><span class="line">   long rs=x;</span><br><span class="line">   while(rs*rs&gt;x){</span><br><span class="line">     rs=(rs+x/rs)/2;</span><br><span class="line">   }</span><br><span class="line">   return (int)rs;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"># 数学之美 —— 0x5f375a86</span><br></pre></td></tr></tbody></table></figure><p>float InvSqrt(float x)<br>{<br>    float xhalf = 0.5f<em>x;<br>    int i = *(int</em>)&amp;x; // get bits for floating VALUE<br>    i = 0x5f375a86- (i&gt;&gt;1); // gives initial guess y0<br>    x = <em>(float</em>)&amp;i; // convert bits BACK to float<br>    x = x<em>(1.5f-xhalf</em>x*x); // Newton step, repeating increases accuracy<br>    return x;<br>}  </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 两数字字符串相加</span><br><span class="line"></span><br><span class="line">Given two non-negative integers num1 and num2 represented as string, return the sum of num1 and num2.</span><br><span class="line"></span><br><span class="line">Note:</span><br><span class="line"></span><br><span class="line">The length of both num1 and num2 is &lt; 5100.</span><br><span class="line">Both num1 and num2 contains only digits 0-9.</span><br><span class="line">Both num1 and num2 does not contain any leading zero.</span><br><span class="line">You must not use any built-in BigInteger library or convert the inputs to integer directly.</span><br></pre></td></tr></tbody></table></figure><p>package leetCode;</p><p>public class Temp<br>{<br>    public static void main(String [] args)<br>    {<br>        String a=”1001”;<br>        String b=”1341”;<br>        System.out.print(addStrings(a,b));<br>    }</p><pre><code>public static  String addStrings(String num1, String num2) {    StringBuilder sb=new StringBuilder();    int carry=0;    for(int i=num1.length()-1,j=num2.length()-1;i&gt;=0||j&gt;=0||carry==1;i--,j--){        int x=i&lt;0?0:num1.charAt(i)-'0';        int y=j&lt;0?0:num2.charAt(j)-'0';        sb.append((x+y+carry)%10);        carry=(x+y+carry)/10;    }    return sb.reverse().toString();}</code></pre><p>}</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 字符串中出现多少字母</span><br><span class="line"></span><br><span class="line">存一下有多少个非0次出现的</span><br></pre></td></tr></tbody></table></figure><p>int nonZero = 0;<br>    for (int i = 0; i &lt; lenb; ++i)<br>        if (++num[b[i] – ‘a’] == 1) ++nonZero;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">``</span><br><span class="line">12.单词翻转</span><br><span class="line">``</span><br></pre></td></tr></tbody></table></figure><p>翻转句子中全部的单词，单词内容不变<br>例如I’m a student.  变为student. a I’m<br> in-place翻转 字符串第i位到第j位<br>while (i &lt; j) swap(s[i++], s[j–]);<br>有什么用？<br>翻转整个句子 ： .tneduts a m’I<br>每个单词单独翻转： student. a I’m<br>难点？ 如何区分单词？找空格，split</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># HashSet</span><br></pre></td></tr></tbody></table></figure><p>public static int[] intersection(int[] nums1, int [] nums2){<br>        Set<integer> set= new HashSet&lt;&gt;();<br>        Set<integer> interset=new HashSet&lt;&gt;();<br>        for(int i=0;i&lt;nums1.length;i++){<br>            set.add(nums1[i]);        //存入不重复的值<br>        }<br>        for(int i=0;i&lt;nums2.length;i++){<br>            if(set.contains(nums2[i])){  //如果重复上个set数组里的值<br>                interset.add(nums2[i]);   //添加上个数组里有的值<br>            }<br>        }</integer></integer></p><pre><code>    int [] res=new int [interset.size()];    int i=0;    for(Integer num:interset){        res[i++]=num;    }    return res;}</code></pre><p>}</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 350. Intersection of Two Arrays II</span><br><span class="line"></span><br><span class="line">Given two arrays, write a function to compute their intersection.</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">Given nums1 = [1, 2, 2, 1], nums2 = [2, 2], return [2, 2].</span><br><span class="line"></span><br><span class="line">Note:</span><br><span class="line">Each element in the result should appear as many times as it shows in both arrays.</span><br><span class="line">The result can be in any order.</span><br><span class="line"></span><br><span class="line">先排序，一个一个对比，相等的才存，不等就小的数组指针加1。</span><br></pre></td></tr></tbody></table></figure><p>public static int[] intersection(int[] nums1, int [] nums2){<br>        Arrays.sort(nums1);<br>        Arrays.sort(nums2);<br>        int p1=0;<br>        int p2=0;<br>        ArrayList<integer> myList= new ArrayList <integer>();<br>        while((p1&lt;nums1.length)&amp;&amp;(p2&lt;nums2.length)){<br>          if(nums1[p1]&lt;nums2[p2]){<br>            p1++;<br>          }else{<br>            if(nums1[p1]&gt;nums2[p2]){<br>              p2++;<br>            }else{<br>              myList.add(nums1[p1]);<br>              p1++;<br>              p2++;<br>            }<br>          }<br>        }</integer></integer></p><pre><code>int[] res= new int [myList.size()];for(int i=0;i&lt;res.length;i++){  res[i]=myList.get(i);    //ArrayList取值方法   }return res;   //转化成正常数组输出</code></pre><p>  }</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 将字符数组转化为字符串</span><br></pre></td></tr></tbody></table></figure><p>public static  String reverseString(String s) {<br>        char [] rs= new char[s.length()];<br>        for(int i=0;i&lt;s.length();i++){<br>            rs[i]=s.charAt(i);<br>        }<br>        for(int i=0;i&lt;s.length()/2;i++){<br>            char temp=rs[i];<br>             rs[i]=rs[s.length()-i-1];<br>            rs[s.length()-i-1]=temp;<br>        }<br>        return new String(rs);  //转化<br>    }</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 不用加号实现两数相加</span><br></pre></td></tr></tbody></table></figure><p>public int getSum(int a, int b) {<br>    return b == 0 ? a : getSum(a ^ b, (a &amp; b) &lt;&lt; 1);<br>}</p><hr><h1 id="合并排序数组"><a href="#合并排序数组" class="headerlink" title="合并排序数组"></a>合并排序数组</h1><p>合并两个排序的整数数组A和B变成一个新的数组。</p><p>给出A=<strong>[1,2,3,4]</strong>，B=<strong>[2,4,5,6]</strong>，返回** [1,2,2,3,4,4,5,6]**</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * @param A: sorted integer array A</span></span><br><span class="line"><span class="comment">     * @param B: sorted integer array B</span></span><br><span class="line"><span class="comment">     * @return: A new sorted integer array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] mergeSortedArray(<span class="keyword">int</span>[] A, <span class="keyword">int</span>[] B) {</span><br><span class="line">        <span class="comment">// write your code here</span></span><br><span class="line">       <span class="keyword">int</span> indexA=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> indexB=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> []C =<span class="keyword">new</span> <span class="keyword">int</span> [A.length+B.length];</span><br><span class="line">        <span class="keyword">int</span> indexC=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(indexA!=A.length &amp;&amp; indexB!=B.length) {</span><br><span class="line">            <span class="keyword">if</span> (A[indexA] &lt; B[indexB]) {</span><br><span class="line">                C[indexC++]=A[indexA++];</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span> (A[indexA] &gt; B[indexB]) {</span><br><span class="line">                C[indexC++]=B[indexB++];</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">                C[indexC++]=A[indexA++];</span><br><span class="line">                C[indexC++]=B[indexB++];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(indexA==A.length &amp;&amp; indexB!=B.length){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=indexB;i&lt;B.length;i++){</span><br><span class="line">                C[indexC++]=B[i];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(indexA!=A.length &amp;&amp; indexB==B.length){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=indexA;i&lt;A.length;i++){</span><br><span class="line">                C[indexC++]=A[i];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> C;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><ol><li>写代码：多线程实现从A,B,C三个文件中读取文件放到D文件中，优化：如何同步实现。</li></ol><hr><h1 id="写一个单例模式，什么时候用到"><a href="#写一个单例模式，什么时候用到" class="headerlink" title="写一个单例模式，什么时候用到"></a>写一个单例模式，什么时候用到</h1><p>在某些情况下，有些对象只需要一个就可以了，即每个类只需要一个实例。<br>单例模式的作用就是保证在整个应用程序的生命周期中，任何一个时刻，单例类的实例都只存在一个。<br>实现一个单例模式：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>{</span><br><span class="line">      <span class="function"><span class="keyword">private</span> <span class="title">Test</span><span class="params">()</span></span>{}</span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">static</span> Test uniqueInstance = <span class="keyword">new</span> Test();</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Test <span class="title">getInstence</span><span class="params">()</span></span>{</span><br><span class="line">          <span class="keyword">return</span> uniqueInstance;</span><br><span class="line">      }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>由于在使用前就创建好了对象，因此，可以在多线程环境下使用这种方法。</p><hr><h1 id="装饰者模式是什么，举例"><a href="#装饰者模式是什么，举例" class="headerlink" title="装饰者模式是什么，举例"></a>装饰者模式是什么，举例</h1><p>装饰者模式通过组合的方式扩展对象的特性，这种方式允许我们在任何时候对对象的功能<br>进行扩展，甚至是运行时扩展，而若我们用继承来完成对类的扩展，则只能在编译阶段实现<br>，所以在某些时候装饰者模式比继承更灵活。</p><p>特征：</p><ul><li>装饰者和被装饰者的对象有着共同的超类</li><li>我们可以用多个装饰者修饰一个对象</li><li>可以用修饰过的对象替代代码中的原对象</li><li>一个对象在任何时候都可以被装饰，甚至是运行时</li></ul><p>应用场景：<br>一家奶茶店，一杯奶茶是10元；<br>如果加糖+2、加奶+3、加葡萄+5元…<br>如果写类去继承，会要写n多个<br>如果用装饰就直接在类里加价钱</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> mTea.getPrice()+<span class="number">2</span>;</span><br><span class="line"><span class="keyword">return</span> mTea.getPrice()+<span class="number">15</span>;</span><br><span class="line"><span class="keyword">return</span> mTea.getPrice()+<span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">-----</span><br><span class="line"></span><br><span class="line">mTea = <span class="keyword">new</span> SimpleTea();</span><br><span class="line">mTea = <span class="keyword">new</span> SugarDecorator(mTea);</span><br><span class="line">mTea = <span class="keyword">new</span> MilkDecorator(mTea);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> price1 = mTea.getPrice();</span><br><span class="line">System.out.println(<span class="string">"price1="</span>+price1);</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="写代码：找出字符数组中第一次只出现三次的字符"><a href="#写代码：找出字符数组中第一次只出现三次的字符" class="headerlink" title="写代码：找出字符数组中第一次只出现三次的字符"></a>写代码：找出字符数组中第一次只出现三次的字符</h1><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/6.</span></span><br><span class="line"><span class="comment"> * 找出字符数组中第一次只出现三次的字符</span></span><br><span class="line"><span class="comment"> 思路：</span></span><br><span class="line"><span class="comment"> 1、统计各字符出现次数</span></span><br><span class="line"><span class="comment"> 2、遍历字符串，如果出现字符次数为3则输出该字符并跳出循环；否则如果不存在则输出" . "</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreeChar1</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        String str=<span class="string">"abesabjdwsjibuhfrsadfesdsferewh"</span>;</span><br><span class="line">        <span class="keyword">char</span> [] chars=str.toCharArray();</span><br><span class="line">        ThreeChar(chars);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ThreeChar</span><span class="params">(<span class="keyword">char</span> [] chars)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(chars==<span class="keyword">null</span>||chars.length==<span class="number">0</span>){</span><br><span class="line">            System.out.println(<span class="string">"."</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> [] res=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;chars.length;i++){</span><br><span class="line">            res[chars[i]]++;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;chars.length;i++){</span><br><span class="line">            <span class="keyword">if</span>(res[chars[i]]==<span class="number">3</span>){</span><br><span class="line">                System.out.println(chars[i]);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="验证身份证是否正确"><a href="#验证身份证是否正确" class="headerlink" title="验证身份证是否正确"></a>验证身份证是否正确</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">身份证号码验证</span><br><span class="line"> </span><br><span class="line"> 1、号码的结构    </span><br><span class="line">  公民身份号码是特征组合码，由十七位数字本体码和一位校验码组成。排列顺序从左至右依次为：六位数字地址码，    </span><br><span class="line">  八位数字出生日期码，三位数字顺序码和一位数字校验码。    </span><br><span class="line"> </span><br><span class="line"> 2、地址码(前六位数）     </span><br><span class="line">  表示编码对象常住户口所在县(市、旗、区)的行政区划代码，按GB/T2260的规定执行。     </span><br><span class="line"> </span><br><span class="line"> 3、出生日期码（第七位至十四位）    </span><br><span class="line">  表示编码对象出生的年、月、日，按GB/T7408的规定执行，年、月、日代码之间不用分隔符。     </span><br><span class="line"> </span><br><span class="line"> 4、顺序码（第十五位至十七位）    </span><br><span class="line">  表示在同一地址码所标识的区域范围内，对同年、同月、同日出生的人编定的顺序号，    </span><br><span class="line">  顺序码的奇数分配给男性，偶数分配给女性。     </span><br><span class="line"> </span><br><span class="line"> 5、校验码（第十八位数）    </span><br><span class="line">  （1）十七位数字本体码加权求和公式 S = Sum(Ai * Wi), i = 0,  , 16 ，先对前17位数字的权求和    </span><br><span class="line">  Ai:表示第i位置上的身份证号码数字值 Wi:表示第i位置上的加权因子 Wi: 7 9 10 5 8 4 2 1 6 3 7 9 10 5 8 4    </span><br><span class="line">  2 （2）计算模 Y = mod(S, 11) （3）通过模得到对应的校验码 Y: 0 1 2 3 4 5 6 7 8 9 10 校验码: 1 0    </span><br><span class="line">  X 9 8 7 6 5 4 3 2    </span><br><span class="line">  功能：身份证的有效验证</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="网易笔试：一个合法的括号匹配"><a href="#网易笔试：一个合法的括号匹配" class="headerlink" title="网易笔试：一个合法的括号匹配"></a>网易笔试：一个合法的括号匹配</h1><p>   给一个合法的括号匹配序列s，找到同样长的所有的括号匹配序列t，<br>   1.t和s不同，但是长度相同<br>   2.t也合法<br>  3.LCS（s,t） 是满足上面两个条件的t中最大的。</p><p> eg:<br> s=”(())()”<br> 匹配的有： “()(())”、”((()))”、”()()()”、”(()())”<br> 其中 LCS（”(())()”,”()(())”）为4，其余都是5，所以输出3</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ProgrammingWritten;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NetEase1</span> </span>{</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> cnt;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> HashMap&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line">            HashMap&lt;Integer,Integer&gt; map2 = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">            Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">            String str1 = input.nextLine();</span><br><span class="line">            <span class="comment">// int n = Integer.parseInt(str);</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> n2 = str1.length();</span><br><span class="line">            <span class="keyword">int</span> n = (<span class="keyword">int</span>) n2 / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// StringBuffer bf = new StringBuffer("");</span></span><br><span class="line">            <span class="comment">// String str1 = bf.append(str).reverse().toString();</span></span><br><span class="line">            <span class="comment">// n += Integer.parseInt(str1);</span></span><br><span class="line">            <span class="comment">// System.out.println(n);</span></span><br><span class="line"></span><br><span class="line">            ArrayList&lt;String&gt; list = getBracketsOfN(n);</span><br><span class="line">            <span class="keyword">for</span> (String str2 : list) {</span><br><span class="line">                <span class="keyword">if</span> (str1.equals(str2)) {</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    <span class="keyword">int</span>[][] re = longestCommonSubsequence(str1, str2);</span><br><span class="line"></span><br><span class="line">                    cnt=<span class="number">0</span>;</span><br><span class="line">                    print(re, str1, str2, str1.length(), str2.length());</span><br><span class="line">                    map.put(str2, cnt);</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;String, Integer&gt; entry : map.entrySet()) {</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (map2.containsKey(entry.getValue())) {</span><br><span class="line">                    <span class="keyword">int</span> count=map2.get(entry.getValue());</span><br><span class="line">                    map2.put(entry.getValue(), ++count);</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span> {</span><br><span class="line">                    map2.put(entry.getValue(), <span class="number">1</span>);</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> max= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(Entry&lt;Integer, Integer&gt; entry : map2.entrySet()) {</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (max&lt;entry.getKey()) {</span><br><span class="line">                    result = entry.getValue();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            System.out.println(result);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * Given the number N, return all of the correct brackets.</span></span><br><span class="line"><span class="comment">         *</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;String&gt; <span class="title">getBracketsOfN</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">            <span class="meta">@SuppressWarnings</span>(<span class="string">"rawtypes"</span>)</span><br><span class="line">            ArrayList[] dp = <span class="keyword">new</span> ArrayList[n + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dp.length; i++)</span><br><span class="line">                dp[i] = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">            dp[<span class="number">0</span>].add(<span class="string">""</span>);</span><br><span class="line">            dp[<span class="number">1</span>].add(<span class="string">"()"</span>);</span><br><span class="line">            <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> dp[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> dp[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">while</span> (count &lt; n + <span class="number">1</span>) {</span><br><span class="line">                ArrayList&lt;String&gt; lcount = dp[count];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) {</span><br><span class="line">                    ArrayList&lt;String&gt; l1 = dp[i];</span><br><span class="line">                    ArrayList&lt;String&gt; l2 = dp[count - i - <span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; l1.size(); j++) {</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; l2.size(); k++) {</span><br><span class="line">                            StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">                            sb.append(l1.get(j));</span><br><span class="line">                            sb.append(<span class="string">"("</span>);</span><br><span class="line">                            sb.append(l2.get(k));</span><br><span class="line">                            sb.append(<span class="string">")"</span>);</span><br><span class="line">                            lcount.add(sb.toString());</span><br><span class="line">                        }</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                dp[count++] = lcount;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> dp[n];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 假如返回两个字符串的最长公共子序列的长度</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[][] longestCommonSubsequence(String str1, String str2) {</span><br><span class="line">            <span class="keyword">int</span>[][] matrix = <span class="keyword">new</span> <span class="keyword">int</span>[str1.length() + <span class="number">1</span>][str2.length() + <span class="number">1</span>];<span class="comment">//建立二维矩阵</span></span><br><span class="line">            <span class="comment">// 初始化边界条件</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= str1.length(); i++) {</span><br><span class="line">                matrix[i][<span class="number">0</span>] = <span class="number">0</span>;<span class="comment">//每行第一列置零</span></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= str2.length(); j++) {</span><br><span class="line">                matrix[<span class="number">0</span>][j] = <span class="number">0</span>;<span class="comment">//每列第一行置零</span></span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// 填充矩阵</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= str1.length(); i++) {</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= str2.length(); j++) {</span><br><span class="line">                    <span class="keyword">if</span> (str1.charAt(i - <span class="number">1</span>) == str2.charAt(j - <span class="number">1</span>)) {</span><br><span class="line">                        matrix[i][j] = matrix[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                    } <span class="keyword">else</span> {</span><br><span class="line">                        matrix[i][j] = (matrix[i - <span class="number">1</span>][j] &gt;= matrix[i][j - <span class="number">1</span>] ? matrix[i - <span class="number">1</span>][j]</span><br><span class="line">                                : matrix[i][j - <span class="number">1</span>]);</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> matrix;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//根据矩阵输出LCS</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span>[][] opt, String X, String Y, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>{</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> || j == <span class="number">0</span>) {</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (X.charAt(i - <span class="number">1</span>) == Y.charAt(j - <span class="number">1</span>)) {</span><br><span class="line">                print(opt, X, Y, i - <span class="number">1</span>, j - <span class="number">1</span>);</span><br><span class="line">                cnt++;</span><br><span class="line"><span class="comment">//                System.out.print(X.charAt(i - 1));</span></span><br><span class="line">            } <span class="keyword">else</span> <span class="keyword">if</span> (opt[i - <span class="number">1</span>][j] &gt;= opt[i][j]) {</span><br><span class="line">                print(opt, X, Y, i - <span class="number">1</span>, j);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                print(opt, X, Y, i, j - <span class="number">1</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="滴滴笔试：求解第n个丑数"><a href="#滴滴笔试：求解第n个丑数" class="headerlink" title="滴滴笔试：求解第n个丑数"></a>滴滴笔试：求解第n个丑数</h1><p>我们把只包含因子2,3和5的数称为丑数（Ugly Number),求从小到大的顺序第n的丑数，例如6,8都是丑数，但14不是，因为它包含因子7。习惯上我们把1当作第1个丑数</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ProgrammingWritten;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">didi2</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        Scanner cin = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"></span><br><span class="line">         <span class="keyword">int</span>    n = cin.nextInt();</span><br><span class="line"></span><br><span class="line">            System.out.println(getugly(n));</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">        <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getugly</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</span><br><span class="line">            <span class="keyword">if</span>(n==<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">            a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> num2 = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> num3 = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> num5 = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(count&lt;n){</span><br><span class="line">                <span class="keyword">int</span> min = min(a[num2]*<span class="number">2</span>,a[num3]*<span class="number">3</span>,a[num5]*<span class="number">5</span>);</span><br><span class="line">                a[count] = min;</span><br><span class="line">                <span class="keyword">while</span>(a[num2]*<span class="number">2</span>&lt;=a[count]) num2++;</span><br><span class="line">                <span class="keyword">while</span>(a[num3]*<span class="number">3</span>&lt;=a[count]) num3++;</span><br><span class="line">                <span class="keyword">while</span>(a[num5]*<span class="number">5</span>&lt;=a[count]) num5++;</span><br><span class="line">                count++;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">int</span> result = a[n-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c)</span></span>{</span><br><span class="line">            <span class="keyword">int</span> tmp = a&gt;b?b:a;</span><br><span class="line">            <span class="keyword">return</span> tmp&gt;c?c:tmp;</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><p><img src="http://cdn01.wallconvert.com/_media/wp_200x125/1/4/30546.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法与数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java多线程</title>
      <link href="/2017/04/03/java-duo-xian-cheng/"/>
      <url>/2017/04/03/java-duo-xian-cheng/</url>
      
        <content type="html"><![CDATA[<p><img src="http://cdn01.wallconvert.com/_media/wp_200x125/1/5/41445.jpg" alt=""></p><a id="more"></a><h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><p>创建线程：<br>1.通过继承线程类Thread来创建线程类；<br>2.建立一个实现Runnable接口的类来运行线程。</p><p>通过继承Thread创建一个子类，在主控程序中同时运行两个线程。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class Thread1{</span><br><span class="line">public static void main(String args[]){</span><br><span class="line"> testThread t1 = new testThread("thread1");</span><br><span class="line"> testThread t2 = new testThread("thread2");</span><br><span class="line"> t1.start();</span><br><span class="line"> t2.start();</span><br><span class="line">   }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class testThread extends Thread{</span><br><span class="line">public testThread(String str){</span><br><span class="line">super(str);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void run(){</span><br><span class="line">    for(int i=0;i&lt;3;i++){</span><br><span class="line">    System.out.println(getName()+"在运行")；</span><br><span class="line">    try{</span><br><span class="line">    sleep(1000);</span><br><span class="line">    }catch(InterruptedException e){}</span><br><span class="line">    }</span><br><span class="line">    System.out.println(getName()+"已结束")；</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>线程的生命周期</code><br>·创建（New Thread）<br>·运行（Runnable）<br>·挂起（Not Runnable）<br>·结束（Dead）</p><p><code>以下三种情况会使线程转入Not Runnable状态</code><br>1.调用sleep方法时，延时结束，重新转入Runnable状态；<br>2.调用wait方法等待一个特定状态发生时，状态发生后，其他对象必须调用notify或notifyAll方法向等待中的线程发出通知，才能唤醒这个线程；<br>3.当线程被I/O阻塞时，I/O完成后可唤醒线程。</p><hr><h1 id="售票系统之多线程"><a href="#售票系统之多线程" class="headerlink" title="售票系统之多线程"></a>售票系统之多线程</h1><p>买火车票是大家春节回家最为关注的事情，我们就简单模拟一下火车票的售票系统：有500张从广州到长沙的火车票，在8个窗口同时出售，保证系统的稳定性和数据的原子性。</p><p>show my code .</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Service</span></span>{</span><br><span class="line">    <span class="keyword">private</span> String ticketName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> totalCount;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> remaining;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Service</span><span class="params">(String ticketName , <span class="keyword">int</span> totalCount)</span></span>{</span><br><span class="line">        <span class="keyword">this</span>.ticketName=ticketName;</span><br><span class="line">        <span class="keyword">this</span>.totalCount=totalCount;</span><br><span class="line">        <span class="keyword">this</span>.remaining=totalCount;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">saleTicket</span><span class="params">(<span class="keyword">int</span> ticketNum)</span></span>{</span><br><span class="line">        <span class="keyword">if</span>(remaining&gt;<span class="number">0</span>){</span><br><span class="line">            remaining-=ticketNum;</span><br><span class="line">            <span class="keyword">try</span>{</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            }<span class="keyword">catch</span> (InterruptedException e){</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(remaining&gt;=<span class="number">0</span>){</span><br><span class="line">                <span class="keyword">return</span> remaining;</span><br><span class="line">            }<span class="keyword">else</span>{</span><br><span class="line">                remaining+=ticketNum;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">getRemaining</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> remaining;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getTicketName</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span>  <span class="keyword">this</span>.ticketName;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TicketSaler</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Service service;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicketSaler</span><span class="params">(String windowName , Service service)</span></span>{</span><br><span class="line">        <span class="keyword">this</span>.name=windowName;</span><br><span class="line">        <span class="keyword">this</span>.service=service;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">while</span>(service.getRemaining()&gt;<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>){</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">"出售第"</span>+service.getRemaining()+<span class="string">"张票，"</span>);</span><br><span class="line">                <span class="keyword">int</span> remaining =service.saleTicket(<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(remaining&gt;=<span class="number">0</span>){</span><br><span class="line">                    System.out.println(<span class="string">"出票成功！剩余"</span>+remaining+<span class="string">"张票。"</span>);</span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    System.out.println(<span class="string">"出票失败！ 该票已售完 。"</span>);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThreadTests</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>{</span><br><span class="line">        <span class="comment">//testThread();</span></span><br><span class="line">        Service service=<span class="keyword">new</span> Service(<span class="string">"广州 --&gt; 长沙"</span>,<span class="number">500</span>);</span><br><span class="line">        TicketSaler ticketSaler=<span class="keyword">new</span> TicketSaler(<span class="string">"售票系统"</span> , service);</span><br><span class="line">        Thread threads []=<span class="keyword">new</span> Thread[<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;threads.length;i++){</span><br><span class="line">            threads[i]=<span class="keyword">new</span> Thread(ticketSaler,<span class="string">"窗口"</span>+(i+<span class="number">1</span>));</span><br><span class="line">            System.out.println(<span class="string">"窗口"</span>+(i+<span class="number">1</span>)+<span class="string">"开始出售"</span>+service.getTicketName()+<span class="string">"的票..."</span>);</span><br><span class="line">            threads[i].start();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>部分结果：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">窗口<span class="number">1</span>开始出售广州 --&gt; 长沙的票...</span><br><span class="line">窗口<span class="number">2</span>开始出售广州 --&gt; 长沙的票...</span><br><span class="line">窗口<span class="number">3</span>开始出售广州 --&gt; 长沙的票...</span><br><span class="line">窗口<span class="number">4</span>开始出售广州 --&gt; 长沙的票...</span><br><span class="line">窗口<span class="number">5</span>开始出售广州 --&gt; 长沙的票...</span><br><span class="line">窗口<span class="number">6</span>开始出售广州 --&gt; 长沙的票...</span><br><span class="line">窗口<span class="number">7</span>开始出售广州 --&gt; 长沙的票...</span><br><span class="line">窗口<span class="number">8</span>开始出售广州 --&gt; 长沙的票...</span><br><span class="line">窗口<span class="number">1</span>出售第<span class="number">500</span>张票，</span><br><span class="line">出票成功！剩余<span class="number">499</span>张票。</span><br><span class="line">窗口<span class="number">3</span>出售第<span class="number">499</span>张票，</span><br><span class="line">出票成功！剩余<span class="number">498</span>张票。</span><br><span class="line">窗口<span class="number">3</span>出售第<span class="number">498</span>张票，</span><br><span class="line">......</span><br><span class="line">窗口<span class="number">7</span>出售第<span class="number">0</span>张票，</span><br><span class="line">出票失败！ 该票已售完 。</span><br><span class="line">窗口<span class="number">2</span>出售第<span class="number">0</span>张票，</span><br><span class="line">出票失败！ 该票已售完 。</span><br><span class="line">窗口<span class="number">1</span>出售第<span class="number">0</span>张票，</span><br><span class="line">出票失败！ 该票已售完 。</span><br></pre></td></tr></tbody></table></figure><p><img src="http://cdn01.wallconvert.com/_media/wp_200x125/1/5/41938.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多线程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSP学习笔记</title>
      <link href="/2017/04/02/jsp-xue-xi-bi-ji/"/>
      <url>/2017/04/02/jsp-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>JSP : Java Server Pages ,是一个简化的Servlet设计，实现了在Java中使用HTML标签。<br><img src="http://cdn01.wallconvert.com/_media/wp_200x125/1/2/18703.jpg" alt=""></p><a id="more"></a><p>JSP基础语法：<br><code>1.JSP指令</code><br>·page指令：通常位于Jsp页面的顶端，同一个页面可以有多个page指令。<br>·include指令：将一个外部文件嵌入到当前JSP文件中，同时解析这个页面中的JSP语句。<br>·taglib指令：使用标签库定义新的自定义标签，在JSP页面中启动定制行为。</p><p><code>2.JSP注释</code><br>·HTML的注释：<br>&lt; !–heml注释–&gt;  //客户端可见<br>·JSP的注释：<br>&lt;%–html注释–%&gt;  //客户端不可见<br>·JSP脚本注释：<br>//单行注释<br>/**/多行注释</p><p><code>3.JSP脚本</code><br>&lt;%Java代码%&gt;</p><p><code>4.JSP声明</code><br>在JSP页面中定义变量或者方法。<br>&lt;%!JAVA代码%&gt;<br><code>5.Java 表达式</code><br>在JSP页面中执行的表达式。<br>&lt;% =表达式 %&gt;  //注意:表达式不以分号结束</p><p><code>6.JSP页面生命周期</code><br>·用户发出请求index.jsp<br>·是否是第一次请求—&gt;<br>·是–&gt;JSP引擎把该JSP文件转换成为一个Servlet，生成字节码文件，并执行jspInit()–&gt;再访问生成的字节码文件<br>·否–&gt;直接访问生成的字节码文件<br>·解析执行，jspService()</p><p>当用户第一次请求一个jsp页面时，首先被执行的方法是构造方法。</p><p><code>JSP内置对象</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.内置对象简介</span><br><span class="line">JSP内置对象是Web容器创建的一组对象，不使用new关键就可以使用的内置对象。</span><br><span class="line"></span><br><span class="line">2.四种作用域范围</span><br><span class="line"></span><br><span class="line">3.out</span><br><span class="line"></span><br><span class="line">4.request</span><br><span class="line"></span><br><span class="line">5.session</span><br><span class="line"></span><br><span class="line">6.application</span><br><span class="line"></span><br><span class="line">7.其他内置对象</span><br><span class="line"></span><br><span class="line">缓冲区：Buffer</span><br><span class="line">缓冲区就是内存的一块区域用来保存临时数据。</span><br></pre></td></tr></tbody></table></figure><p><code>8.ContextConfig 的 init 方法将会主要完成以下工作：</code><br>·创建用于解析 xml 配置文件的 contextDigester 对象<br>·读取默认 context.xml 配置文件，如果存在解析它<br>·读取默认 Host 配置文件，如果存在解析它<br>·读取默认 Context 自身的配置文件，如果存在解析它<br>·设置 Context 的 DocBase</p><p><code>9.ContextConfig 的 init 方法完成后，Context 容器的会执行 startInternal 方法，这个方法启动逻辑比较复杂，主要包括如下几个部分：</code><br>·创建读取资源文件的对象<br>·创建 ClassLoader 对象<br>·设置应用的工作目录<br>·启动相关的辅助类如：logger、realm、resources 等<br>·修改启动状态，通知感兴趣的观察者（Web 应用的配置）<br>·子容器的初始化<br>·获取 ServletContext 并设置必要的参数<br>·初始化“load on startup”的 Servlet</p><p>10.与 Servlet 主动关联的是三个类，分别是 ServletConfig、ServletRequest 和 ServletResponse。这三个类都是通过容器传递给 Servlet 的，其中 ServletConfig 是在 Servlet 初始化时就传给 Servlet 了，而后两个是在请求达到时调用 Servlet 时传递过来的。</p><p><img src="http://img.hb.aicdn.com/2de6ab7af328bce602e7e547225a0866233860b321955-rcw4fB_fw658" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 框架 JSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring 笔记</title>
      <link href="/2017/03/31/spring-bi-ji/"/>
      <url>/2017/03/31/spring-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>Spring 是一个轻量级的控制反转（IOC）和面向切面（AOP）的容器框架。</p><p><img src="http://pic.sc.chinaz.com/files/pic/pic9/201508/apic14250.jpg" alt=""></p><a id="more"></a><p><code>框架与类库的区别：</code><br>-框架一般是封装了逻辑、搞内聚的，类库则是松散的工具组合；<br>-框架专注于某一领域，类库则是更通用的。</p><p><code>接口</code><br>实体把自己提供给外界的一种抽象化的说明；<br>接口是对外的一种说明，说明了我会提供哪些功能，然后至于内部的实现，对外是不公开的；<br>对应java接口即声明，声明了哪些方法是对外公开提供的；</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">接口：只能有声明，不能有实现</span><br><span class="line">抽象类：既能有声明，也有实现</span><br><span class="line">普通类：只能有完全的实现</span><br></pre></td></tr></tbody></table></figure><p>在Java8中，接口可以拥有方法体。</p><p><code>面向接口编程</code><br>‘面向接口编程’中的’接口’是用于隐藏具体实现和实现多态性的组件。</p><p><code>什么是IOC</code><br>IOC:控制反转，控制权的转移，应用程序本身不负责依赖对象的创建和维护，而是由外部容器负责创建和维护<br>DI（依赖注入）是其一种实现方式<br>目的：创建对象并且组装对象之间的关系</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IOC </span><br><span class="line">·找IOC容器</span><br><span class="line">·容器返回对象</span><br><span class="line">·使用对象</span><br></pre></td></tr></tbody></table></figure><p><code>在Spring 中的bean应满足如下几个原则：</code><br>（1）每个bean实现类都应提供无参数的构造器。<br>（2）接受构造注入的bean，则应提供对应的构造函数。<br>（3）接受设值注入的bean，则应提供对应的setter方法，并不强制要求提供对应的getter方法。</p><p><code>Bean 的作用域</code><br>·singleton ： 单例，指一个Bean容器中只存在一份<br>·prototype ： 每次请求（每次使用）创建新的实例，destroy方式不生效<br>·request ： 每次http请求创建一个实例且仅在当前request内有效<br>·session ： 同上，每次http请求创建，当前session内有效<br>·global session：基于portlet的web中有效（portlet定义了global session ），如果是在web中，同session </p><p><code>关于bean初始化和销毁同时使用的注意情况：</code><br>1，默认全局的初始化和销毁方法；<br>2，实现接口的初始化和销毁方法；<br>3，配置文件中配置初始化和销毁方法；<br>这三个方法同时使用时，1默认的则不执行，而23两种都会执行，并且是2实现接口的方式先于配置中3的执行。<br>1默认的全局初始化和销毁方法可以有可以没有，有没有对配置都没有太大影响，当然如果一个bean没有采取23初始化销毁方法，而有1默认的方法的话，这两个方法还是会执行的。即使没有，系统也不会报错。</p><p><code>学习关键点：</code><br>1.依赖注入<br>2.面向切面<br>3.Spring MVC<br>4.Spring对jdbc的支持</p><p><img src="http://img.hb.aicdn.com/81933b2645c21721203bbaaf66434a7dd5a2cae97c96-bNs1cZ_fw658" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程语言 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>剑指Offer(11-20)</title>
      <link href="/2017/03/26/jian-zhi-offer-11-20/"/>
      <url>/2017/03/26/jian-zhi-offer-11-20/</url>
      
        <content type="html"><![CDATA[<p>关于剑指Offer的一些解题思路</p><p><img src="http://img4.duitang.com/uploads/blog/201410/16/20141016153644_i3Ajf.gif" alt=""></p><a id="more"></a><h1 id="题11：数值的整数次方"><a href="#题11：数值的整数次方" class="headerlink" title="题11：数值的整数次方"></a>题11：数值的整数次方</h1><p>实现函数double Power(double base, int exponent)，求base的exponent次方。<br>不得使用库函数，同时不需要考虑大数问题。 </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args)throws Exception {</span><br><span class="line">        Scanner sc=new Scanner(System.in);</span><br><span class="line">        double n=sc.nextDouble();</span><br><span class="line">        int exp=sc.nextInt();</span><br><span class="line">    System.out.println(power(n,exp));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static double power(double base ,int exponent)throws Exception{</span><br><span class="line"></span><br><span class="line">        if(equal(base,0.0) &amp;&amp; exponent&lt;0){</span><br><span class="line">            throw new Exception("0的负次数幂无意义");   //  1/0  没意义</span><br><span class="line">        }</span><br><span class="line">        if(exponent&lt;0){</span><br><span class="line">            return  1.0/powerWithExponent(base,-exponent);</span><br><span class="line">        }else {</span><br><span class="line">            return powerWithExponent(base,exponent);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static double powerWithExponent(double base , int exponent){</span><br><span class="line">        if(base==0)</span><br><span class="line">            return 1;</span><br><span class="line">        if(exponent==1)</span><br><span class="line">            return base;</span><br><span class="line">        double res =1;</span><br><span class="line">        for(int i=0;i&lt;exponent;i++){</span><br><span class="line">            res=res*base;</span><br><span class="line">        }</span><br><span class="line">        return res;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static boolean equal(double base , double none){</span><br><span class="line">        if((base-none&gt;-0.0000001)&amp;&amp;base-none&lt;0.0000001){      //在0附近，误差0.0000001</span><br><span class="line">            return true;</span><br><span class="line">        }else {</span><br><span class="line">            return false;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br> # 题12：打印1到最大的n位数输入数字n，按顺序打印出从1最大的n位十进制数。比如输入3，则打印出1、2、3 一直到最大的3位数即999。 <figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br> # 题13：<br> # 题14：调整数组顺序使奇数位于偶数前面输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有奇数位于数组的前半部分，所有偶数位予数组的后半部分。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args)throws Exception {</span><br><span class="line">        int[] array = {1, 4, 2, 5, 21, 67, 21, 66, 23, 77, 68};</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; array.length; i++) {</span><br><span class="line">            System.out.println(order(array)[i]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static int [] order(int [] array){</span><br><span class="line">    if(array.length==0||array==null)</span><br><span class="line">        return array;</span><br><span class="line">    int start=0;</span><br><span class="line">    int end=array.length-1;</span><br><span class="line">    while (start&lt;end){</span><br><span class="line">        while (start&lt;end &amp;&amp; !isEven(array[start])){</span><br><span class="line">            start++;</span><br><span class="line">        }</span><br><span class="line">        while (start&lt;end&amp;&amp; isEven(array[end])){</span><br><span class="line">            end--;</span><br><span class="line">        }</span><br><span class="line">        if(start&lt;end){</span><br><span class="line">            int temp=array[start];</span><br><span class="line">            array[start]=array[end];</span><br><span class="line">            array[end]=temp;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">  return array;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static boolean isEven(int n){</span><br><span class="line">            return  n%2==0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br> # 题15：链表中倒数第k个结点题目：输入一个链表，输出该链表中倒数第k 个结点．为了符合大多数人的习惯，本题从 1 开始计数，即链表的尾结点是倒数第 1 个结点．例如一个链表有 6 个结点，从头结点开始它们的值依次是 1 、2、3、4、5 、6。这个个链表的倒数第 3 个结点是值为 4 的结点。<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">       ListNode head=new ListNode();</span><br><span class="line">       ListNode second=new ListNode();</span><br><span class="line">       ListNode third= new ListNode();</span><br><span class="line">       ListNode forth=new ListNode();</span><br><span class="line">       head.next=second;</span><br><span class="line">       second.next=third;</span><br><span class="line">       third.next=forth;</span><br><span class="line">       head.val=1;</span><br><span class="line">       second.val=2;</span><br><span class="line">       third.val=3;</span><br><span class="line">       forth.val=4;</span><br><span class="line">       System.out.println(findKToTail(head,3).val);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static ListNode findKToTail(ListNode head , int k){</span><br><span class="line">        if (head==null&amp;&amp;k==0){</span><br><span class="line">            return null;</span><br><span class="line">        }</span><br><span class="line">        int count=0;</span><br><span class="line">        ListNode resNode = new ListNode();</span><br><span class="line">        ListNode headNode=head;</span><br><span class="line">        while (headNode!=null){</span><br><span class="line">            headNode=headNode.next;</span><br><span class="line">            count++;</span><br><span class="line">        }</span><br><span class="line">    for(int i=0;i&lt;=count-k;i++){</span><br><span class="line">            head=head.next;</span><br><span class="line">         }</span><br><span class="line">    return head.next;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static class ListNode{</span><br><span class="line">        int val;</span><br><span class="line">        ListNode next;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br> # 题16：反转链表<br> # 题17：合并两个排序的链表题目：输入两个递增排序的链表，合并这两个链表并使新链表中的结点仍然是按照递增排序的`递归的方法真是好用`<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">public class Main {</span><br><span class="line">    public static void main(String[] args){</span><br><span class="line">       ListNode head1=new ListNode();</span><br><span class="line">        ListNode second1=new ListNode();</span><br><span class="line">        ListNode third1= new ListNode();</span><br><span class="line">        ListNode forth1=new ListNode();</span><br><span class="line">       head1.next=second1;</span><br><span class="line">       second1.next=third1;</span><br><span class="line">       third1.next=forth1;</span><br><span class="line">       head1.val=1;</span><br><span class="line">       second1.val=5;</span><br><span class="line">       third1.val=8;</span><br><span class="line">       forth1.val=13;</span><br><span class="line">        ListNode head2=new ListNode();</span><br><span class="line">        ListNode second2=new ListNode();</span><br><span class="line">        ListNode third2= new ListNode();</span><br><span class="line">        ListNode forth2=new ListNode();</span><br><span class="line">        head2.next=second2;</span><br><span class="line">        second2.next=third2;</span><br><span class="line">        third2.next=forth2;</span><br><span class="line">        head2.val=2;</span><br><span class="line">        second2.val=4;</span><br><span class="line">        third2.val=7;</span><br><span class="line">        forth2.val=9;</span><br><span class="line">        ListNode resNode=mergeList(head1,head2);</span><br><span class="line">        while (resNode!=null) {</span><br><span class="line">            System.out.println(resNode.val);</span><br><span class="line">            resNode = resNode.next;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static ListNode mergeList(ListNode head1 , ListNode head2){</span><br><span class="line">       if(head1==null){</span><br><span class="line">           return head2;</span><br><span class="line">       }</span><br><span class="line">       if(head2==null){</span><br><span class="line">           return head1;</span><br><span class="line">       }</span><br><span class="line">       ListNode mergeNode=null;</span><br><span class="line">           if(head1.val&lt;head2.val){</span><br><span class="line">               mergeNode=head1;</span><br><span class="line">               mergeNode.next=mergeList(head1.next,head2);</span><br><span class="line">           }else {</span><br><span class="line">               mergeNode=head2;</span><br><span class="line">               mergeNode.next=mergeList(head1,head2.next);</span><br><span class="line">           }</span><br><span class="line">       return mergeNode;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static class ListNode{</span><br><span class="line">        int val;</span><br><span class="line">        ListNode next;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br> # 题18：树的子结构<br> # 题19：二叉树的镜像<p>题目描述</p><p>操作给定的二叉树，将其变换为源二叉树的镜像。<br>输入描述:<br> 二叉树的镜像定义：源二叉树<br>            8<br>           /  <br>          6   10<br>         / \  / <br>        5  7 9 11<br>        镜像二叉树<br>            8<br>           /  <br>          10   6<br>         / \  / <br>        11 9 7  5</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class TreeNode { </span><br><span class="line">    int val = 0; </span><br><span class="line">    TreeNode left = null; </span><br><span class="line">    TreeNode right = null; </span><br><span class="line"> </span><br><span class="line">    public TreeNode(int val) { </span><br><span class="line">        this.val = val; </span><br><span class="line">    } </span><br><span class="line">} </span><br><span class="line">*/  </span><br><span class="line">public class Solution {</span><br><span class="line">    public void Mirror(TreeNode root) {</span><br><span class="line">        if(root==null ) return ;</span><br><span class="line">        TreeNode temp;</span><br><span class="line">        temp=root.left;</span><br><span class="line">        root.left=root.right;</span><br><span class="line">        root.right=temp;</span><br><span class="line">         Mirror(root.left);</span><br><span class="line">        Mirror(root.right);</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br> # 题20：顺时针打印矩阵输入一个矩阵，按照从外向里以顺时针的顺序依次打印出每一个数字，例如，如果输入如下矩阵：<p>1 2 3 4<br>5 6 7 8<br>9 10 11 12<br>13 14 15 16</p><p>则依次打印出数字1,2,3,4,8,12,16,15,14,13,9,5,6,7,11,10.</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import java.util.ArrayList;  </span><br><span class="line">public class Solution {  </span><br><span class="line">    public ArrayList&lt;Integer&gt; printMatrix(int [][] matrix) {  </span><br><span class="line">        if (matrix == null)  </span><br><span class="line">            return null;  </span><br><span class="line">        ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();  </span><br><span class="line">        int start = 0;  </span><br><span class="line">        while(matrix[0].length &gt; start *2 &amp;&amp; matrix.length &gt; start *2){  </span><br><span class="line">            printMatrixInCircle(matrix,result,start);  </span><br><span class="line">            start++;  </span><br><span class="line">        }  </span><br><span class="line">        return  result;  </span><br><span class="line">    }  </span><br><span class="line">   </span><br><span class="line">    public static void printMatrixInCircle(int [][]matix,ArrayList&lt;Integer&gt;result,int start){  </span><br><span class="line">        int endX = matix[0].length - start -1;  </span><br><span class="line">        int endY = matix.length - start -1;  </span><br><span class="line">       //从左向右打印一行  </span><br><span class="line">        for(int i = start;i &lt;=endX;i++){  </span><br><span class="line">            result.add(matix[start][i]);  </span><br><span class="line">        }  </span><br><span class="line">        //从上到下  </span><br><span class="line">        for(int i  = start+1; i &lt;=endY;i++)  </span><br><span class="line">            result.add(matix[i][endX]);  </span><br><span class="line">        //从右到左  </span><br><span class="line">        if(start &lt; endX &amp;&amp;start &lt; endY)  </span><br><span class="line">            for(int i = endX -1;i&gt;= start;i--)  </span><br><span class="line">                result.add(matix[endY][i]);  </span><br><span class="line">        //从下到上  </span><br><span class="line">        if(start &lt; endX &amp;&amp; start &lt; endY-1)  </span><br><span class="line">            for(int i = endY - 1;i &gt;=start+1;i--)  </span><br><span class="line">                result.add(matix[i][start]);  </span><br><span class="line">    }  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://img.hb.aicdn.com/402338e39ee91c9f2f55116942593e37d009fd15418553-ulMGQY_fw658" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 剑指Offer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网易笔试</title>
      <link href="/2017/03/26/wang-yi-bi-shi/"/>
      <url>/2017/03/26/wang-yi-bi-shi/</url>
      
        <content type="html"><![CDATA[<p>网易2017年校招</p><a id="more"></a><p><img src="http://pic.sc.chinaz.com/files/pic/pic9/201508/apic14250.jpg" alt=""></p><p>java1.下厨房<br>每组输入多行，每行有多种食材，求每组共多少食材，用hashtable不添加重复的特性解决。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Hashtable;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class 下厨房{</span><br><span class="line">public static void main(String [] args){</span><br><span class="line">Scanner sc=new Scanner(System.in);</span><br><span class="line">Hashtable&lt;String,Integer&gt; set = new Hashtable&lt;String .Integer&gt;();</span><br><span class="line">while(sc.hasNext()){</span><br><span class="line">String str = sc.next();</span><br><span class="line">set.put(str,1);</span><br><span class="line">}</span><br><span class="line">System.out.println(set.size());</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>注：<br>在Iterator类中，我们经常用到两个方法：hasNext(),next()。<br>具体含义：next(),是返回当前元素，并指向下一个元素。<br>          hasNext(),是判断当前元素是否存在，并指向下一个元素（即索引）。 </p><p>Java代码实现</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><img src="http://img.hb.aicdn.com/402338e39ee91c9f2f55116942593e37d009fd15418553-ulMGQY_fw658" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网易 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL学习笔记</title>
      <link href="/2017/03/16/mysql-xue-xi-bi-ji/"/>
      <url>/2017/03/16/mysql-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>关于MySQL学习过程中的一些总结！</p><a id="more"></a><p><img src="http://pic.sc.chinaz.com/files/pic/pic9/201508/apic14250.jpg" alt=""></p><h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><p>MySQL默认的端口号是3306；<br>MySQL中的超级用户叫 root；<br>创建数据库： create database ；<br>修改数据库： alter database ；<br>删除数据库： drop database ；</p><p>登陆MySQL客户端 : mysql -uroot -p16213018 -P3306 -h127.0.0.1</p><p>查看数据库 ： SHOW DATABASES；</p><p>打开test数据库 :　USE test ;</p><p>创建数据表： CREATE TABLE tb1(</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">username VARCHAR(20),</span><br><span class="line">age TINYINT UNSIGNED,</span><br><span class="line">salary FLOAT(8,2) UNSIGNED </span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure><p>查看数据表： SHOW TABLES ；</p><p>查看数据表结构： SHOW COLUMNS FROM tb1 ;       </p><p>插入记录：     INSERT tb1 VALUES(‘Tom’,25,6843.34);</p><p>记录查找： SELECT * FROM tb1;<br>空值与非空：<br>CREATE TABLE(20) tb2(<br>username VARCHAR(20) NOT NULL,<br>age TINYINT UNSIGNED NULL<br>);</p><p>查表： SHOW COLUMNS tb2;</p><hr><h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><p>事务是数据库中一个单独的执行单元（Unit）</p><p>事务必须满足4个属性：</p><ol><li>原子性：事务必须被完整执行</li><li>一致性：执行前和执行后，数据库数据必须保持一致的状态</li><li>隔离性：也称为独立性，当两个或多个事务并发执行时，为了保证数据的安全性，将事务隔离，不被其他正在进行的事务看到</li><li>持久性：永久性，事务完成后，对数据库的更改是永久的</li></ol><hr><h1 id="创建用户表以及问题表"><a href="#创建用户表以及问题表" class="headerlink" title="创建用户表以及问题表"></a>创建用户表以及问题表</h1><p>如果存在则先删除再创建</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE IF EXISTS `question`;</span><br><span class="line">CREATE TABLE `question` (</span><br><span class="line">`id` INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">`title` VARCHAR(255) NOT NULL,</span><br><span class="line">`content` TEXT NULL,</span><br><span class="line">`user_id` INT NOT NULL,</span><br><span class="line">`created_date` DATETIME NOT NULL,</span><br><span class="line">`comment_count` INT NOT NULL,</span><br><span class="line">PRIMARY KEY (`id`),</span><br><span class="line">INDEX `date_index` (`created_date` ASC));</span><br><span class="line"></span><br><span class="line">DROP TABLE IF EXISTS `user`;</span><br><span class="line">CREATE TABLE `user` (</span><br><span class="line">  `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `name` VARCHAR(64) NOT NULL DEFAULT ‘’,</span><br><span class="line">  `password` VARCHAR(128) NOT NULL DEFAULT ‘’ ,</span><br><span class="line">  ‘salt’ VARCHAR(32)  NOT NULL DEFAULT ‘’ ,</span><br><span class="line">  ‘head_url’ VARCHAR(256)  NOT NULL DEFAULT ‘’  ,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">  UNIQUE KEY ‘name’ (‘name’)</span><br><span class="line">) ENGINE=INNODB  DEFAULT CHARSET=utf8</span><br></pre></td></tr></tbody></table></figure><h1 id="查询表格"><a href="#查询表格" class="headerlink" title="查询表格"></a>查询表格</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM  question;</span><br></pre></td></tr></tbody></table></figure><h2 id="删除数据库cache"><a href="#删除数据库cache" class="headerlink" title="删除数据库cache"></a>删除数据库cache</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE CACHE;</span><br></pre></td></tr></tbody></table></figure><h2 id="创建数据库cache"><a href="#创建数据库cache" class="headerlink" title="创建数据库cache"></a>创建数据库cache</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE CACHE;  // 创建一个数据库</span><br></pre></td></tr></tbody></table></figure><h2 id="创建表格"><a href="#创建表格" class="headerlink" title="创建表格"></a>创建表格</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE SYS_ROLE(</span><br><span class="line">  ID INTEGER,</span><br><span class="line">  NAME VARCHAR(255) NOT NULL</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">CREATE TABLE SYS_ROLE_USER(</span><br><span class="line">  SYS_USER_ID INTEGER,</span><br><span class="line">  ROLES_ID INTEGER</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">INSERT INTO SYS_ROLE(id,NAME) VALUES(1,'ROLE_ADMIN');</span><br><span class="line">INSERT INTO SYS_ROLE(id,NAME) VALUES(2,'ROLE_USER');</span><br><span class="line"></span><br><span class="line">INSERT INTO SYS_ROLE_USER(SYS_USER_ID,ROLES_ID) VALUES(1,1);</span><br><span class="line">INSERT INTO SYS_ROLE_USER(SYS_USER_ID,ROLES_ID) VALUES(2,2);</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE IF EXISTS  `city`;</span><br><span class="line">CREATE TABLE `city` (</span><br><span class="line">  `id` INT(10) UNSIGNED NOT NULL ,</span><br><span class="line">  `province_id` INT(10) UNSIGNED  NOT NULL ,</span><br><span class="line">  `city_name` VARCHAR(25) DEFAULT NULL ,</span><br><span class="line">  `description` VARCHAR(25) DEFAULT NULL ,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">INSERT INTO city(id,province_id,city_name,description) VALUES(2 ,2,'长沙','我家在长沙');</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE Persion; </span><br><span class="line"></span><br><span class="line">CREATE TABLE `persion` (</span><br><span class="line">  `id` INT(10) UNSIGNED NOT NULL ,</span><br><span class="line">  `persion_id` INT(10) UNSIGNED  NOT NULL ,</span><br><span class="line">  `persion_name` VARCHAR(25) DEFAULT NULL ,</span><br><span class="line">  `description` VARCHAR(25) DEFAULT NULL ,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="实验楼学习笔记"><a href="#实验楼学习笔记" class="headerlink" title="实验楼学习笔记"></a>实验楼学习笔记</h1><h2 id="开发准备"><a href="#开发准备" class="headerlink" title="开发准备"></a>开发准备</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 打开 MySQL 服务</span><br><span class="line">sudo service mysql start        </span><br><span class="line"></span><br><span class="line">#使用 root 用户登录，密码为空</span><br><span class="line">mysql -u root</span><br></pre></td></tr></tbody></table></figure><h2 id="新建数据库"><a href="#新建数据库" class="headerlink" title="新建数据库"></a>新建数据库</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE mysql_shiyan;</span><br><span class="line"></span><br><span class="line">CREATE DATABASE name1;</span><br><span class="line">create database name2;</span><br><span class="line">CREATE database name3;</span><br><span class="line">create DAtabaSE name4;</span><br></pre></td></tr></tbody></table></figure><h2 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql_shiyan</span><br></pre></td></tr></tbody></table></figure><h2 id="新建数据表"><a href="#新建数据表" class="headerlink" title="新建数据表"></a>新建数据表</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE employee (id int(10),name char(20),phone int(12));</span><br></pre></td></tr></tbody></table></figure><h2 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO employee(id,name,phone) VALUES(01,'Tom',110110110);</span><br><span class="line"></span><br><span class="line">INSERT INTO employee VALUES(02,'Jack',119119119);</span><br><span class="line"></span><br><span class="line">INSERT INTO employee(id,name) VALUES(03,'Rose');</span><br></pre></td></tr></tbody></table></figure><h2 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table abc</span><br><span class="line">(</span><br><span class="line">id int(10) primary key,</span><br><span class="line">  name char(20)</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure><h2 id="对数据库修改"><a href="#对数据库修改" class="headerlink" title="对数据库修改"></a>对数据库修改</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br><span class="line">DROP DATABASE test_01;</span><br><span class="line">ALTER TABLE 表名字 DROP COLUMN 列名字;</span><br></pre></td></tr></tbody></table></figure><h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE employee ADD INDEX idx_id (id);  #在employee表的id列上建立名为idx_id的索引</span><br><span class="line"></span><br><span class="line">CREATE INDEX idx_name ON employee (name);   #在employee表的name列上建立名为idx_name的索引</span><br><span class="line"></span><br><span class="line">show index from employee;</span><br></pre></td></tr></tbody></table></figure><h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW v_emp(v_name,v_age,v_phone) AS SELECT name,age,phone FROM employee;</span><br><span class="line">select * from v_emp;</span><br></pre></td></tr></tbody></table></figure><h2 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT VERSION(), CURRENT_DATE;     //查时间</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT SIN(PI()/4), (4+1)*5;    //计算</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT VERSION(); SELECT NOW();   //现在的时间</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="MySQL操作"><a href="#MySQL操作" class="headerlink" title="MySQL操作"></a>MySQL操作</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW DATABASES;</span><br><span class="line">mysql&gt; CREATE DATABASE test;</span><br><span class="line">mysql&gt; USE test</span><br><span class="line"></span><br><span class="line">//创建表</span><br><span class="line">mysql&gt; CREATE TABLE pet (name VARCHAR(20), owner VARCHAR(20),</span><br><span class="line">    -&gt; species VARCHAR(20), sex CHAR(1), birth DATE, death DATE);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">mysql&gt; SHOW TABLES;    </span><br><span class="line">    //描述</span><br><span class="line">mysql&gt; DESCRIBE pet;    </span><br><span class="line"></span><br><span class="line">//装载文本到表中</span><br><span class="line">mysql&gt; LOAD DATA INFILE '/home/shiyanlou/Desktop/pet.txt' INTO TABLE pet;</span><br><span class="line"></span><br><span class="line">//检索表</span><br><span class="line">mysql&gt; SELECT * FROM pet;</span><br><span class="line"></span><br><span class="line">//选择特点行</span><br><span class="line">mysql&gt; SELECT * FROM pet WHERE name = 'Bowser';</span><br><span class="line"></span><br><span class="line">//选择条件</span><br><span class="line">mysql&gt; SELECT * FROM pet WHERE birth &gt; '1998-1-1';</span><br><span class="line"></span><br><span class="line">//选择特殊列</span><br><span class="line">mysql&gt; SELECT name, birth FROM pet;</span><br><span class="line"></span><br><span class="line">//选择行与列</span><br><span class="line">mysql&gt; SELECT name, species, birth FROM pet</span><br><span class="line">    -&gt; WHERE species = 'dog' OR species = 'cat';</span><br><span class="line"></span><br><span class="line">//计算行数</span><br><span class="line">mysql&gt; SELECT COUNT(*) FROM pet;</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="MySQL笔试的4个问题"><a href="#MySQL笔试的4个问题" class="headerlink" title="MySQL笔试的4个问题"></a>MySQL笔试的4个问题</h1><p><a href="http://www.jianshu.com/p/715f507ed4b8" target="_blank" rel="noopener">问题来源</a></p><h2 id="问题1：如何删除mysql表中的重复数据，只保留一条记录？"><a href="#问题1：如何删除mysql表中的重复数据，只保留一条记录？" class="headerlink" title="问题1：如何删除mysql表中的重复数据，只保留一条记录？"></a><strong>问题1：如何删除mysql表中的重复数据，只保留一条记录？</strong></h2><p>先添加唯一性字段，若有则直接删除</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE city1 ADD id int default 0;</span><br><span class="line">alter table city1 modify id int auto_increment primary key </span><br><span class="line"></span><br><span class="line">delete from city2</span><br><span class="line">where id not in(</span><br><span class="line">select * from (select min(id) from city2 group by name having count (name)&gt;1 ) as a </span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="问题2：找出表中的出现次数最多的某条记录（或某个字段）"><a href="#问题2：找出表中的出现次数最多的某条记录（或某个字段）" class="headerlink" title="问题2：找出表中的出现次数最多的某条记录（或某个字段）"></a><strong>问题2：找出表中的出现次数最多的某条记录（或某个字段）</strong></h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT sid ,count (sid) FROM city2</span><br><span class="line">group by sid</span><br><span class="line">order by count(sid) DESC</span><br><span class="line">limit 1</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="问题3：用一条SQL语句查询出grade表中每门课都大于80分的学生姓名"><a href="#问题3：用一条SQL语句查询出grade表中每门课都大于80分的学生姓名" class="headerlink" title="问题3：用一条SQL语句查询出grade表中每门课都大于80分的学生姓名"></a><strong>问题3：用一条SQL语句查询出grade表中每门课都大于80分的学生姓名</strong></h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">name  course    score </span><br><span class="line">张三     语文     81</span><br><span class="line">张三     数学     75</span><br><span class="line">李四     语文     76</span><br><span class="line">李四     数学     90</span><br><span class="line">王五     语文     81</span><br><span class="line">王五     数学     100</span><br><span class="line">王五     英语     90</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">select name from grade</span><br><span class="line">group by name</span><br><span class="line">having min(分数)&gt;80</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="问题4：将表city1中num-person字段根据人数进行重新编码"><a href="#问题4：将表city1中num-person字段根据人数进行重新编码" class="headerlink" title="问题4：将表city1中num_person字段根据人数进行重新编码"></a><strong>问题4：将表city1中num_person字段根据人数进行重新编码</strong></h2><p>要求:0&lt;=x&lt;500,000编码为1<br>500,000&lt;=x&lt;1,000,000编码为2<br>1,000,000&lt;=x编码为3</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">select name,</span><br><span class="line">case </span><br><span class="line">    when num_persion &gt;=0 and num_persion &lt;500000 then 1</span><br><span class="line">    when num_persion &gt;=500000 and num_persion &lt;1000000 then 2</span><br><span class="line">    when num_persion &gt;=1000000 then 3 end as mark </span><br><span class="line">from city1</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="运算符案例"><a href="#运算符案例" class="headerlink" title="运算符案例"></a>运算符案例</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mysql -h localhost -u root -p16213018</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE DATABASE db1;</span><br><span class="line"></span><br><span class="line">mysql&gt; use db1;</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE TABLE tmp ( note VARCHAR(100),price INT);</span><br><span class="line"></span><br><span class="line">mysql&gt; INSERT INTO tmp   VALUES ("this is good" , 50);</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT price ,price +10,price-10,price*2,price /2,price %2 FROM tmp;</span><br><span class="line">+-------+-----------+----------+---------+----------+----------+</span><br><span class="line">| price | price +10 | price-10 | price*2 | price /2 | price %2 |</span><br><span class="line">+-------+-----------+----------+---------+----------+----------+</span><br><span class="line">|    50 |        60 |       40 |     100 |  25.0000 |        0 |</span><br><span class="line">+-------+-----------+----------+---------+----------+----------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT   price ,price BETWEEN 30 AND 80 , GREATEST(price ,70,30),price IN(20,50,35) ,</span><br><span class="line">price IN(10,20,35)   FROM tmp;</span><br><span class="line">+-------+-------------------------+------------------------+-----------------------+--------------------+</span><br><span class="line">| price | price BETWEEN 30 AND 80 | GREATEST(price ,70,30) | price IN(20,50,35) | price IN(10,20,35) |</span><br><span class="line">+-------+-------------------------+------------------------+-----------------------+--------------------+</span><br><span class="line">|    50 |                       1 |                     70 |                     1 |                  0 |</span><br><span class="line">+-------+-------------------------+------------------------+-----------------------+--------------------+</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT price ,price&amp;2 ,price|4 ,~price FROM tmp;</span><br><span class="line">+-------+---------+---------+----------------------+</span><br><span class="line">| price | price&amp;2 | price|4 | ~price               |</span><br><span class="line">+-------+---------+---------+----------------------+</span><br><span class="line">|    50 |       2 |      54 | 18446744073709551565 |</span><br><span class="line">+-------+---------+---------+----------------------+</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="查找数据-GROUP-BY-和-ORDER-BY"><a href="#查找数据-GROUP-BY-和-ORDER-BY" class="headerlink" title="查找数据 GROUP BY 和 ORDER BY"></a>查找数据 GROUP BY 和 ORDER BY</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">-- 建表</span><br><span class="line">show databases;</span><br><span class="line">use db1;</span><br><span class="line">create table orderitems</span><br><span class="line">(</span><br><span class="line">o_num int not null,</span><br><span class="line">o_item int not null ,</span><br><span class="line">f_id char(10) NOT NULL,</span><br><span class="line">quantity int NOT NULL,</span><br><span class="line">item_price decimal(8,2) NOT NULL,</span><br><span class="line">PRIMARY KEY (o_num , o_item)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 插入数据</span><br><span class="line">Insert into orderitems (o_num,o_item , f_id , quantity , item_price)</span><br><span class="line">values (30001,1,'a1',10,5.2),</span><br><span class="line">(30001,2,'b2',3,7.6),</span><br><span class="line">(30001,3,'bs1',5,11.2),</span><br><span class="line">(30001,4,'bs2',15,9.2),</span><br><span class="line">(30002,1,'b3',2,20.0),</span><br><span class="line">(30003,1,'c0',100,10),</span><br><span class="line">(30004,1,'o2',50,2.50),</span><br><span class="line">(30005,1,'c0',5,10),</span><br><span class="line">(30005,2,'b1',10,8.99),</span><br><span class="line">(30005,3,'a2',10,2.2),</span><br><span class="line">(30005,4,'m1',10,14.99);</span><br><span class="line"></span><br><span class="line">-- 查看下表</span><br><span class="line">select * from orderitems;</span><br><span class="line"></span><br><span class="line">-- 查找订单价格大于100的订单号和总订单价格</span><br><span class="line">select o_num ,sum(quantity*item_price) AS orderTotal           -- 选列</span><br><span class="line">FROM orderitems                                                  -- 目标表</span><br><span class="line">group by o_num                                                   -- 按订单号对数据进行分组</span><br><span class="line">having sum(quantity*item_price)&gt;=100;                            -- 条件语句</span><br><span class="line"></span><br><span class="line">-- 用ORDER BY 显示返回</span><br><span class="line">select o_num ,sum(quantity*item_price) AS orderTotal          -- 选列</span><br><span class="line">FROM orderitems                                                 -- 目标表</span><br><span class="line">group by o_num                                                  -- 按订单号对数据进行分组</span><br><span class="line">having sum(quantity*item_price)&gt;=100                            -- 条件语句</span><br><span class="line">order by orderTotal ;                                           -- 排序输出</span><br><span class="line"></span><br><span class="line">select * from orderitems limit 4;    -- 查询结果的前4行</span><br><span class="line"></span><br><span class="line">select * from orderitems limit 4,3;    -- 查询结果的第4个结果开始的(不包括第4个),3行记录</span><br><span class="line"></span><br><span class="line">-- 查询表中的总行数</span><br><span class="line">select count(*) AS order_num</span><br><span class="line">from orderitems;      </span><br><span class="line"></span><br><span class="line">-- 查询o_num 的价格的平均值</span><br><span class="line">select o_num , avg(item_price)  as avg_price</span><br><span class="line">from orderitems</span><br><span class="line">group by o_num;</span><br><span class="line"></span><br><span class="line">-- 查询o_num=30001 的价格的平均值</span><br><span class="line">select o_num , avg(item_price)  as avg_price</span><br><span class="line">from orderitems</span><br><span class="line">where o_num=30001;</span><br><span class="line"></span><br><span class="line">-- 查询价格最高的</span><br><span class="line">select   max(item_price)  as max_price</span><br><span class="line">from orderitems;</span><br><span class="line"></span><br><span class="line">-- 查询价格最低的</span><br><span class="line">select o_num ,  min(item_price)  as min_price</span><br><span class="line">from orderitems;</span><br><span class="line"></span><br><span class="line">-- 查询各个供应商提供的价格最低的</span><br><span class="line">select o_num ,  min(item_price)  as min_price</span><br><span class="line">from orderitems</span><br><span class="line">group by o_num;</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="记录的插入、删除、更新"><a href="#记录的插入、删除、更新" class="headerlink" title="记录的插入、删除、更新"></a>记录的插入、删除、更新</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">create table books</span><br><span class="line">(</span><br><span class="line">id int(11) NOT NUll primary key ,</span><br><span class="line">name varchar(50) not null ,</span><br><span class="line">authors varchar(100) not null ,</span><br><span class="line">price float not null ,</span><br><span class="line">pubdate year not null ,</span><br><span class="line">note varchar(100) not null ,</span><br><span class="line">num int(11) not null default 0</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">select * from books;</span><br><span class="line"></span><br><span class="line">-- 插入行</span><br><span class="line">insert into books  </span><br><span class="line">(id , name , authors ,price , pubdate , note ,num) </span><br><span class="line">values (1,'Table of AAA' ,'Dickes',23,'1995','novel',111);</span><br><span class="line"></span><br><span class="line">-- 插入行 方式二</span><br><span class="line">insert into books  </span><br><span class="line">values (2,'Emmat' ,'Jane lura',35,'1993','joke',22);</span><br><span class="line"></span><br><span class="line">select * from books;</span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------------------------</span><br><span class="line">idnameauthorspricepubdatenotenum</span><br><span class="line">1Table of AAADickes231995novel111</span><br><span class="line">2EmmatJane lura351993joke22</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line">insert into books  </span><br><span class="line">values (3,'Story of Jane' ,'Jane Tim',40,'2001','novel',0),</span><br><span class="line">(4,'Lovey Day' ,'cswd',20,'2005','novel',30),</span><br><span class="line">(5,'Old Land' ,'dsfre',30,'2010','law',0),</span><br><span class="line">(6,'The battle' ,'safs',33,'1999','medicine',40),</span><br><span class="line">(7,'Rose Hood' ,'Richard Kale',28,'2008','cartoon',28);</span><br><span class="line"></span><br><span class="line">select * from books;</span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------------------</span><br><span class="line">idname         authors    pricepubdatenotenum</span><br><span class="line">1Table of AAADickes        23   1995    novel111</span><br><span class="line">2Emmat        Jane lura    35   1993  joke22</span><br><span class="line">3Story of JaneJane Tim    40   2001  novel0</span><br><span class="line">4Lovey Day    cswd        20   2005    novel30</span><br><span class="line">5Old Land    dsfre        30   2010  law     0</span><br><span class="line">6The battle    safs        33   1999    medicine40</span><br><span class="line">7Rose Hood    Richard Kale28   2008  cartoon 28</span><br><span class="line">-------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"> UPDATE books SET price =price +5 WHERE note='novel';</span><br><span class="line"> select id ,name,price , note from books where note = 'novel'; </span><br><span class="line"> </span><br><span class="line"> ----------------------------------------------------------------</span><br><span class="line">idname       pricenote</span><br><span class="line">1Table of AAA28   novel</span><br><span class="line">3Story of Jane45   novel</span><br><span class="line">4Lovey Day    25   novel</span><br><span class="line">-----------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">-- 更改价格方法二 直接改</span><br><span class="line"> UPDATE books set price=40 ,note ='joke' where name = 'emmat';</span><br><span class="line"> select id ,name,price , note from books where note = 'joke';</span><br><span class="line"> </span><br><span class="line"> ---------------------------------------------------------</span><br><span class="line">idnamepricenote</span><br><span class="line">2Emmat40joke</span><br><span class="line">----------------------------------------------------------</span><br><span class="line"></span><br><span class="line">-- 条件删除行</span><br><span class="line">delete from books where num=0;</span><br><span class="line">select * from books;</span><br><span class="line"></span><br><span class="line">--------------------------------------------------------</span><br><span class="line">idnameauthorspricepubdatenotenum</span><br><span class="line">1Table of AAADickes281995novel111</span><br><span class="line">2EmmatJane lura401993joke22</span><br><span class="line">4Lovey Daycswd252005novel30</span><br><span class="line">6The battlesafs331999medicine40</span><br><span class="line">7Rose HoodRichard Kale282008cartoon28</span><br><span class="line">-------------------------------------------------------------</span><br></pre></td></tr></tbody></table></figure><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>麻省理工：算法导论-分治法--上课笔记</title>
      <link href="/2017/03/14/ma-sheng-li-gong-suan-fa-dao-lun-shang-ke-bi-ji/"/>
      <url>/2017/03/14/ma-sheng-li-gong-suan-fa-dao-lun-shang-ke-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>学习麻省理工算法导论的笔记。</p><a id="more"></a> <p><img src="http://pic.sc.chinaz.com/files/pic/pic9/201508/apic14250.jpg" alt=""></p><p>分治：<br>步骤：<br>1、分<br>2、治<br>      3、合并</p><p>实例：<br>一、归并排序：<br>1、将排序数组一分为二<br>2、将两个子数组排序<br>3、合并两个有序子数组</p><p>二、二分查找：在一个有序数组中查找x<br>1、先将x和有序数组中间的数比较<br>2、再将x和左或右子数组的中间的数比较<br>3、done</p><p>三、乘方问题：求x的n次方<br>1、分解</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x^n= x^(n/2)*x^(n/2)                n为偶</span><br><span class="line">        x^((n-1)/2)*x^((n-1)/2)*x      n为奇</span><br></pre></td></tr></tbody></table></figure><p>2、先求两边乘(子算法规模为n/2)，再乘一起<br>算法时间为O(lg n)        </p><p>四、斐波那契数列问题：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    {   0 ;   n=0</span><br><span class="line">Fn= |   1 ;   n=1</span><br><span class="line">{F(n-1)+F(n-2)</span><br><span class="line">```</span><br><span class="line">这是个指数级问题，然而可以用朴素平方递归来降低到O(lg n)</span><br></pre></td></tr></tbody></table></figure><p>{ F2  F1 }  = ( 1 1 )<br>{ F1  F0 }    ( 1 0 )</p><p>{ Fn+1  Fn   }  = { Fn    Fn-1 }( 1 1 ) = ( 1 1 )^n-1  * ( 1 1 )  =( 1 1 )^n<br>{ Fn    Fn-1 }    { Fn-1  Fn-2 }( 1 0 )   ( 1 0 )        ( 1 0 )   ( 1 0 )</p><p>```<br> $\LaTeX$ _ss  </p><p> This expression $\sqrt{3x-1}+(1+x)^2$ is an example of a $\LaTeX$ inline equation.</p><p>he Lorenz Equations:</p><p>$$<br>\begin{aligned}<br>\dot{x} &amp; = \sigma(y-x) \<br>\dot{y} &amp; = \rho x - y - xz \<br>\dot{z} &amp; = -\beta z + xy<br>\end{aligned}<br>$$</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 公开课 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>快速排序</title>
      <link href="/2017/03/12/kuai-su-pai-xu/"/>
      <url>/2017/03/12/kuai-su-pai-xu/</url>
      
        <content type="html"><![CDATA[<p>选择一个基准元素,通常选择第一个元素或者最后一个元素,通过一趟扫描，将待排序列分成两部分,<br>一部分比基准元素小,一部分大于等于基准元素,此时基准元素在其排好序后的正确位置,然后再用同<br>样的方法递归地排序划分的两部分。</p><a id="more"></a><p><img src="http://pic.sc.chinaz.com/files/pic/pic9/201508/apic14250.jpg" alt=""></p><p>Java代码实现</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sort;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zdmein on 2017/9/27.</span></span><br><span class="line"><span class="comment"> * 快排</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">quickSort1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span>[] testData = {<span class="number">49</span>,<span class="number">38</span>,<span class="number">65</span>,<span class="number">97</span>,<span class="number">76</span>,<span class="number">13</span>,<span class="number">27</span>,<span class="number">49</span>,<span class="number">78</span>,<span class="number">34</span>,<span class="number">12</span>,<span class="number">64</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">62</span>,<span class="number">99</span>,<span class="number">98</span>,<span class="number">54</span>,<span class="number">56</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">23</span>,<span class="number">34</span>,<span class="number">15</span>,<span class="number">35</span>,<span class="number">25</span>,<span class="number">53</span>,<span class="number">51</span>};</span><br><span class="line">        <span class="keyword">int</span>[] dataSorted = quickSort(testData, <span class="number">0</span>, testData.length-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a : dataSorted) {</span><br><span class="line">            System.out.print(a + <span class="string">" "</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 快速排序</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] data, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> key = data[low];</span><br><span class="line">        <span class="keyword">while</span>(low &lt; high) {</span><br><span class="line">            <span class="keyword">while</span>(low&lt;high &amp;&amp; data[high]&gt;=key) {</span><br><span class="line">                high--;</span><br><span class="line">            }</span><br><span class="line">            data[low] = data[high];<span class="comment">//(此时因low=high或data[high]&lt;key)将high下标处的数赋给low下标处的数，保证data[low]&lt;key</span></span><br><span class="line">            <span class="keyword">while</span>(low&lt;high &amp;&amp; data[low]&lt;=key) {</span><br><span class="line">                low++;</span><br><span class="line">            }</span><br><span class="line">            data[high] = data[low];<span class="comment">//(此时因low=high或data[low]&gt;key)将low下标处的数赋给high下标处的数，保证data[high]&gt;key</span></span><br><span class="line">        }</span><br><span class="line">        data[low] = key;</span><br><span class="line">        <span class="keyword">return</span> low;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] quickSort(<span class="keyword">int</span>[] data, <span class="keyword">int</span> low, <span class="keyword">int</span> high) {</span><br><span class="line">        <span class="keyword">if</span>(low &lt; high) {</span><br><span class="line">            <span class="keyword">int</span> result = partition(data, low, high);</span><br><span class="line">            quickSort(data, low, result-<span class="number">1</span>);<span class="comment">//对low到result-1下标间数进行排序</span></span><br><span class="line">            quickSort(data, result+<span class="number">1</span>, high);<span class="comment">//对result+1到high下标间数进行排序</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://img.my.csdn.net/uploads/201209/07/1347009479_6587.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>冒泡排序</title>
      <link href="/2017/03/12/mou-pao-pai-xu/"/>
      <url>/2017/03/12/mou-pao-pai-xu/</url>
      
        <content type="html"><![CDATA[<p>自下往上对相邻的两个数进行比较和调整<br>Key：大的数往下沉，小的数往上浮</p><a id="more"></a><p><img src="http://img.my.csdn.net/uploads/201209/07/1347009396_8149.jpg" alt=""></p><p>Java实现</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package algorithms4th;</span><br><span class="line"></span><br><span class="line">public class BubbleSort {</span><br><span class="line">public static void main(String [] args){</span><br><span class="line">int a []={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51};</span><br><span class="line">for(int j=0;j&lt;a.length-1;j++){</span><br><span class="line">    for(int i=a.length-1;i&gt;j;i--){</span><br><span class="line">    if(a[i]&lt;a[i-1]){</span><br><span class="line">    int temp=a[i];</span><br><span class="line">    a[i]=a[i-1];</span><br><span class="line">    a[i-1]=temp;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"> for(int i=0;i&lt;a.length;i++){</span><br><span class="line">         System.out.print(a[i]+" ");</span><br><span class="line">         }</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://img.hb.aicdn.com/a07fb4ceb3b44c47f084ec9432d64ffa26685f1c39f7ca-f56mId_fw658" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>希尔排序</title>
      <link href="/2017/03/12/xi-er-pai-xu/"/>
      <url>/2017/03/12/xi-er-pai-xu/</url>
      
        <content type="html"><![CDATA[<p>基本思想：算法先要排序的一组数按某个增量d（n/2,n为要排序数的个数）分成若干组，每组中<br>记录的下标相差d.对每组中全部元素进行直接插入排序，然后再用一个较小的增量（d/2）对它进<br>行分组，在每组中再进行直接插入排序。当增量减到1时，进行直接插入排序后，排序完成。</p><a id="more"></a><p><img src="http://bruce.u.qiniudn.com/2013/11/27/reading/photos-1.jpg" alt=""></p><p>Math.ceil()是常见编程语言中的常用代码,ceil() 方法执行的是向上取整计算，它返回的是大于或等于函数参数，并且与之最接近的整数。</p><p>Java代码实现</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package algorithms4th;</span><br><span class="line"></span><br><span class="line">public class ShellSort {</span><br><span class="line">    public static void main (String []args){</span><br><span class="line">        int a []={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51};</span><br><span class="line">        int temp=0;</span><br><span class="line">        double d1=a.length;</span><br><span class="line">        while(true){</span><br><span class="line">         d1=Math.ceil(d1/3);</span><br><span class="line">        int d=(int)d1;</span><br><span class="line">        for(int x=0;x&lt;d;x++){</span><br><span class="line">        for(int j=(int) (x+d);j&lt;a.length;j+=d){</span><br><span class="line">        int i=(int) (j-d);</span><br><span class="line">        if(a[i]&gt;a[j]){</span><br><span class="line">        temp=a[j];</span><br><span class="line">        a[j]=a[i];</span><br><span class="line">        a[i]=temp;</span><br><span class="line">        }</span><br><span class="line">        }        </span><br><span class="line">        }</span><br><span class="line">        if(d==1){</span><br><span class="line">        break;</span><br><span class="line">        }</span><br><span class="line">        }</span><br><span class="line">        for(int i=0;i&lt;a.length;i++){</span><br><span class="line">        System.out.print(a[i]+" ");</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="http://img.hb.aicdn.com/8bf8d63c5036682e56c3bac00cf985936bbff3b0e1433-QWDLmP_fw658" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>简单直接排序</title>
      <link href="/2017/03/12/jian-dan-zhi-jie-pai-xu/"/>
      <url>/2017/03/12/jian-dan-zhi-jie-pai-xu/</url>
      
        <content type="html"><![CDATA[<p>基本思想：每个数与第一个数相比，选最小的放第一个；<br>然后从第二个数开始，每个数与第二个数相比，选最小的放第二；<br>……</p><a id="more"></a><p><img src="http://img.my.csdn.net/uploads/201209/07/1347009182_8908.jpg" alt=""></p><p>Java代码实现</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package algorithms4th;</span><br><span class="line"></span><br><span class="line">public class SelectSort {</span><br><span class="line">public static void main(String [] args){</span><br><span class="line">int a []={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51};</span><br><span class="line">        for (int i=0;i&lt;a.length;i++){</span><br><span class="line">        for(int j=i+1;j&lt;a.length;j++){</span><br><span class="line">        if(a[j]&lt;a[i]){</span><br><span class="line">        int temp=a[j];</span><br><span class="line">        a[j]=a[i];</span><br><span class="line">        a[i]=temp;</span><br><span class="line">        }</span><br><span class="line">        }</span><br><span class="line">        }</span><br><span class="line">         for(int i=0;i&lt;a.length;i++){</span><br><span class="line">         System.out.print(a[i]+" ");</span><br><span class="line">         }</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>直接插入排序</title>
      <link href="/2017/03/08/zhi-jie-cha-ru-pai-xu/"/>
      <url>/2017/03/08/zhi-jie-cha-ru-pai-xu/</url>
      
        <content type="html"><![CDATA[<p>基本思想：在要排序的一组数中，假设前面(n-1)[n&gt;=2] 个数已经是排<br>好顺序的，现在要把第n个数插到前面的有序数中，使得这n个数<br>也是排好顺序的。如此反复循环，直到全部排好顺序。</p><a id="more"></a><p><img src="http://img.my.csdn.net/uploads/201209/07/1347008997_4015.jpg" alt=""></p><p>Java代码实现</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package algorithms4th;</span><br><span class="line"></span><br><span class="line">public class InsertSort {</span><br><span class="line">public static void main (String [] args){</span><br><span class="line">  int a[]={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51};</span><br><span class="line">      int temp=0;</span><br><span class="line">      for(int i=1;i&lt;a.length;i++){</span><br><span class="line">      for(int j=i-1;j&gt;0;j--){</span><br><span class="line">      if(a[j]&lt;a[j-1]){</span><br><span class="line">      temp=a[j];</span><br><span class="line">      a[j]=a[j-1];</span><br><span class="line">      a[j-1]=temp;</span><br><span class="line">      }</span><br><span class="line">      }</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">for(int i=0;i&lt;a.length;i++){</span><br><span class="line">System.out.print(a[i]+" ");</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
